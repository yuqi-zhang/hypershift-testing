{"ignition":{"config":{"replace":{"verification":{}}},"proxy":{},"security":{"tls":{}},"timeouts":{},"version":"3.2.0"},"passwd":{"users":[{"name":"core","sshAuthorizedKeys":["ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQCbXCby9r69mn+lGn7/mjZRkr+ShGWmVcXT4pbwA8IJBkjJg/EtXFuL1VjP5QbbWvjakQ1ZpMEYkL4V1Gm1etzkoDuMV+VhvvL8uW59XezLH1My9RQ5vtXY7GpB3t4qbTX2AQ5abAlTAoRgOxr5mKT62m3uUpU6HBWkcqwhNGRNPQOhUBybbpxMyakJ/TyS5F7GOajsCWdhx3ErldXrtUgbArPwR16Nh0lA3jO81QJnKzbkcaVlCNd8A3to0Dx1g5cel2HDK37Ri6xYZssh1qGN+fecc7Gf4lqvp1gGMtKMyZw8t54/cJrSeVhzi+mq8aeTIaOAwpoa8C4H80HE35wog1tsS0WALlPdNZ8IyPZRfhH3iG12X0WttB5x2hHngQaYzSWzs1TvEGwrci1Y8EFE1xXG6ArAPG5Iy79tmXlOZM/R/D1K6oVRrVB6T4fWKtHFHJExlRI6HWT+Qxye96RPWxEdKEhWzOLRrBiWPSXYCtT4SCbBirP4C/htnDNcMGlT/HIETVf0R+ixjnsqeYYQn15cXvWSSDQ4LTnW9vBrDLsWVFV8hJ4outZ67Ztf/tBuGKfUFzLkTCFhWJER1bbH7Zhxn5xCplI4REr2+PKnhRaPCrz6W2TRO94pACkJG3M4eP3OyCbVfC1N1c0+MPwwJ0R7TAllli94t5jQthu8xw==\n"]}]},"storage":{"files":[{"group":{},"overwrite":true,"path":"/etc/NetworkManager/conf.d/20-keyfiles.conf","user":{},"contents":{"source":"data:,%5Bkeyfile%5D%0Apath%3D%2Fetc%2FNetworkManager%2Fsystem-connections%0A","verification":{}},"mode":420},{"group":{},"overwrite":true,"path":"/etc/pki/ca-trust/source/anchors/openshift-config-user-ca-bundle.crt","user":{},"contents":{"source":"data:,","verification":{}},"mode":384},{"group":{},"overwrite":true,"path":"/etc/audit/rules.d/mco-audit-quiet-containers.rules","user":{},"contents":{"source":"data:,%23%20This%20file%20is%20managed%20by%20machine-config-operator.%0A%23%20Suppress%20audit%20rules%20which%20always%20trigger%20for%20container%0A%23%20workloads%2C%20as%20they%20spam%20the%20audit%20log.%20%20Workloads%20are%20expected%0A%23%20to%20be%20dynamic%2C%20and%20the%20networking%20stack%20uses%20iptables.%0A-a%20exclude%2Calways%20-F%20msgtype%3DNETFILTER_CFG%0A%23%20The%20default%20bridged%20networking%20enables%20promiscuous%20on%20the%20veth%0A%23%20device.%20%20Ideally%2C%20we'd%20teach%20audit%20to%20ignore%20only%20veth%20devices%2C%0A%23%20since%20one%20might%20legitimately%20care%20about%20promiscuous%20on%20real%20physical%0A%23%20devices.%20%20But%20we%20can't%20currently%20differentiate.%0A-a%20exclude%2Calways%20-F%20msgtype%3DANOM_PROMISCUOUS%0A","verification":{}},"mode":420},{"group":{},"overwrite":true,"path":"/etc/tmpfiles.d/cleanup-cni.conf","user":{},"contents":{"source":"data:,r%20%2Fetc%2Fkubernetes%2Fcni%2Fnet.d%2F80-openshift-network.conf%0Ar%20%2Fetc%2Fkubernetes%2Fcni%2Fnet.d%2F10-ovn-kubernetes.conf%0Ad%20%2Frun%2Fmultus%2Fcni%2Fnet.d%2F%200755%20root%20root%20-%20-%0AD%20%2Fvar%2Flib%2Fcni%2Fnetworks%2Fopenshift-sdn%2F%200755%20root%20root%20-%20-%0A","verification":{}},"mode":420},{"group":{},"overwrite":true,"path":"/etc/kubernetes/static-pod-resources/configmaps/cloud-config/ca-bundle.pem","user":{},"contents":{"source":"data:,","verification":{}},"mode":420},{"group":{},"overwrite":true,"path":"/usr/local/bin/configure-ovs.sh","user":{},"contents":{"source":"data:,%23!%2Fbin%2Fbash%0Aset%20-eux%0A%23%20This%20file%20is%20not%20needed%20anymore%20in%204.7%2B%2C%20but%20when%20rolling%20back%20to%204.6%0A%23%20the%20ovs%20pod%20needs%20it%20to%20know%20ovs%20is%20running%20on%20the%20host.%0Atouch%20%2Fvar%2Frun%2Fovs-config-executed%0ANM_CONN_PATH%3D%22%2Fetc%2FNetworkManager%2Fsystem-connections%22%0A%0AMANAGED_NM_CONN_SUFFIX%3D%22-slave-ovs-clone%22%0A%23%20Workaround%20to%20ensure%20OVS%20is%20installed%20due%20to%20bug%20in%20systemd%20Requires%3A%0A%23%20https%3A%2F%2Fbugzilla.redhat.com%2Fshow_bug.cgi%3Fid%3D1888017%0Acopy_nm_conn_files()%20%7B%0A%20%20local%20src_path%3D%22%24NM_CONN_PATH%22%0A%20%20local%20dst_path%3D%22%241%22%0A%20%20if%20%5B%20%22%24src_path%22%20%3D%20%22%24dst_path%22%20%5D%3B%20then%0A%20%20%20%20echo%20%22No%20need%20to%20copy%20configuration%20files%2C%20source%20and%20destination%20are%20the%20same%22%0A%20%20%20%20return%0A%20%20fi%0A%20%20if%20%5B%20-d%20%22%24src_path%22%20%5D%3B%20then%0A%20%20%20%20echo%20%22%24src_path%20exists%22%0A%20%20%20%20local%20files%3D(%22%24%7BMANAGED_NM_CONN_FILES%5B%40%5D%7D%22)%0A%20%20%20%20shopt%20-s%20nullglob%0A%20%20%20%20files%2B%3D(%24src_path%2F*%24%7BMANAGED_NM_CONN_SUFFIX%7D.nmconnection%20%24src_path%2F*%24%7BMANAGED_NM_CONN_SUFFIX%7D)%0A%20%20%20%20shopt%20-u%20nullglob%0A%20%20%20%20for%20file%20in%20%22%24%7Bfiles%5B%40%5D%7D%22%3B%20do%0A%20%20%20%20%20%20file%3D%22%24(basename%20%24file)%22%0A%20%20%20%20%20%20if%20%5B%20-f%20%22%24src_path%2F%24file%22%20%5D%3B%20then%0A%20%20%20%20%20%20%20%20if%20%5B%20!%20-f%20%22%24dst_path%2F%24file%22%20%5D%3B%20then%0A%20%20%20%20%20%20%20%20%20%20echo%20%22Copying%20configuration%20%24file%22%0A%20%20%20%20%20%20%20%20%20%20cp%20%22%24src_path%2F%24file%22%20%22%24dst_path%2F%24file%22%0A%20%20%20%20%20%20%20%20elif%20!%20cmp%20--silent%20%22%24src_path%2F%24file%22%20%22%24dst_path%2F%24file%22%3B%20then%0A%20%20%20%20%20%20%20%20%20%20echo%20%22Copying%20updated%20configuration%20%24file%22%0A%20%20%20%20%20%20%20%20%20%20cp%20-f%20%22%24src_path%2F%24file%22%20%22%24dst_path%2F%24file%22%0A%20%20%20%20%20%20%20%20else%0A%20%20%20%20%20%20%20%20%20%20echo%20%22Skipping%20%24file%20since%20it's%20equal%20at%20destination%22%0A%20%20%20%20%20%20%20%20fi%0A%20%20%20%20%20%20else%0A%20%20%20%20%20%20%20%20echo%20%22Skipping%20%24file%20since%20it%20does%20not%20exist%20at%20source%22%0A%20%20%20%20%20%20fi%0A%20%20%20%20done%0A%20%20fi%0A%7D%0A%0Aupdate_nm_conn_files()%20%7B%0A%20%20bridge_name%3D%24%7B1%7D%0A%20%20port_name%3D%24%7B2%7D%0A%20%20ovs_port%3D%22ovs-port-%24%7Bbridge_name%7D%22%0A%20%20ovs_interface%3D%22ovs-if-%24%7Bbridge_name%7D%22%0A%20%20default_port_name%3D%22ovs-port-%24%7Bport_name%7D%22%20%23%20ovs-port-phys0%0A%20%20bridge_interface_name%3D%22ovs-if-%24%7Bport_name%7D%22%20%23%20ovs-if-phys0%0A%23%20In%20RHEL7%20files%20in%20%2F%7Betc%2Crun%7D%2FNetworkManager%2Fsystem-connections%20end%20without%20the%20suffix%20'.nmconnection'%2C%20whereas%20in%20RHCOS%20they%20end%20with%20the%20suffix.%0A%20%20MANAGED_NM_CONN_FILES%3D(%24(echo%20%7B%22%24bridge_name%22%2C%22%24ovs_interface%22%2C%22%24ovs_port%22%2C%22%24bridge_interface_name%22%2C%22%24default_port_name%22%7D%20%7B%22%24bridge_name%22%2C%22%24ovs_interface%22%2C%22%24ovs_port%22%2C%22%24bridge_interface_name%22%2C%22%24default_port_name%22%7D.nmconnection))%0A%7D%0A%0A%23%20Used%20to%20remove%20files%20managed%20by%20configure-ovs%0Arm_nm_conn_files()%20%7B%0A%20%20local%20files%3D(%22%24%7BMANAGED_NM_CONN_FILES%5B%40%5D%7D%22)%0A%20%20shopt%20-s%20nullglob%0A%20%20files%2B%3D(%24%7BNM_CONN_PATH%7D%2F*%24%7BMANAGED_NM_CONN_SUFFIX%7D.nmconnection%20%24%7BNM_CONN_PATH%7D%2F*%24%7BMANAGED_NM_CONN_SUFFIX%7D)%0A%20%20shopt%20-u%20nullglob%0A%20%20for%20file%20in%20%22%24%7Bfiles%5B%40%5D%7D%22%3B%20do%0A%20%20%20%20file%3D%22%24(basename%20%24file)%22%0A%20%20%20%20file_path%3D%22%24%7BNM_CONN_PATH%7D%2F%24file%22%0A%20%20%20%20if%20%5B%20-f%20%22%24file_path%22%20%5D%3B%20then%0A%20%20%20%20%20%20rm%20-f%20%22%24file_path%22%0A%20%20%20%20%20%20echo%20%22Removed%20nmconnection%20file%20%24file_path%22%0A%20%20%20%20%20%20nm_conn_files_removed%3D1%0A%20%20%20%20fi%0A%20%20done%0A%7D%0A%0A%23%20Used%20to%20clone%20a%20slave%20connection%20by%20uuid%2C%20returns%20new%20uuid%0Aclone_slave_connection()%20%7B%0A%20%20local%20uuid%3D%22%241%22%0A%20%20local%20old_name%0A%20%20old_name%3D%22%24(nmcli%20-g%20connection.id%20connection%20show%20uuid%20%22%24uuid%22)%22%0A%20%20local%20new_name%3D%22%24%7Bold_name%7D%24%7BMANAGED_NM_CONN_SUFFIX%7D%22%0A%20%20if%20nmcli%20connection%20show%20id%20%22%24%7Bnew_name%7D%22%20%26%3E%20%2Fdev%2Fnull%3B%20then%0A%20%20%20%20echo%20%22WARN%3A%20existing%20ovs%20slave%20%24%7Bnew_name%7D%20connection%20profile%20file%20found%2C%20overwriting...%22%20%3E%262%0A%20%20%20%20nmcli%20connection%20delete%20id%20%22%24%7Bnew_name%7D%22%20%26%3E%20%2Fdev%2Fnull%0A%20%20fi%0A%20%20nmcli%20connection%20clone%20%24uuid%20%22%24%7Bnew_name%7D%22%20%26%3E%20%2Fdev%2Fnull%0A%20%20nmcli%20-g%20connection.uuid%20connection%20show%20%22%24%7Bnew_name%7D%22%0A%7D%0A%0A%23%20Used%20to%20replace%20an%20old%20master%20connection%20uuid%20with%20a%20new%20one%20on%20all%20connections%0Areplace_connection_master()%20%7B%0A%20%20local%20old%3D%22%241%22%0A%20%20local%20new%3D%22%242%22%0A%20%20for%20conn_uuid%20in%20%24(nmcli%20-g%20UUID%20connection%20show)%20%3B%20do%0A%20%20%20%20if%20%5B%20%22%24(nmcli%20-g%20connection.master%20connection%20show%20uuid%20%22%24conn_uuid%22)%22%20!%3D%20%22%24old%22%20%5D%3B%20then%0A%20%20%20%20%20%20continue%0A%20%20%20%20fi%0A%0A%20%20%20%20%23%20make%20changes%20for%20slave%20profiles%20in%20a%20new%20clone%0A%20%20%20%20local%20new_uuid%0A%20%20%20%20new_uuid%3D%24(clone_slave_connection%20%24conn_uuid)%0A%0A%20%20%20%20nmcli%20conn%20mod%20uuid%20%24new_uuid%20connection.master%20%22%24new%22%0A%20%20%20%20nmcli%20conn%20mod%20%24new_uuid%20connection.autoconnect-priority%20100%0A%20%20%20%20echo%20%22Replaced%20master%20%24old%20with%20%24new%20for%20slave%20profile%20%24new_uuid%22%0A%20%20done%0A%7D%0A%0A%0A%23%20when%20creating%20the%20bridge%2C%20we%20use%20a%20value%20lower%20than%20NM's%20ethernet%20device%20default%20route%20metric%0A%23%20(we%20pick%2049%20to%20be%20lower%20than%20anything%20that%20NM%20chooses%20by%20default)%0ABRIDGE_METRIC%3D%2249%22%0A%23%20Given%20an%20interface%2C%20generates%20NM%20configuration%20to%20add%20to%20an%20OVS%20bridge%0Aconvert_to_bridge()%20%7B%0A%20%20iface%3D%24%7B1%7D%0A%20%20bridge_name%3D%24%7B2%7D%0A%20%20port_name%3D%24%7B3%7D%0A%20%20ovs_port%3D%22ovs-port-%24%7Bbridge_name%7D%22%0A%20%20ovs_interface%3D%22ovs-if-%24%7Bbridge_name%7D%22%0A%20%20default_port_name%3D%22ovs-port-%24%7Bport_name%7D%22%20%23%20ovs-port-phys0%0A%20%20bridge_interface_name%3D%22ovs-if-%24%7Bport_name%7D%22%20%23%20ovs-if-phys0%0A%0A%20%20if%20%5B%20%22%24iface%22%20%3D%20%22%24bridge_name%22%20%5D%3B%20then%0A%20%20%20%20%23%20handle%20vlans%20and%20bonds%20etc%20if%20they%20have%20already%20been%0A%20%20%20%20%23%20configured%20via%20nm%20key%20files%20and%20br-ex%20is%20already%20up%0A%20%20%20%20ifaces%3D%24(ovs-vsctl%20list-ifaces%20%24%7Biface%7D)%0A%20%20%20%20for%20intf%20in%20%24ifaces%3B%20do%20configure_driver_options%20%24intf%3B%20done%0A%20%20%20%20echo%20%22Networking%20already%20configured%20and%20up%20for%20%24%7Bbridge-name%7D!%22%0A%20%20%20%20return%0A%20%20fi%0A%0A%20%20if%20%5B%20-z%20%22%24iface%22%20%5D%3B%20then%0A%20%20%20%20echo%20%22ERROR%3A%20Unable%20to%20find%20default%20gateway%20interface%22%0A%20%20%20%20exit%201%0A%20%20fi%0A%20%20%23%20find%20the%20MAC%20from%20OVS%20config%20or%20the%20default%20interface%20to%20use%20for%20OVS%20internal%20port%0A%20%20%23%20this%20prevents%20us%20from%20getting%20a%20different%20DHCP%20lease%20and%20dropping%20connection%0A%20%20if%20!%20iface_mac%3D%24(%3C%22%2Fsys%2Fclass%2Fnet%2F%24%7Biface%7D%2Faddress%22)%3B%20then%0A%20%20%20%20echo%20%22Unable%20to%20determine%20default%20interface%20MAC%22%0A%20%20%20%20exit%201%0A%20%20fi%0A%0A%20%20echo%20%22MAC%20address%20found%20for%20iface%3A%20%24%7Biface%7D%3A%20%24%7Biface_mac%7D%22%0A%0A%20%20%23%20find%20MTU%20from%20original%20iface%0A%20%20iface_mtu%3D%24(ip%20link%20show%20%22%24iface%22%20%7C%20awk%20'%7Bprint%20%245%3B%20exit%7D')%0A%20%20if%20%5B%5B%20-z%20%22%24iface_mtu%22%20%5D%5D%3B%20then%0A%20%20%20%20echo%20%22Unable%20to%20determine%20default%20interface%20MTU%2C%20defaulting%20to%201500%22%0A%20%20%20%20iface_mtu%3D1500%0A%20%20else%0A%20%20%20%20echo%20%22MTU%20found%20for%20iface%3A%20%24%7Biface%7D%3A%20%24%7Biface_mtu%7D%22%0A%20%20fi%0A%0A%20%20%23%20store%20old%20conn%20for%20later%0A%20%20old_conn%3D%24(nmcli%20--fields%20UUID%2CDEVICE%20conn%20show%20--active%20%7C%20awk%20%22%2F%5Cs%24%7Biface%7D%5Cs*%5C%24%2F%20%7Bprint%20%5C%241%7D%22)%0A%0A%20%20extra_brex_args%3D%22%22%0A%20%20%23%20check%20for%20dhcp%20client%20ids%0A%20%20dhcp_client_id%3D%24(nmcli%20--get-values%20ipv4.dhcp-client-id%20conn%20show%20%24%7Bold_conn%7D)%0A%20%20if%20%5B%20-n%20%22%24dhcp_client_id%22%20%5D%3B%20then%0A%20%20%20%20extra_brex_args%2B%3D%22ipv4.dhcp-client-id%20%24%7Bdhcp_client_id%7D%20%22%0A%20%20fi%0A%0A%20%20dhcp6_client_id%3D%24(nmcli%20--get-values%20ipv6.dhcp-duid%20conn%20show%20%24%7Bold_conn%7D)%0A%20%20if%20%5B%20-n%20%22%24dhcp6_client_id%22%20%5D%3B%20then%0A%20%20%20%20extra_brex_args%2B%3D%22ipv6.dhcp-duid%20%24%7Bdhcp6_client_id%7D%20%22%0A%20%20fi%0A%0A%20%20ipv6_addr_gen_mode%3D%24(nmcli%20--get-values%20ipv6.addr-gen-mode%20conn%20show%20%24%7Bold_conn%7D)%0A%20%20if%20%5B%20-n%20%22%24ipv6_addr_gen_mode%22%20%5D%3B%20then%0A%20%20%20%20extra_brex_args%2B%3D%22ipv6.addr-gen-mode%20%24%7Bipv6_addr_gen_mode%7D%20%22%0A%20%20fi%0A%0A%20%20%23%20create%20bridge%0A%20%20if%20!%20nmcli%20connection%20show%20%22%24bridge_name%22%20%26%3E%20%2Fdev%2Fnull%3B%20then%0A%20%20%20%20ovs-vsctl%20--timeout%3D30%20--if-exists%20del-br%20%22%24bridge_name%22%0A%20%20%20%20nmcli%20c%20add%20type%20ovs-bridge%20%5C%0A%20%20%20%20%20%20%20%20con-name%20%22%24bridge_name%22%20%5C%0A%20%20%20%20%20%20%20%20conn.interface%20%22%24bridge_name%22%20%5C%0A%20%20%20%20%20%20%20%20802-3-ethernet.mtu%20%24%7Biface_mtu%7D%20%5C%0A%20%20%20%20%20%20%20%20ipv4.route-metric%20%22%24BRIDGE_METRIC%22%20%5C%0A%20%20%20%20%20%20%20%20ipv6.route-metric%20%22%24BRIDGE_METRIC%22%20%5C%0A%20%20%20%20%20%20%20%20%24%7Bextra_brex_args%7D%0A%20%20fi%0A%0A%20%20%23%20find%20default%20port%20to%20add%20to%20bridge%0A%20%20if%20!%20nmcli%20connection%20show%20%22%24default_port_name%22%20%26%3E%20%2Fdev%2Fnull%3B%20then%0A%20%20%20%20ovs-vsctl%20--timeout%3D30%20--if-exists%20del-port%20%22%24bridge_name%22%20%24%7Biface%7D%0A%20%20%20%20nmcli%20c%20add%20type%20ovs-port%20conn.interface%20%24%7Biface%7D%20master%20%22%24bridge_name%22%20con-name%20%22%24default_port_name%22%0A%20%20fi%0A%0A%20%20if%20!%20nmcli%20connection%20show%20%22%24ovs_port%22%20%26%3E%20%2Fdev%2Fnull%3B%20then%0A%20%20%20%20ovs-vsctl%20--timeout%3D30%20--if-exists%20del-port%20%22%24bridge_name%22%20%22%24bridge_name%22%0A%20%20%20%20nmcli%20c%20add%20type%20ovs-port%20conn.interface%20%22%24bridge_name%22%20master%20%22%24bridge_name%22%20con-name%20%22%24ovs_port%22%0A%20%20fi%0A%0A%20%20extra_phys_args%3D()%0A%20%20%23%20check%20if%20this%20interface%20is%20a%20vlan%2C%20bond%2C%20team%2C%20or%20ethernet%20type%0A%20%20if%20%5B%20%24(nmcli%20--get-values%20connection.type%20conn%20show%20%24%7Bold_conn%7D)%20%3D%3D%20%22vlan%22%20%5D%3B%20then%0A%20%20%20%20iface_type%3Dvlan%0A%20%20%20%20vlan_id%3D%24(nmcli%20--get-values%20vlan.id%20conn%20show%20%24%7Bold_conn%7D)%0A%20%20%20%20if%20%5B%20-z%20%22%24vlan_id%22%20%5D%3B%20then%0A%20%20%20%20%20%20echo%20%22ERROR%3A%20unable%20to%20determine%20vlan_id%20for%20vlan%20connection%3A%20%24%7Bold_conn%7D%22%0A%20%20%20%20%20%20exit%201%0A%20%20%20%20fi%0A%20%20%20%20vlan_parent%3D%24(nmcli%20--get-values%20vlan.parent%20conn%20show%20%24%7Bold_conn%7D)%0A%20%20%20%20if%20%5B%20-z%20%22%24vlan_parent%22%20%5D%3B%20then%0A%20%20%20%20%20%20echo%20%22ERROR%3A%20unable%20to%20determine%20vlan_parent%20for%20vlan%20connection%3A%20%24%7Bold_conn%7D%22%0A%20%20%20%20%20%20exit%201%0A%20%20%20%20fi%0A%20%20%20%20extra_phys_args%3D(%20dev%20%22%24%7Bvlan_parent%7D%22%20id%20%22%24%7Bvlan_id%7D%22%20)%0A%20%20elif%20%5B%20%24(nmcli%20--get-values%20connection.type%20conn%20show%20%24%7Bold_conn%7D)%20%3D%3D%20%22bond%22%20%5D%3B%20then%0A%20%20%20%20iface_type%3Dbond%0A%20%20%20%20%23%20check%20bond%20options%0A%20%20%20%20bond_opts%3D%24(nmcli%20--get-values%20bond.options%20conn%20show%20%24%7Bold_conn%7D)%0A%20%20%20%20if%20%5B%20-n%20%22%24bond_opts%22%20%5D%3B%20then%0A%20%20%20%20%20%20extra_phys_args%2B%3D(%20bond.options%20%22%24%7Bbond_opts%7D%22%20)%0A%20%20%20%20fi%0A%20%20elif%20%5B%20%24(nmcli%20--get-values%20connection.type%20conn%20show%20%24%7Bold_conn%7D)%20%3D%3D%20%22team%22%20%5D%3B%20then%0A%20%20%20%20iface_type%3Dteam%0A%20%20%20%20%23%20check%20team%20config%20options%0A%20%20%20%20team_config_opts%3D%24(nmcli%20--get-values%20team.config%20-e%20no%20conn%20show%20%24%7Bold_conn%7D)%0A%20%20%20%20if%20%5B%20-n%20%22%24team_config_opts%22%20%5D%3B%20then%0A%20%20%20%20%20%20%23%20team.config%20is%20json%2C%20remove%20spaces%20to%20avoid%20problems%20later%20on%0A%20%20%20%20%20%20extra_phys_args%2B%3D(%20team.config%20%22%24%7Bteam_config_opts%2F%2F%5B%5B%3Aspace%3A%5D%5D%2F%7D%22%20)%0A%20%20%20%20fi%0A%20%20else%0A%20%20%20%20iface_type%3D802-3-ethernet%0A%20%20fi%0A%0A%20%20%23%20use%20%24%7Bextra_phys_args%5B%40%5D%2B%22%24%7Bextra_phys_args%5B%40%5D%7D%22%7D%20instead%20of%20%24%7Bextra_phys_args%5B%40%5D%7D%20to%20be%20compatible%20with%20bash%204.2%20in%20RHEL7.9%0A%20%20if%20!%20nmcli%20connection%20show%20%22%24bridge_interface_name%22%20%26%3E%20%2Fdev%2Fnull%3B%20then%0A%20%20%20%20ovs-vsctl%20--timeout%3D30%20--if-exists%20destroy%20interface%20%24%7Biface%7D%0A%20%20%20%20nmcli%20c%20add%20type%20%24%7Biface_type%7D%20conn.interface%20%24%7Biface%7D%20master%20%22%24default_port_name%22%20con-name%20%22%24bridge_interface_name%22%20%5C%0A%20%20%20%20connection.autoconnect-priority%20100%20802-3-ethernet.mtu%20%24%7Biface_mtu%7D%20%24%7Bextra_phys_args%5B%40%5D%2B%22%24%7Bextra_phys_args%5B%40%5D%7D%22%7D%0A%20%20fi%0A%0A%20%20%23%20Get%20the%20new%20connection%20uuid%0A%20%20new_conn%3D%24(nmcli%20-g%20connection.uuid%20conn%20show%20%22%24bridge_interface_name%22)%0A%0A%20%20%23%20Update%20connections%20with%20master%20property%20set%20to%20use%20the%20new%20connection%0A%20%20replace_connection_master%20%24old_conn%20%24new_conn%0A%20%20replace_connection_master%20%24iface%20%24new_conn%0A%0A%20%20if%20!%20nmcli%20connection%20show%20%22%24ovs_interface%22%20%26%3E%20%2Fdev%2Fnull%3B%20then%0A%20%20%20%20ovs-vsctl%20--timeout%3D30%20--if-exists%20destroy%20interface%20%22%24bridge_name%22%0A%20%20%20%20if%20nmcli%20--fields%20ipv4.method%2Cipv6.method%20conn%20show%20%24old_conn%20%7C%20grep%20manual%3B%20then%0A%20%20%20%20%20%20echo%20%22Static%20IP%20addressing%20detected%20on%20default%20gateway%20connection%3A%20%24%7Bold_conn%7D%22%0A%20%20%20%20%20%20%23%20find%20and%20copy%20the%20old%20connection%20to%20get%20the%20address%20settings%0A%20%20%20%20%20%20if%20egrep%20-l%20%22%5Euuid%3D%24old_conn%22%20%24%7BNM_CONN_PATH%7D%2F*%3B%20then%0A%20%20%20%20%20%20%20%20old_conn_file%3D%24(egrep%20-l%20%22%5Euuid%3D%24old_conn%22%20%24%7BNM_CONN_PATH%7D%2F*)%0A%20%20%20%20%20%20%20%20cloned%3Dfalse%0A%20%20%20%20%20%20else%0A%20%20%20%20%20%20%20%20echo%20%22WARN%3A%20unable%20to%20find%20NM%20configuration%20file%20for%20conn%3A%20%24%7Bold_conn%7D.%20Attempting%20to%20clone%20conn%22%0A%20%20%20%20%20%20%20%20nmcli%20conn%20clone%20%24%7Bold_conn%7D%20%24%7Bold_conn%7D-clone%0A%20%20%20%20%20%20%20%20shopt%20-s%20nullglob%0A%20%20%20%20%20%20%20%20old_conn_files%3D(%24%7BNM_CONN_PATH%7D%2F%22%24%7Bold_conn%7D%22-clone*)%0A%20%20%20%20%20%20%20%20shopt%20-u%20nullglob%0A%20%20%20%20%20%20%20%20if%20%5B%20%24%7B%23old_conn_files%5B%40%5D%7D%20-ne%201%20%5D%3B%20then%0A%20%20%20%20%20%20%20%20%20%20echo%20%22ERROR%3A%20unable%20to%20locate%20cloned%20conn%20file%20for%20%24%7Bold_conn%7D-clone%22%0A%20%20%20%20%20%20%20%20%20%20exit%201%0A%20%20%20%20%20%20%20%20fi%0A%20%20%20%20%20%20%20%20old_conn_file%3D%22%24%7Bold_conn_files%5B0%5D%7D%22%0A%20%20%20%20%20%20%20%20cloned%3Dtrue%0A%20%20%20%20%20%20%20%20echo%20%22Successfully%20cloned%20conn%20to%20%24%7Bold_conn_file%7D%22%0A%20%20%20%20%20%20fi%0A%20%20%20%20%20%20echo%20%22old%20connection%20file%20found%20at%3A%20%24%7Bold_conn_file%7D%22%0A%20%20%20%20%20%20old_basename%3D%24(basename%20%22%24%7Bold_conn_file%7D%22%20.nmconnection)%0A%20%20%20%20%20%20new_conn_file%3D%22%24%7Bold_conn_file%2F%24%7BNM_CONN_PATH%7D%5C%2F%24old_basename%2F%24%7BNM_CONN_PATH%7D%2F%24ovs_interface%7D%22%0A%20%20%20%20%20%20if%20%5B%20-f%20%22%24new_conn_file%22%20%5D%3B%20then%0A%20%20%20%20%20%20%20%20echo%20%22WARN%3A%20existing%20%24bridge_name%20interface%20file%20found%3A%20%24new_conn_file%2C%20which%20is%20not%20loaded%20in%20NetworkManager...overwriting%22%0A%20%20%20%20%20%20fi%0A%20%20%20%20%20%20cp%20-f%20%22%24%7Bold_conn_file%7D%22%20%24%7Bnew_conn_file%7D%0A%20%20%20%20%20%20restorecon%20%24%7Bnew_conn_file%7D%0A%20%20%20%20%20%20if%20%24cloned%3B%20then%0A%20%20%20%20%20%20%20%20nmcli%20conn%20delete%20%24%7Bold_conn%7D-clone%0A%20%20%20%20%20%20%20%20rm%20-f%20%22%24%7Bold_conn_file%7D%22%0A%20%20%20%20%20%20fi%0A%20%20%20%20%20%20ovs_port_conn%3D%24(nmcli%20--fields%20connection.uuid%20conn%20show%20%22%24ovs_port%22%20%7C%20awk%20'%7Bprint%20%242%7D')%0A%20%20%20%20%20%20br_iface_uuid%3D%24(cat%20%2Fproc%2Fsys%2Fkernel%2Frandom%2Fuuid)%0A%20%20%20%20%20%20%23%20modify%20file%20to%20work%20with%20OVS%20and%20have%20unique%20settings%0A%20%20%20%20%20%20sed%20-i%20'%2F%5E%5C%5Bconnection%5C%5D%24%2F%2C%2F%5E%5C%5B%2F%20s%2F%5Euuid%3D.*%24%2Fuuid%3D'%22%24br_iface_uuid%22'%2F'%20%24%7Bnew_conn_file%7D%0A%20%20%20%20%20%20sed%20-i%20'%2F%5Emulti-connect%3D.*%24%2Fd'%20%24%7Bnew_conn_file%7D%0A%20%20%20%20%20%20sed%20-i%20'%2F%5E%5C%5Bconnection%5C%5D%24%2F%2C%2F%5E%5C%5B%2F%20s%2F%5Etype%3D.*%24%2Ftype%3Dovs-interface%2F'%20%24%7Bnew_conn_file%7D%0A%20%20%20%20%20%20sed%20-i%20'%2F%5E%5C%5Bconnection%5C%5D%24%2F%2C%2F%5E%5C%5B%2F%20s%2F%5Eid%3D.*%24%2Fid%3D'%22%24ovs_interface%22'%2F'%20%24%7Bnew_conn_file%7D%0A%20%20%20%20%20%20sed%20-i%20'%2F%5E%5C%5Bconnection%5C%5D%24%2Fa%20slave-type%3Dovs-port'%20%24%7Bnew_conn_file%7D%0A%20%20%20%20%20%20sed%20-i%20'%2F%5E%5C%5Bconnection%5C%5D%24%2Fa%20master%3D'%22%24ovs_port_conn%22%20%24%7Bnew_conn_file%7D%0A%20%20%20%20%20%20if%20grep%20'interface-name%3D'%20%24%7Bnew_conn_file%7D%20%26%3E%20%2Fdev%2Fnull%3B%20then%0A%20%20%20%20%20%20%20%20sed%20-i%20'%2F%5E%5C%5Bconnection%5C%5D%24%2F%2C%2F%5E%5C%5B%2F%20s%2F%5Einterface-name%3D.*%24%2Finterface-name%3D'%22%24bridge_name%22'%2F'%20%24%7Bnew_conn_file%7D%0A%20%20%20%20%20%20else%0A%20%20%20%20%20%20%20%20sed%20-i%20'%2F%5E%5C%5Bconnection%5C%5D%24%2Fa%20interface-name%3D'%22%24bridge_name%22%20%24%7Bnew_conn_file%7D%0A%20%20%20%20%20%20fi%0A%20%20%20%20%20%20if%20!%20grep%20'cloned-mac-address%3D'%20%24%7Bnew_conn_file%7D%20%26%3E%20%2Fdev%2Fnull%3B%20then%0A%20%20%20%20%20%20%20%20sed%20-i%20'%2F%5E%5C%5Bethernet%5C%5D%24%2Fa%20cloned-mac-address%3D'%22%24iface_mac%22%20%24%7Bnew_conn_file%7D%0A%20%20%20%20%20%20else%0A%20%20%20%20%20%20%20%20sed%20-i%20'%2F%5E%5C%5Bethernet%5C%5D%24%2F%2C%2F%5E%5C%5B%2F%20s%2F%5Ecloned-mac-address%3D.*%24%2Fcloned-mac-address%3D'%22%24iface_mac%22'%2F'%20%24%7Bnew_conn_file%7D%0A%20%20%20%20%20%20fi%0A%20%20%20%20%20%20if%20grep%20'mtu%3D'%20%24%7Bnew_conn_file%7D%20%26%3E%20%2Fdev%2Fnull%3B%20then%0A%20%20%20%20%20%20%20%20sed%20-i%20'%2F%5E%5C%5Bethernet%5C%5D%24%2F%2C%2F%5E%5C%5B%2F%20s%2F%5Emtu%3D.*%24%2Fmtu%3D'%22%24iface_mtu%22'%2F'%20%24%7Bnew_conn_file%7D%0A%20%20%20%20%20%20else%0A%20%20%20%20%20%20%20%20sed%20-i%20'%2F%5E%5C%5Bethernet%5C%5D%24%2Fa%20mtu%3D'%22%24iface_mtu%22%20%24%7Bnew_conn_file%7D%0A%20%20%20%20%20%20fi%0A%20%20%20%20%20%20cat%20%3C%3CEOF%20%3E%3E%20%24%7Bnew_conn_file%7D%0A%5Bovs-interface%5D%0Atype%3Dinternal%0AEOF%0A%20%20%20%20%20%20nmcli%20c%20load%20%24%7Bnew_conn_file%7D%0A%20%20%20%20%20%20echo%20%22Loaded%20new%20%24ovs_interface%20connection%20file%3A%20%24%7Bnew_conn_file%7D%22%0A%20%20%20%20else%0A%20%20%20%20%20%20extra_if_brex_args%3D%22%22%0A%20%20%20%20%20%20%23%20check%20if%20interface%20had%20ipv4%2Fipv6%20addresses%20assigned%0A%20%20%20%20%20%20num_ipv4_addrs%3D%24(ip%20-j%20a%20show%20dev%20%24%7Biface%7D%20%7C%20jq%20%22.%5B0%5D.addr_info%20%7C%20map(.%20%7C%20select(.family%20%3D%3D%20%5C%22inet%5C%22))%20%7C%20length%22)%0A%20%20%20%20%20%20if%20%5B%20%22%24num_ipv4_addrs%22%20-gt%200%20%5D%3B%20then%0A%20%20%20%20%20%20%20%20extra_if_brex_args%2B%3D%22ipv4.may-fail%20no%20%22%0A%20%20%20%20%20%20fi%0A%0A%20%20%20%20%20%20%23%20IPV6%20should%20have%20at%20least%20a%20link%20local%20address.%20Check%20for%20more%20than%201%20to%20see%20if%20there%20is%20an%0A%20%20%20%20%20%20%23%20assigned%20address.%0A%20%20%20%20%20%20num_ip6_addrs%3D%24(ip%20-j%20a%20show%20dev%20%24%7Biface%7D%20%7C%20jq%20%22.%5B0%5D.addr_info%20%7C%20map(.%20%7C%20select(.family%20%3D%3D%20%5C%22inet6%5C%22%20and%20.scope%20!%3D%20%5C%22link%5C%22))%20%7C%20length%22)%0A%20%20%20%20%20%20if%20%5B%20%22%24num_ip6_addrs%22%20-gt%200%20%5D%3B%20then%0A%20%20%20%20%20%20%20%20extra_if_brex_args%2B%3D%22ipv6.may-fail%20no%20%22%0A%20%20%20%20%20%20fi%0A%0A%20%20%20%20%20%20nmcli%20c%20add%20type%20ovs-interface%20slave-type%20ovs-port%20conn.interface%20%22%24bridge_name%22%20master%20%22%24ovs_port%22%20con-name%20%5C%0A%20%20%20%20%20%20%20%20%22%24ovs_interface%22%20802-3-ethernet.mtu%20%24%7Biface_mtu%7D%20802-3-ethernet.cloned-mac-address%20%24%7Biface_mac%7D%20%5C%0A%20%20%20%20%20%20%20%20ipv4.route-metric%20%22%24BRIDGE_METRIC%22%20ipv6.route-metric%20%22%24BRIDGE_METRIC%22%20%24%7Bextra_if_brex_args%7D%0A%20%20%20%20fi%0A%20%20fi%0A%0A%20%20configure_driver_options%20%22%24%7Biface%7D%22%0A%20%20update_nm_conn_files%20%22%24bridge_name%22%20%22%24port_name%22%0A%7D%0A%0A%23%20Used%20to%20remove%20a%20bridge%0Aremove_ovn_bridges()%20%7B%0A%20%20bridge_name%3D%24%7B1%7D%0A%20%20port_name%3D%24%7B2%7D%0A%0A%20%20%23%20Reload%20configuration%2C%20after%20reload%20the%20preferred%20connection%20profile%0A%20%20%23%20should%20be%20auto-activated%0A%20%20update_nm_conn_files%20%24%7Bbridge_name%7D%20%24%7Bport_name%7D%0A%20%20rm_nm_conn_files%0A%0A%20%20%23%20NetworkManager%20will%20not%20remove%20%24%7Bbridge_name%7D%20if%20it%20has%20the%20patch%20port%20created%20by%20ovn-kubernetes%0A%20%20%23%20so%20remove%20explicitly%0A%20%20ovs-vsctl%20--timeout%3D30%20--if-exists%20del-br%20%24%7Bbridge_name%7D%0A%7D%0A%0A%23%20Removes%20any%20previous%20ovs%20configuration%0Aremove_all_ovn_bridges()%20%7B%0A%20%20echo%20%22Reverting%20any%20previous%20OVS%20configuration%22%0A%20%20%0A%20%20remove_ovn_bridges%20br-ex%20phys0%0A%20%20if%20%5B%20-d%20%22%2Fsys%2Fclass%2Fnet%2Fbr-ex1%22%20%5D%3B%20then%0A%20%20%20%20remove_ovn_bridges%20br-ex1%20phys1%0A%20%20fi%0A%20%20%0A%20%20echo%20%22OVS%20configuration%20successfully%20reverted%22%0A%7D%0A%0A%23%20Reloads%20NetworkManager%0Areload_nm()%20%7B%0A%20%20echo%20%22Reloading%20NetworkManager...%22%0A%0A%20%20%23%20set%20network%20off%2C%20so%20that%20auto-connect%20priority%20is%20evaluated%20when%20turning%0A%20%20%23%20it%20back%20on%0A%20%20nmcli%20network%20off%0A%20%20%0A%20%20%23%20restart%20NetworkManager%20to%20reload%20profiles%2C%20including%20generating%0A%20%20%23%20transient%20profiles%20for%20devices%20that%20don't%20have%20any%0A%20%20systemctl%20restart%20NetworkManager%0A%0A%20%20%23%20turn%20network%20back%20on%20triggering%20auto-connects%20%0A%20%20nmcli%20network%20on%0A%0A%20%20%23%20Wait%20until%20all%20profiles%20auto-connect%0A%20%20if%20nm-online%20-s%20-t%2060%3B%20then%0A%20%20%20%20echo%20%22NetworkManager%20has%20activated%20all%20suitable%20profiles%20after%20reload%22%0A%20%20else%0A%20%20%20%20echo%20%22NetworkManager%20has%20not%20activated%20all%20suitable%20profiles%20after%20reload%22%0A%20%20fi%0A%0A%20%20%23%20Check%20if%20we%20have%20any%20type%20of%20connectivity%0A%20%20if%20nm-online%20-t%200%3B%20then%0A%20%20%20%20echo%20%22NetworkManager%20has%20connectivity%20after%20reload%22%0A%20%20else%0A%20%20%20%20echo%20%22NetworkManager%20does%20not%20have%20connectivity%20after%20reload%22%0A%20%20fi%0A%7D%0A%0A%23%20Removes%20all%20configuration%20and%20reloads%20NM%20if%20necessary%0Arollback_nm()%20%7B%0A%20%20%23%20This%20will%20be%20set%20to%201%20if%20remove_all_ovn_bridges%20actually%20changes%20anything%0A%20%20nm_conn_files_removed%3D0%0A%0A%20%20%23%20Revert%20changes%20made%20by%20%2Fusr%2Flocal%2Fbin%2Fconfigure-ovs.sh%20during%20SDN%20migration.%0A%20%20remove_all_ovn_bridges%0A%20%20%0A%20%20%23%20Reload%20only%20if%20we%20removed%20connection%20profiles%0A%20%20if%20%5B%20%24nm_conn_files_removed%20-eq%201%20%5D%3B%20then%0A%20%20%20%20echo%20%22OVS%20configuration%20was%20cleaned%20up%2C%20will%20reload%20NetworkManager%22%0A%20%20%20%20reload_nm%0A%20%20fi%0A%7D%0A%0A%23%20Activates%20a%20NM%20connection%20profile%0Aactivate_nm_conn()%20%7B%0A%20%20local%20conn%3D%22%241%22%0A%20%20for%20i%20in%20%7B1..10%7D%3B%20do%0A%20%20%20%20echo%20%22Attempt%20%24i%20to%20bring%20up%20connection%20%24conn%22%0A%20%20%20%20nmcli%20conn%20up%20%22%24conn%22%20%26%26%20s%3D0%20%26%26%20break%20%7C%7C%20s%3D%24%3F%0A%20%20%20%20sleep%205%0A%20%20done%0A%20%20if%20%5B%20%24s%20-eq%200%20%5D%3B%20then%0A%20%20%20%20echo%20%22Brought%20up%20connection%20%24conn%20successfully%22%0A%20%20else%0A%20%20%20%20echo%20%22ERROR%3A%20Cannot%20bring%20up%20connection%20%24conn%20after%20%24i%20attempts%22%0A%20%20fi%0A%20%20return%20%24s%0A%7D%0A%0A%23%20Used%20to%20print%20network%20state%0Aprint_state()%20%7B%0A%20%20echo%20%22Current%20device%2C%20connection%2C%20interface%20and%20routing%20state%3A%22%0A%20%20nmcli%20-g%20all%20device%20%7C%20grep%20-v%20unmanaged%0A%20%20nmcli%20-g%20all%20connection%0A%20%20ip%20-d%20address%20show%0A%20%20ip%20route%20show%0A%20%20ip%20-6%20route%20show%0A%7D%0A%0A%23%20Setup%20an%20exit%20trap%20to%20rollback%20on%20error%0Ahandle_exit()%20%7B%0A%20%20e%3D%24%3F%0A%20%20%5B%20%24e%20-eq%200%20%5D%20%26%26%20print_state%20%26%26%20exit%200%0A%0A%20%20echo%20%22ERROR%3A%20configure-ovs%20exited%20with%20error%3A%20%24e%22%0A%20%20print_state%0A%0A%20%20%23%20copy%20configuration%20to%20tmp%0A%20%20dir%3D%24(mktemp%20-d%20-t%20%22configure-ovs-%24(date%20%2B%25Y-%25m-%25d-%25H-%25M-%25S)-XXXXXXXXXX%22)%0A%20%20update_nm_conn_files%20br-ex%20phys0%0A%20%20copy_nm_conn_files%20%22%24dir%22%0A%20%20update_nm_conn_files%20br-ex1%20phys1%0A%20%20copy_nm_conn_files%20%22%24dir%22%0A%20%20echo%20%22Copied%20OVS%20configuration%20to%20%24dir%20for%20troubleshooting%22%0A%0A%20%20%23%20attempt%20to%20restore%20the%20previous%20network%20state%0A%20%20echo%20%22Attempting%20to%20restore%20previous%20configuration...%22%0A%20%20rollback_nm%0A%20%20print_state%0A%0A%20%20exit%20%24e%0A%7D%0Atrap%20%22handle_exit%22%20EXIT%0A%0A%23%20Clean%20up%20old%20config%20on%20behalf%20of%20mtu-migration%0Aif%20%5B%20!%20-f%20%2Fetc%2Fcno%2Fmtu-migration%2Fconfig%20%5D%3B%20then%0A%20%20echo%20%22Cleaning%20up%20left%20over%20mtu%20migration%20configuration%22%0A%20%20rm%20-rf%20%2Fetc%2Fcno%2Fmtu-migration%0Afi%0A%0Aif%20!%20rpm%20-qa%20%7C%20grep%20-q%20openvswitch%3B%20then%0A%20%20echo%20%22Warning%3A%20Openvswitch%20package%20is%20not%20installed!%22%0A%20%20exit%201%0Afi%0A%0A%23%20print%20initial%20state%0Aprint_state%0A%0Aif%20%5B%20%22%241%22%20%3D%3D%20%22OVNKubernetes%22%20%5D%3B%20then%0A%20%20%23%20Configures%20NICs%20onto%20OVS%20bridge%20%22br-ex%22%0A%20%20%23%20Configuration%20is%20either%20auto-detected%20or%20provided%20through%20a%20config%20file%20written%20already%20in%20Network%20Manager%0A%20%20%23%20key%20files%20under%20%2Fetc%2FNetworkManager%2Fsystem-connections%2F%0A%20%20%23%20Managing%20key%20files%20is%20outside%20of%20the%20scope%20of%20this%20script%0A%0A%20%20%23%20if%20the%20interface%20is%20of%20type%20vmxnet3%20add%20multicast%20capability%20for%20that%20driver%0A%20%20%23%20REMOVEME%3A%20Once%20BZ%3A1854355%20is%20fixed%2C%20this%20needs%20to%20get%20removed.%0A%20%20function%20configure_driver_options%20%7B%0A%20%20%20%20intf%3D%241%0A%20%20%20%20if%20%5B%20!%20-f%20%22%2Fsys%2Fclass%2Fnet%2F%24%7Bintf%7D%2Fdevice%2Fuevent%22%20%5D%3B%20then%0A%20%20%20%20%20%20echo%20%22Device%20file%20doesn't%20exist%2C%20skipping%20setting%20multicast%20mode%22%0A%20%20%20%20else%0A%20%20%20%20%20%20driver%3D%24(cat%20%22%2Fsys%2Fclass%2Fnet%2F%24%7Bintf%7D%2Fdevice%2Fuevent%22%20%7C%20grep%20DRIVER%20%7C%20awk%20-F%20%22%3D%22%20'%7Bprint%20%242%7D')%0A%20%20%20%20%20%20echo%20%22Driver%20name%20is%22%20%24driver%0A%20%20%20%20%20%20if%20%5B%20%22%24driver%22%20%3D%20%22vmxnet3%22%20%5D%3B%20then%0A%20%20%20%20%20%20%20%20ifconfig%20%22%24intf%22%20allmulti%0A%20%20%20%20%20%20fi%0A%20%20%20%20fi%0A%20%20%7D%0A%0A%20%20%23%20on%20every%20boot%20we%20rollback%20and%20generate%20the%20configuration%20again%2C%20to%20take%0A%20%20%23%20in%20any%20changes%20that%20have%20possibly%20been%20applied%20in%20the%20standard%0A%20%20%23%20configuration%20sources%0A%20%20if%20%5B%20!%20-f%20%2Frun%2Fconfigure-ovs-boot-done%20%5D%3B%20then%0A%20%20%20%20echo%20%22Running%20on%20boot%2C%20restoring%20previous%20configuration%20before%20proceeding...%22%0A%20%20%20%20rollback_nm%0A%20%20%20%20print_state%0A%20%20fi%0A%20%20touch%20%2Frun%2Fconfigure-ovs-boot-done%0A%0A%20%20iface%3D%22%22%0A%20%20counter%3D0%0A%20%20%23%20find%20default%20interface%0A%20%20while%20%5B%20%24counter%20-lt%2012%20%5D%3B%20do%0A%20%20%20%20%23%20check%20ipv4%0A%20%20%20%20iface%3D%24(ip%20route%20show%20default%20%7C%20awk%20'%7B%20if%20(%244%20%3D%3D%20%22dev%22)%20%7B%20print%20%245%3B%20exit%20%7D%20%7D')%0A%20%20%20%20if%20%5B%5B%20-n%20%22%24iface%22%20%5D%5D%3B%20then%0A%20%20%20%20%20%20echo%20%22IPv4%20Default%20gateway%20interface%20found%3A%20%24%7Biface%7D%22%0A%20%20%20%20%20%20break%0A%20%20%20%20fi%0A%20%20%20%20%23%20check%20ipv6%0A%20%20%20%20iface%3D%24(ip%20-6%20route%20show%20default%20%7C%20awk%20'%7B%20if%20(%244%20%3D%3D%20%22dev%22)%20%7B%20print%20%245%3B%20exit%20%7D%20%7D')%0A%20%20%20%20if%20%5B%5B%20-n%20%22%24iface%22%20%5D%5D%3B%20then%0A%20%20%20%20%20%20echo%20%22IPv6%20Default%20gateway%20interface%20found%3A%20%24%7Biface%7D%22%0A%20%20%20%20%20%20break%0A%20%20%20%20fi%0A%20%20%20%20counter%3D%24((counter%2B1))%0A%20%20%20%20echo%20%22No%20default%20route%20found%20on%20attempt%3A%20%24%7Bcounter%7D%22%0A%20%20%20%20sleep%205%0A%20%20done%0A%0A%20%20extra_bridge_file%3D'%2Fetc%2Fovnk%2Fextra_bridge'%0A%0A%20%20if%20%5B%20%22%24iface%22%20!%3D%20%22br-ex%22%20%5D%3B%20then%0A%20%20%20%20%23%20Default%20gateway%20is%20not%20br-ex.%0A%20%20%20%20%23%20Some%20deployments%20use%20a%20temporary%20solution%20where%20br-ex%20is%20moved%20out%20from%20the%20default%20gateway%20interface%0A%20%20%20%20%23%20and%20bound%20to%20a%20different%20nic%20(https%3A%2F%2Fgithub.com%2Ftrozet%2Fopenshift-ovn-migration).%0A%20%20%20%20%23%20This%20is%20now%20supported%20through%20an%20extra%20bridge%20if%20requested.%20If%20that%20is%20the%20case%2C%20we%20rollback.%0A%20%20%20%20%23%20We%20also%20rollback%20if%20it%20looks%20like%20we%20need%20to%20configure%20things%2C%20just%20in%20case%20there%20are%20any%20leftovers%0A%20%20%20%20%23%20from%20previous%20attempts.%0A%20%20%20%20if%20%5B%20-f%20%22%24extra_bridge_file%22%20%5D%20%7C%7C%20%5B%20-z%20%22%24(nmcli%20connection%20show%20--active%20br-ex%202%3E%20%2Fdev%2Fnull)%22%20%5D%3B%20then%0A%20%20%20%20%20%20echo%20%22Bridge%20br-ex%20is%20not%20active%2C%20restoring%20previous%20configuration%20before%20proceeding...%22%0A%20%20%20%20%20%20rollback_nm%0A%20%20%20%20%20%20print_state%0A%20%20%20%20fi%0A%20%20fi%0A%0A%20%20convert_to_bridge%20%22%24iface%22%20%22br-ex%22%20%22phys0%22%0A%0A%20%20%23%20Check%20if%20we%20need%20to%20configure%20the%20second%20bridge%0A%20%20if%20%5B%20-f%20%22%24extra_bridge_file%22%20%5D%20%26%26%20(!%20nmcli%20connection%20show%20br-ex1%20%26%3E%20%2Fdev%2Fnull%20%7C%7C%20!%20nmcli%20connection%20show%20ovs-if-phys1%20%26%3E%20%2Fdev%2Fnull)%3B%20then%0A%20%20%20%20interface%3D%24(head%20-n%201%20%24extra_bridge_file)%0A%20%20%20%20convert_to_bridge%20%22%24interface%22%20%22br-ex1%22%20%22phys1%22%0A%20%20fi%0A%0A%20%20%23%20Check%20if%20we%20need%20to%20remove%20the%20second%20bridge%0A%20%20if%20%5B%20!%20-f%20%22%24extra_bridge_file%22%20%5D%20%26%26%20(nmcli%20connection%20show%20br-ex1%20%26%3E%20%2Fdev%2Fnull%20%7C%7C%20nmcli%20connection%20show%20ovs-if-phys1%20%26%3E%20%2Fdev%2Fnull)%3B%20then%0A%20%20%20%20update_nm_conn_files%20br-ex1%20phys1%0A%20%20%20%20rm_nm_conn_files%0A%20%20fi%0A%0A%20%20%23%20Remove%20bridges%20created%20by%20openshift-sdn%0A%20%20ovs-vsctl%20--timeout%3D30%20--if-exists%20del-br%20br0%0A%20%20%0A%20%20%23%20Recycle%20NM%20connections%0A%20%20reload_nm%0A%0A%20%20%23%20Make%20sure%20everything%20is%20activated%0A%20%20activate_nm_conn%20ovs-if-phys0%0A%20%20activate_nm_conn%20ovs-if-br-ex%0A%20%20if%20%5B%20-f%20%22%24extra_bridge_file%22%20%5D%3B%20then%0A%20%20%20%20activate_nm_conn%20ovs-if-phys1%0A%20%20%20%20activate_nm_conn%20ovs-if-br-ex1%0A%20%20fi%0Aelif%20%5B%20%22%241%22%20%3D%3D%20%22OpenShiftSDN%22%20%5D%3B%20then%0A%20%20%23%20Revert%20changes%20made%20by%20%2Fusr%2Flocal%2Fbin%2Fconfigure-ovs.sh%20during%20SDN%20migration.%0A%20%20rollback_nm%0A%20%20%0A%20%20%23%20Remove%20bridges%20created%20by%20ovn-kubernetes%0A%20%20ovs-vsctl%20--timeout%3D30%20--if-exists%20del-br%20br-int%20--%20--if-exists%20del-br%20br-local%0Afi%0A","verification":{}},"mode":493},{"group":{},"overwrite":true,"path":"/etc/containers/storage.conf","user":{},"contents":{"source":"data:,%23%20This%20file%20is%20generated%20by%20the%20Machine%20Config%20Operator's%20containerruntimeconfig%20controller.%0A%23%0A%23%20storage.conf%20is%20the%20configuration%20file%20for%20all%20tools%0A%23%20that%20share%20the%20containers%2Fstorage%20libraries%0A%23%20See%20man%205%20containers-storage.conf%20for%20more%20information%0A%23%20The%20%22container%20storage%22%20table%20contains%20all%20of%20the%20server%20options.%0A%5Bstorage%5D%0A%0A%23%20Default%20Storage%20Driver%0Adriver%20%3D%20%22overlay%22%0A%0A%23%20Temporary%20storage%20location%0Arunroot%20%3D%20%22%2Fvar%2Frun%2Fcontainers%2Fstorage%22%0A%0A%23%20Primary%20Read%2FWrite%20location%20of%20container%20storage%0Agraphroot%20%3D%20%22%2Fvar%2Flib%2Fcontainers%2Fstorage%22%0A%0A%5Bstorage.options%5D%0A%23%20Storage%20options%20to%20be%20passed%20to%20underlying%20storage%20drivers%0A%0A%23%20AdditionalImageStores%20is%20used%20to%20pass%20paths%20to%20additional%20Read%2FOnly%20image%20stores%0A%23%20Must%20be%20comma%20separated%20list.%0Aadditionalimagestores%20%3D%20%5B%0A%5D%0A%0A%23%20Size%20is%20used%20to%20set%20a%20maximum%20size%20of%20the%20container%20image.%20%20Only%20supported%20by%0A%23%20certain%20container%20storage%20drivers.%0Asize%20%3D%20%22%22%0A%0A%23%20Remap-UIDs%2FGIDs%20is%20the%20mapping%20from%20UIDs%2FGIDs%20as%20they%20should%20appear%20inside%20of%0A%23%20a%20container%2C%20to%20UIDs%2FGIDs%20as%20they%20should%20appear%20outside%20of%20the%20container%2C%20and%0A%23%20the%20length%20of%20the%20range%20of%20UIDs%2FGIDs.%20%20Additional%20mapped%20sets%20can%20be%20listed%0A%23%20and%20will%20be%20heeded%20by%20libraries%2C%20but%20there%20are%20limits%20to%20the%20number%20of%0A%23%20mappings%20which%20the%20kernel%20will%20allow%20when%20you%20later%20attempt%20to%20run%20a%0A%23%20container.%0A%23%0A%23%20remap-uids%20%3D%200%3A1668442479%3A65536%0A%23%20remap-gids%20%3D%200%3A1668442479%3A65536%0A%0A%23%20Remap-User%2FGroup%20is%20a%20name%20which%20can%20be%20used%20to%20look%20up%20one%20or%20more%20UID%2FGID%0A%23%20ranges%20in%20the%20%2Fetc%2Fsubuid%20or%20%2Fetc%2Fsubgid%20file.%20%20Mappings%20are%20set%20up%20starting%0A%23%20with%20an%20in-container%20ID%20of%200%20and%20the%20a%20host-level%20ID%20taken%20from%20the%20lowest%0A%23%20range%20that%20matches%20the%20specified%20name%2C%20and%20using%20the%20length%20of%20that%20range.%0A%23%20Additional%20ranges%20are%20then%20assigned%2C%20using%20the%20ranges%20which%20specify%20the%0A%23%20lowest%20host-level%20IDs%20first%2C%20to%20the%20lowest%20not-yet-mapped%20container-level%20ID%2C%0A%23%20until%20all%20of%20the%20entries%20have%20been%20used%20for%20maps.%0A%23%0A%23%20remap-user%20%3D%20%22storage%22%0A%23%20remap-group%20%3D%20%22storage%22%0A%0A%5Bstorage.options.thinpool%5D%0A%23%20Storage%20Options%20for%20thinpool%0A%0A%23%20autoextend_percent%20determines%20the%20amount%20by%20which%20pool%20needs%20to%20be%0A%23%20grown.%20This%20is%20specified%20in%20terms%20of%20%25%20of%20pool%20size.%20So%20a%20value%20of%2020%20means%0A%23%20that%20when%20threshold%20is%20hit%2C%20pool%20will%20be%20grown%20by%2020%25%20of%20existing%0A%23%20pool%20size.%0A%23%20autoextend_percent%20%3D%20%2220%22%0A%0A%23%20autoextend_threshold%20determines%20the%20pool%20extension%20threshold%20in%20terms%0A%23%20of%20percentage%20of%20pool%20size.%20For%20example%2C%20if%20threshold%20is%2060%2C%20that%20means%20when%0A%23%20pool%20is%2060%25%20full%2C%20threshold%20has%20been%20hit.%0A%23%20autoextend_threshold%20%3D%20%2280%22%0A%0A%23%20basesize%20specifies%20the%20size%20to%20use%20when%20creating%20the%20base%20device%2C%20which%0A%23%20limits%20the%20size%20of%20images%20and%20containers.%0A%23%20basesize%20%3D%20%2210G%22%0A%0A%23%20blocksize%20specifies%20a%20custom%20blocksize%20to%20use%20for%20the%20thin%20pool.%0A%23%20blocksize%3D%2264k%22%0A%0A%23%20directlvm_device%20specifies%20a%20custom%20block%20storage%20device%20to%20use%20for%20the%0A%23%20thin%20pool.%20Required%20if%20you%20setup%20devicemapper%0A%23%20directlvm_device%20%3D%20%22%22%0A%0A%23%20directlvm_device_force%20wipes%20device%20even%20if%20device%20already%20has%20a%20filesystem%0A%23%20directlvm_device_force%20%3D%20%22True%22%0A%0A%23%20fs%20specifies%20the%20filesystem%20type%20to%20use%20for%20the%20base%20device.%0A%23%20fs%3D%22xfs%22%0A%0A%23%20log_level%20sets%20the%20log%20level%20of%20devicemapper.%0A%23%200%3A%20LogLevelSuppress%200%20(Default)%0A%23%202%3A%20LogLevelFatal%0A%23%203%3A%20LogLevelErr%0A%23%204%3A%20LogLevelWarn%0A%23%205%3A%20LogLevelNotice%0A%23%206%3A%20LogLevelInfo%0A%23%207%3A%20LogLevelDebug%0A%23%20log_level%20%3D%20%227%22%0A%0A%23%20min_free_space%20specifies%20the%20min%20free%20space%20percent%20in%20a%20thin%20pool%20require%20for%0A%23%20new%20device%20creation%20to%20succeed.%20Valid%20values%20are%20from%200%25%20-%2099%25.%0A%23%20Value%200%25%20disables%0A%23%20min_free_space%20%3D%20%2210%25%22%0A%0A%23%20mkfsarg%20specifies%20extra%20mkfs%20arguments%20to%20be%20used%20when%20creating%20the%20base%0A%23%20device.%0A%23%20mkfsarg%20%3D%20%22%22%0A%0A%23%20mountopt%20specifies%20extra%20mount%20options%20used%20when%20mounting%20the%20thin%20devices.%0A%23%20mountopt%20%3D%20%22%22%0A%0A%23%20use_deferred_removal%20Marking%20device%20for%20deferred%20removal%0A%23%20use_deferred_removal%20%3D%20%22True%22%0A%0A%23%20use_deferred_deletion%20Marking%20device%20for%20deferred%20deletion%0A%23%20use_deferred_deletion%20%3D%20%22True%22%0A%0A%23%20xfs_nospace_max_retries%20specifies%20the%20maximum%20number%20of%20retries%20XFS%20should%0A%23%20attempt%20to%20complete%20IO%20when%20ENOSPC%20(no%20space)%20error%20is%20returned%20by%0A%23%20underlying%20storage%20device.%0A%23%20xfs_nospace_max_retries%20%3D%20%220%22%0A","verification":{}},"mode":420},{"group":{},"overwrite":true,"path":"/etc/mco/proxy.env","user":{},"contents":{"source":"data:,%23%20Proxy%20environment%20variables%20will%20be%20populated%20in%20this%20file.%20Properly%0A%23%20url%20encoded%20passwords%20with%20special%20characters%20will%20use%20'%25%3CHEX%3E%3CHEX%3E'.%0A%23%20Systemd%20requires%20that%20any%20%25%20used%20in%20a%20password%20be%20represented%20as%0A%23%20%25%25%20in%20a%20unit%20file%20since%20%25%20is%20a%20prefix%20for%20macros%3B%20this%20restriction%20does%20not%0A%23%20apply%20for%20environment%20files.%20Templates%20that%20need%20the%20proxy%20set%20should%20use%0A%23%20'EnvironmentFile%3D%2Fetc%2Fmco%2Fproxy.env'.%0A","verification":{}},"mode":420},{"group":{},"overwrite":true,"path":"/etc/systemd/system.conf.d/10-default-env-godebug.conf","user":{},"contents":{"source":"data:,%5BManager%5D%0ADefaultEnvironment%3DGODEBUG%3Dx509ignoreCN%3D0%0A","verification":{}},"mode":420},{"group":{},"overwrite":true,"path":"/etc/modules-load.d/iptables.conf","user":{},"contents":{"source":"data:,%23%20Force-load%20legacy%20iptables%20so%20it%20is%20usable%20from%20pod%20network%20namespaces%0Aip_tables%0A","verification":{}},"mode":420},{"group":{},"overwrite":true,"path":"/etc/node-sizing-enabled.env","user":{},"contents":{"source":"data:,NODE_SIZING_ENABLED%3Dfalse%0ASYSTEM_RESERVED_MEMORY%3D1Gi%0ASYSTEM_RESERVED_CPU%3D500m","verification":{}},"mode":420},{"group":{},"overwrite":true,"path":"/usr/local/sbin/dynamic-system-reserved-calc.sh","user":{},"contents":{"source":"data:,%23!%2Fbin%2Fbash%0Aset%20-e%0ANODE_SIZES_ENV%3D%24%7BNODE_SIZES_ENV%3A-%2Fetc%2Fnode-sizing.env%7D%0Afunction%20dynamic_memory_sizing%20%7B%0A%20%20%20%20total_memory%3D%24(free%20-g%7Cawk%20'%2F%5EMem%3A%2F%7Bprint%20%242%7D')%0A%20%20%20%20%23%20total_memory%3D8%20test%20the%20recommended%20values%20by%20modifying%20this%20value%0A%20%20%20%20recommended_systemreserved_memory%3D0%0A%20%20%20%20if%20((%24total_memory%20%3C%3D%204))%3B%20then%20%23%2025%25%20of%20the%20first%204GB%20of%20memory%0A%20%20%20%20%20%20%20%20recommended_systemreserved_memory%3D%24(echo%20%24total_memory%200.25%20%7C%20awk%20'%7Bprint%20%241%20*%20%242%7D')%0A%20%20%20%20%20%20%20%20total_memory%3D0%0A%20%20%20%20else%0A%20%20%20%20%20%20%20%20recommended_systemreserved_memory%3D1%0A%20%20%20%20%20%20%20%20total_memory%3D%24((total_memory-4))%0A%20%20%20%20fi%0A%20%20%20%20if%20((%24total_memory%20%3C%3D%204))%3B%20then%20%23%2020%25%20of%20the%20next%204GB%20of%20memory%20(up%20to%208GB)%0A%20%20%20%20%20%20%20%20recommended_systemreserved_memory%3D%24(echo%20%24recommended_systemreserved_memory%20%24(echo%20%24total_memory%200.20%20%7C%20awk%20'%7Bprint%20%241%20*%20%242%7D')%20%7C%20awk%20'%7Bprint%20%241%20%2B%20%242%7D')%0A%20%20%20%20%20%20%20%20total_memory%3D0%0A%20%20%20%20else%0A%20%20%20%20%20%20%20%20recommended_systemreserved_memory%3D%24(echo%20%24recommended_systemreserved_memory%200.80%20%7C%20awk%20'%7Bprint%20%241%20%2B%20%242%7D')%0A%20%20%20%20%20%20%20%20total_memory%3D%24((total_memory-4))%0A%20%20%20%20fi%0A%20%20%20%20if%20((%24total_memory%20%3C%3D%208))%3B%20then%20%23%2010%25%20of%20the%20next%208GB%20of%20memory%20(up%20to%2016GB)%0A%20%20%20%20%20%20%20%20recommended_systemreserved_memory%3D%24(echo%20%24recommended_systemreserved_memory%20%24(echo%20%24total_memory%200.10%20%7C%20awk%20'%7Bprint%20%241%20*%20%242%7D')%20%7C%20awk%20'%7Bprint%20%241%20%2B%20%242%7D')%0A%20%20%20%20%20%20%20%20total_memory%3D0%0A%20%20%20%20else%0A%20%20%20%20%20%20%20%20recommended_systemreserved_memory%3D%24(echo%20%24recommended_systemreserved_memory%200.80%20%7C%20awk%20'%7Bprint%20%241%20%2B%20%242%7D')%0A%20%20%20%20%20%20%20%20total_memory%3D%24((total_memory-8))%0A%20%20%20%20fi%0A%20%20%20%20if%20((%24total_memory%20%3C%3D%20112))%3B%20then%20%23%206%25%20of%20the%20next%20112GB%20of%20memory%20(up%20to%20128GB)%0A%20%20%20%20%20%20%20%20recommended_systemreserved_memory%3D%24(echo%20%24recommended_systemreserved_memory%20%24(echo%20%24total_memory%200.06%20%7C%20awk%20'%7Bprint%20%241%20*%20%242%7D')%20%7C%20awk%20'%7Bprint%20%241%20%2B%20%242%7D')%0A%20%20%20%20%20%20%20%20total_memory%3D0%0A%20%20%20%20else%0A%20%20%20%20%20%20%20%20recommended_systemreserved_memory%3D%24(echo%20%24recommended_systemreserved_memory%206.72%20%7C%20awk%20'%7Bprint%20%241%20%2B%20%242%7D')%0A%20%20%20%20%20%20%20%20total_memory%3D%24((total_memory-112))%0A%20%20%20%20fi%0A%20%20%20%20if%20((%24total_memory%20%3E%3D%200))%3B%20then%20%23%202%25%20of%20any%20memory%20above%20128GB%0A%20%20%20%20%20%20%20%20recommended_systemreserved_memory%3D%24(echo%20%24recommended_systemreserved_memory%20%24(echo%20%24total_memory%200.02%20%7C%20awk%20'%7Bprint%20%241%20*%20%242%7D')%20%7C%20awk%20'%7Bprint%20%241%20%2B%20%242%7D')%0A%20%20%20%20fi%0A%20%20%20%20echo%20%22SYSTEM_RESERVED_MEMORY%3D%24%7Brecommended_systemreserved_memory%7DGi%22%3E%3E%20%24%7BNODE_SIZES_ENV%7D%0A%7D%0Afunction%20dynamic_cpu_sizing%20%7B%0A%20%20%20%20total_cpu%3D%24(getconf%20_NPROCESSORS_ONLN)%0A%20%20%20%20recommended_systemreserved_cpu%3D0%0A%20%20%20%20if%20((%24total_cpu%20%3C%3D%201))%3B%20then%20%23%206%25%20of%20the%20first%20core%0A%20%20%20%20%20%20%20%20recommended_systemreserved_cpu%3D%24(echo%20%24total_cpu%200.06%20%7C%20awk%20'%7Bprint%20%241%20*%20%242%7D')%0A%20%20%20%20%20%20%20%20total_cpu%3D0%0A%20%20%20%20else%0A%20%20%20%20%20%20%20%20recommended_systemreserved_cpu%3D0.06%0A%20%20%20%20%20%20%20%20total_cpu%3D%24((total_cpu-1))%0A%20%20%20%20fi%0A%20%20%20%20if%20((%24total_cpu%20%3C%3D%201))%3B%20then%20%23%201%25%20of%20the%20next%20core%20(up%20to%202%20cores)%0A%20%20%20%20%20%20%20%20recommended_systemreserved_cpu%3D%24(echo%20%24recommended_systemreserved_cpu%20%24(echo%20%24total_cpu%200.01%20%7C%20awk%20'%7Bprint%20%241%20*%20%242%7D')%20%7C%20awk%20'%7Bprint%20%241%20%2B%20%242%7D')%0A%20%20%20%20%20%20%20%20total_cpu%3D0%0A%20%20%20%20else%0A%20%20%20%20%20%20%20%20recommended_systemreserved_cpu%3D%24(echo%20%24recommended_systemreserved_cpu%200.01%20%7C%20awk%20'%7Bprint%20%241%20%2B%20%242%7D')%0A%20%20%20%20%20%20%20%20total_cpu%3D%24((total_cpu-1))%0A%20%20%20%20fi%0A%20%20%20%20if%20((%24total_cpu%20%3C%3D%202))%3B%20then%20%23%200.5%25%20of%20the%20next%202%20cores%20(up%20to%204%20cores)%0A%20%20%20%20%20%20%20%20recommended_systemreserved_cpu%3D%24(echo%20%24recommended_systemreserved_cpu%20%24(echo%20%24total_cpu%200.005%20%7C%20awk%20'%7Bprint%20%241%20*%20%242%7D')%20%7C%20awk%20'%7Bprint%20%241%20%2B%20%242%7D')%0A%20%20%20%20%20%20%20%20total_cpu%3D0%0A%20%20%20%20else%0A%20%20%20%20%20%20%20%20recommended_systemreserved_cpu%3D%24(echo%20%24recommended_systemreserved_cpu%200.01%20%7C%20awk%20'%7Bprint%20%241%20%2B%20%242%7D')%0A%20%20%20%20%20%20%20%20total_cpu%3D%24((total_cpu-2))%0A%20%20%20%20fi%0A%20%20%20%20if%20((%24total_cpu%20%3E%3D%200))%3B%20then%20%23%200.25%25%20of%20any%20cores%20above%204%20cores%0A%20%20%20%20%20%20%20%20recommended_systemreserved_cpu%3D%24(echo%20%24recommended_systemreserved_cpu%20%24(echo%20%24total_cpu%200.0025%20%7C%20awk%20'%7Bprint%20%241%20*%20%242%7D')%20%7C%20awk%20'%7Bprint%20%241%20%2B%20%242%7D')%0A%20%20%20%20fi%0A%20%20%20%20echo%20%22SYSTEM_RESERVED_CPU%3D%24%7Brecommended_systemreserved_cpu%7D%22%3E%3E%20%24%7BNODE_SIZES_ENV%7D%0A%7D%0Afunction%20dynamic_ephemeral_sizing%20%7B%0A%20%20%20%20echo%20%22Not%20implemented%20yet%22%0A%7D%0Afunction%20dynamic_pid_sizing%20%7B%0A%20%20%20%20echo%20%22Not%20implemented%20yet%22%0A%7D%0Afunction%20dynamic_node_sizing%20%7B%0A%20%20%20%20rm%20-f%20%24%7BNODE_SIZES_ENV%7D%0A%20%20%20%20dynamic_memory_sizing%0A%20%20%20%20dynamic_cpu_sizing%0A%20%20%20%20%23dynamic_ephemeral_sizing%0A%20%20%20%20%23dynamic_pid_sizing%0A%7D%0Afunction%20static_node_sizing%20%7B%0A%20%20%20%20rm%20-f%20%24%7BNODE_SIZES_ENV%7D%0A%20%20%20%20echo%20%22SYSTEM_RESERVED_MEMORY%3D%241%22%20%3E%3E%20%24%7BNODE_SIZES_ENV%7D%0A%20%20%20%20echo%20%22SYSTEM_RESERVED_CPU%3D%242%22%20%3E%3E%20%24%7BNODE_SIZES_ENV%7D%0A%7D%0A%0Aif%20%5B%20%241%20%3D%3D%20%22true%22%20%5D%3B%20then%0A%20%20%20%20dynamic_node_sizing%0Aelif%20%5B%20%241%20%3D%3D%20%22false%22%20%5D%3B%20then%0A%20%20%20%20static_node_sizing%20%242%20%243%0Aelse%0A%20%20%20%20echo%20%22Unrecongnized%20command%20line%20option.%20Valid%20options%20are%20%5C%22true%5C%22%20or%20%5C%22false%5C%22%22%0Afi%0A","verification":{}},"mode":493},{"group":{},"overwrite":true,"path":"/etc/kubernetes/kubelet-ca.crt","user":{},"contents":{"source":"data:,-----BEGIN%20CERTIFICATE-----%0AMIIDMDCCAhigAwIBAgIIdjWzz15PFpkwDQYJKoZIhvcNAQELBQAwNjESMBAGA1UE%0ACxMJb3BlbnNoaWZ0MSAwHgYDVQQDExdhZG1pbi1rdWJlY29uZmlnLXNpZ25lcjAe%0AFw0yMjAzMTQxNzU2MTlaFw0zMjAzMTExNzU2MTlaMDYxEjAQBgNVBAsTCW9wZW5z%0AaGlmdDEgMB4GA1UEAxMXYWRtaW4ta3ViZWNvbmZpZy1zaWduZXIwggEiMA0GCSqG%0ASIb3DQEBAQUAA4IBDwAwggEKAoIBAQDUY5mUmsGx%2FjH4VWA1838tJ1AaroW62OST%0AkWhqTC1JDSsBb41wnvf4jJspnVFV%2FsSbkHyZ8NS%2BZS%2BGggG9i2nqWcu2JX06h2kr%0AjC%2FsYIpr4Hd3usnXHTO55ERHSM9eJgiS%2BdfzuWDkCwV7eLD7oIISetbPFQJ2tyfD%0AsP1Y3XbvyVQJURMu57%2FxIbhR9g5RMHbFvBKFYQ4a8lTX2F84TVnISrx8DYavEJDb%0AGzcI3wgleTGgt40H2vPE%2FD1zdoS6Bt663z8ILrvl8ttxsdmoJ9xVzy64voXjRrOZ%0AO5Obks0UKbcpPD6zaOkwRRIMSzBqgRwNCPl8UIgvFZOjf8jq3Eq7AgMBAAGjQjBA%0AMA4GA1UdDwEB%2FwQEAwICpDAPBgNVHRMBAf8EBTADAQH%2FMB0GA1UdDgQWBBRw4Jgk%0ABX2QIk4NSMZ8ZU8KRJl8oDANBgkqhkiG9w0BAQsFAAOCAQEAMRLY3tiOysbaRtcX%0AZXnOjNPqkY84H2dycjhmSkEaFaZDwd7liYNaegBuk5liMbwZSqhXV%2FtvUuJa9bGS%0AtJZHCSW0iSNrXTgacktdLItT7HR%2FbFiRmBMAqXfQeZYuDBleARpvfgaAIAa1y35d%0AoP7oRhjiz2csqMwG9HwJ64QAarhWJJCJRjCA5zLWh2mzJ6k7S6bm9xmOMQR1jyxC%0Azl%2F6HlLgs2naOy5pztKmkJ6Bzejxw3YK2gFD%2FHtpPJB5ak30xSHUCZ2iXQ4ruY8r%0AsjnkM8%2FvCkL8WEMYtAtHxkOtfs8oMy1zRt4Iag84ygsDP1P22XxLawkyjT47V5X%2B%0AanBgXQ%3D%3D%0A-----END%20CERTIFICATE-----%0A-----BEGIN%20CERTIFICATE-----%0AMIIDHjCCAgagAwIBAgIISb305nTuyAAwDQYJKoZIhvcNAQELBQAwLTESMBAGA1UE%0ACxMJb3BlbnNoaWZ0MRcwFQYDVQQDEw5rdWJlbGV0LXNpZ25lcjAeFw0yMjAzMTQx%0ANzU2MjVaFw0yMjAzMTUxNzU2MjVaMC0xEjAQBgNVBAsTCW9wZW5zaGlmdDEXMBUG%0AA1UEAxMOa3ViZWxldC1zaWduZXIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEK%0AAoIBAQC4ug2cifJsnk750a%2B0yGZUiaVAYY0iZTknapRJHEwyMdtu1EHySnc9Z8HQ%0AqjBxhZs6gfGXB4Iz%2BSpbZM%2B23a7LUisLhLL7NNgXvPWdSFgNQrZAJBz67VNTa0py%0AzCvfSeBG4whLbh0JGyZ6ecRkPiWNKKoFx8moWJQJgRPrJEOdaEkLflLiCB0EgZN4%0AQk3lowLSI06yiaXC5v1h4GcAi6KNmT9vvIAXoIYuqrjXLhtFvYjgUvyRfNcaSIdU%0A47fhpFksGhsWK8rjd6D9J6MwgTnMlJwTn1%2BdJ5MnBoJXoZv3DCIVc7GJpX4gwbny%0A6C9HYANQM0zu%2BZ7BNg7OthXDQ%2Fm7AgMBAAGjQjBAMA4GA1UdDwEB%2FwQEAwICpDAP%0ABgNVHRMBAf8EBTADAQH%2FMB0GA1UdDgQWBBQnh60gAkOojyjj1rwGaSBe2Tns5zAN%0ABgkqhkiG9w0BAQsFAAOCAQEAPzFx14Yf3Zfj0ss%2B%2Bk%2B1o%2FWN071PJ7g%2FsDpqZwLm%0AiP6uSAH4D8MgevxhHBAImA%2FY%2BuZITh36NW1wSyN8caqPMafWijW7Y4HTOZslvaqp%0AApLSN%2FRcjQ9HHwa2QgJS4CVFAvMgvpRf3qRGPeSyRS2bzsifytzV1qGXxF5awlEH%0AdHMdDvX81vvC8Q5AaQ2Yzk9Che7hba65v1fIYV%2FyxglGIIYhskrn1WedGhz7Xm8F%0AHpQO5xt1IqtEyOK4qonDbvKLxUMsJoErLj3VbyfoLNupQCYwp1pmRtEpJyvvrEv8%0ABTDtwYKsz%2FmRJ0ni%2BpdaIC%2FPxuEAht9U54iRvG12v1h6sg%3D%3D%0A-----END%20CERTIFICATE-----%0A-----BEGIN%20CERTIFICATE-----%0AMIIDNDCCAhygAwIBAgIIKhfXNqPa0DMwDQYJKoZIhvcNAQELBQAwODESMBAGA1UE%0ACxMJb3BlbnNoaWZ0MSIwIAYDVQQDExlrdWJlLWNvbnRyb2wtcGxhbmUtc2lnbmVy%0AMB4XDTIyMDMxNDE3NTYyNVoXDTIzMDMxNDE3NTYyNVowODESMBAGA1UECxMJb3Bl%0AbnNoaWZ0MSIwIAYDVQQDExlrdWJlLWNvbnRyb2wtcGxhbmUtc2lnbmVyMIIBIjAN%0ABgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAuxs5HVOlPk%2Fxiq0v5qxH458iG00h%0Ad9FeE9kZ8yAlNbPfMS7gtxEEVN6OLwgkfGJqTbJq8u1y008FE%2BC%2FeY8pWkY70xob%0A4dAaTPg6WSbHBTxo7vnp3yetE6g679l7WThtRR8CQiZ7P3vnaj1WQzQWxyICWN7z%0Ak20W78EM2%2BtXj%2FEqdfkU1nWsx0gn6EMXSXnXz%2FdwBUAZzDvmRr3yu2mMRSWdq5i7%0AkCfUlEEWkoljSSy2DiFGkd4fu1gHJqybAWGGNc9asigapqXwNlGEjpy0eLDqzWIE%0AngJcYmsePEDspNU9BjPvWgc0BoxdKiQIDx8R5TE2mKJlmH1dgyO%2BqTcpCQIDAQAB%0Ao0IwQDAOBgNVHQ8BAf8EBAMCAqQwDwYDVR0TAQH%2FBAUwAwEB%2FzAdBgNVHQ4EFgQU%0ANGvnC%2FJpMdvlNZNYBKHo2TGm3ngwDQYJKoZIhvcNAQELBQADggEBAJhQmaZa14sx%0AhrloqsmmlUnh9lsofTddz0%2Bay67oIzXrT1EH9Q%2BGzqHTcbDqAktmwPi%2B3%2FY1KBXa%0ArorX%2FuZsvtxU%2BRG05QwnDBxkB%2BfK2XCpYV4pEl7DRfEGKn8OTJOOa9J2Had1yo0I%0AS0DlIrCNwYD4WlyNBzKdhTJOD%2FvmU%2BR%2BVgE4ZNzNhAEJNmVKlIt0LtF81D%2FKHUaG%0A%2FeQaeXYMOhXm38nlqqZOXdpARar5ay%2FKJoWdAVbzsS9GNM5P1SVQkIWjxe6Oa42x%0A79eeVf1ioHACc81Zhb0%2BKtHY6FkKGKBKGGb7AfpP%2BnRMJi33UBQzac1LqRi7UzRd%0Ag4vUPRWy2Oc%3D%0A-----END%20CERTIFICATE-----%0A-----BEGIN%20CERTIFICATE-----%0AMIIDQjCCAiqgAwIBAgIIGJAG31gttPQwDQYJKoZIhvcNAQELBQAwPzESMBAGA1UE%0ACxMJb3BlbnNoaWZ0MSkwJwYDVQQDEyBrdWJlLWFwaXNlcnZlci10by1rdWJlbGV0%0ALXNpZ25lcjAeFw0yMjAzMTQxNzU2MjVaFw0yMzAzMTQxNzU2MjVaMD8xEjAQBgNV%0ABAsTCW9wZW5zaGlmdDEpMCcGA1UEAxMga3ViZS1hcGlzZXJ2ZXItdG8ta3ViZWxl%0AdC1zaWduZXIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC0oEKSE78r%0AZl12Z8QC9KA68lyCVOF9w5vafU9OLkXy4oam98bnsM5IYYVR26ohmIBHXSfcgMZa%0Azzplco72KpoJK6fEU9C9DdcbFq0YGODOkMGaq6kv92PL6IEThA69sAgV7eY%2B2Ipi%0Ar9E%2FMHOAMklMWL1mJg50gBAwS20Ufh%2BkCu%2B1jC%2B04rKbzmcXcRcOXFXnoSx1wnxH%0Asx6hVuO%2FkGK9wr9gfgDoDKu71pOC23nUfZbFCibClWCkEyqfhbuZGEYtJRH4O85n%0AbRbscylqUHlM298%2B3OQNXyjYRj8Nc03zbCY0d65sMJDqOQiX2FFg4sLDmnZPuGZk%0AeURyoL%2BKcQ%2BFAgMBAAGjQjBAMA4GA1UdDwEB%2FwQEAwICpDAPBgNVHRMBAf8EBTAD%0AAQH%2FMB0GA1UdDgQWBBSoUITGmMGjqVLFqDUlc%2FrG5nqsOTANBgkqhkiG9w0BAQsF%0AAAOCAQEAn4RfteZ2XGA8FL%2FhY4bWGE%2BV9mPkideiTaQuC8bAv8VQWgjMgh%2FOp0g9%0A%2BR2JqYxtjffoBEQQ6npVxwmRTGtRBkMATqb7Ysy8Gp88U4qUg7bwOCg9AI44hcDL%0Ao5E9NIy7QZ56zR%2BL3YHur86MXOX%2BwBB94e8ZPQSK%2BUz62Sq8g57bDJKmR6JUMvDM%0AYugDROMKjRJv1rJVVRtGm1wMnT9Q%2BmQa4%2FgokvR0%2B1p7ENnzBAtBsGPiGlSrJQcj%0A8jL2ijxzhBMnerYfuB%2FOtNOPGAE9CodHu%2FAuGbU7k15dP4cX%2FidpOTUXo281LOon%0Au1JJKNGgamANIWufx3RidkjitPntrw%3D%3D%0A-----END%20CERTIFICATE-----%0A-----BEGIN%20CERTIFICATE-----%0AMIIDSDCCAjCgAwIBAgIILeaasBGEYEswDQYJKoZIhvcNAQELBQAwQjESMBAGA1UE%0ACxMJb3BlbnNoaWZ0MSwwKgYDVQQDEyNrdWJlbGV0LWJvb3RzdHJhcC1rdWJlY29u%0AZmlnLXNpZ25lcjAeFw0yMjAzMTQxNzU2MjBaFw0zMjAzMTExNzU2MjBaMEIxEjAQ%0ABgNVBAsTCW9wZW5zaGlmdDEsMCoGA1UEAxMja3ViZWxldC1ib290c3RyYXAta3Vi%0AZWNvbmZpZy1zaWduZXIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCl%0AM9A%2BBi4yZukYEdeXqL9TgaCfFUh03zEX5xOmcG4a9J0R%2F2fi75pq7A1EE3NEwePo%0AdlP9JWg%2BmMeFc9YuYZdR9nkBxmn2iGIDfkDCbDbTfQUnU68GrtWh7eleduSn1kXI%0ARMmEG%2B6iWrumPcivOUUGvNrSTSDOguj4FYyBcPCZf6gJtH7VfZOPGO9CC6uxXY6K%0ATcOHydyNZb50NViGW%2B5LaBAy2kBukK7t9JbZtnnVzqNGIboVuAxdfabrZEs3oV1f%0ApxN%2BZLT2%2FEHvJ0jMFVh%2Bx3VBgYIua1zo6a4aiKk0wqBsn%2FWwO5ujN90UY8mxlk6f%0AqIeWMDrueQa8ppbNHFc3AgMBAAGjQjBAMA4GA1UdDwEB%2FwQEAwICpDAPBgNVHRMB%0AAf8EBTADAQH%2FMB0GA1UdDgQWBBQHOv5xK0cnRhLVbcS%2B2y9pnZ1DizANBgkqhkiG%0A9w0BAQsFAAOCAQEALc9tD1WdYdeNkf1s0bR5783RgIKnupAUBhyk8cgi1sVI5R0P%0AwS4nGOBhxCQ9Fsvy1kHt7CpQEOlPvpWTE9W2oStOiIHBcW9zUTmzmy9SxdbUzzO6%0AduZa9Qo7Dgg1EviVpNx5OYWgtS6qX6H9sZKn3mfrxhbgW68O7Q8geT6pfcP61WBu%0AjGB6Adt9tsaAp8DHm3r3Phz8gNCrzpPh10ilS3Y5G9s3duoTqKCHXFgK7XkX%2BT4i%0AGVrVBe8CtPzj%2FxKzagDklPYjuVYIr%2BdV2nmBzoBqZd9PSFFQLXq9T82sYOPx%2B6dk%0AGlJv9sPygRbQBjsL2oU5cjmnxf7y6gqHSWXytw%3D%3D%0A-----END%20CERTIFICATE-----%0A","verification":{}},"mode":420},{"group":{},"overwrite":true,"path":"/etc/systemd/system.conf.d/kubelet-cgroups.conf","user":{},"contents":{"source":"data:,%23%20Turning%20on%20Accounting%20helps%20track%20down%20performance%20issues.%0A%5BManager%5D%0ADefaultCPUAccounting%3Dyes%0ADefaultMemoryAccounting%3Dyes%0ADefaultBlockIOAccounting%3Dyes%0A","verification":{}},"mode":420},{"group":{},"overwrite":true,"path":"/etc/systemd/system/kubelet.service.d/20-logging.conf","user":{},"contents":{"source":"data:,%5BService%5D%0AEnvironment%3D%22KUBELET_LOG_LEVEL%3D2%22%0A","verification":{}},"mode":420},{"group":{},"overwrite":true,"path":"/etc/NetworkManager/conf.d/sdn.conf","user":{},"contents":{"source":"data:,%23%20ignore%20known%20SDN-managed%20devices%0A%5Bdevice%5D%0Amatch-device%3Dinterface-name%3Abr-int%3Binterface-name%3Abr-local%3Binterface-name%3Abr-nexthop%2Cinterface-name%3Aovn-k8s-*%2Cinterface-name%3Ak8s-*%3Binterface-name%3Atun0%3Binterface-name%3Abr0%3Bdriver%3Aveth%0Amanaged%3D0%0A","verification":{}},"mode":420},{"group":{},"overwrite":true,"path":"/var/lib/kubelet/config.json","user":{},"contents":{"source":"data:,%7B%22auths%22%3A%7B%22cloud.openshift.com%22%3A%7B%22auth%22%3A%22b3BlbnNoaWZ0LXJlbGVhc2UtZGV2K2plcnpoYW5ncmVkaGF0Y29tMWVmcnQzanh3Y2N1dXB1c3ZibDhrcnY2amF2OlE3TVlZU1g4UzhLM0VONEI0SUxVQkpIVVVWTFNQN1NXMjlJVURLNFFOTzdOVDBaUTRWTVdDUTA4REwxT0tKM0w%3D%22%2C%22email%22%3A%22jerzhang%40redhat.com%22%7D%2C%22quay.io%22%3A%7B%22auth%22%3A%22b3BlbnNoaWZ0LXJlbGVhc2UtZGV2K2plcnpoYW5ncmVkaGF0Y29tMWVmcnQzanh3Y2N1dXB1c3ZibDhrcnY2amF2OlE3TVlZU1g4UzhLM0VONEI0SUxVQkpIVVVWTFNQN1NXMjlJVURLNFFOTzdOVDBaUTRWTVdDUTA4REwxT0tKM0w%3D%22%2C%22email%22%3A%22jerzhang%40redhat.com%22%7D%2C%22registry.connect.redhat.com%22%3A%7B%22auth%22%3A%22NTIxMjQ1OTR8dWhjLTFFZnJUM2pYV2NDVVVQVVNWQkw4a3J2NkphdjpleUpoYkdjaU9pSlNVelV4TWlKOS5leUp6ZFdJaU9pSXpPV1F4WldFNVpHUTBZVEkwTkRjeVlqRTJOemswWm1SaU1HWXlOelJsTVNKOS5EZmxxSkxTRDc0X29faERfLVFoTEpMb0FnQXRIR09fTUFBRUhXVWZSOUZYMzRMa2prUWl1Yjh2dTJsVHFaMVg0UFdVSlI5aF9NLXUtUklHaHdfQkNBRjN1aDU5YWp1Y1E4YjF5NWw1Ny1rYzdQSWs1Qk1hb2FhR3NZTTYyRHdFc0ZKd1RNRWQyM3ZRMlZ5VEVGVkNEZHVqX0t0SC1GcWhld044eWNUVFl4dVlkb3Q4eWEyQTZOQ3l4SDVsZGNhQy0wX0puOXBERDVSb1BxTzI0a3FjRlJZSlNJbXIzYnl5RV9RenhYWWgxc0VCMHkwQ1dCMG9iU2lMXzZJQnVqRkJnWHVIZ1FodGhlaFdHX2ptMWQwWkNXYVFUd3dZMU45QU9OMUNpdTh0MG9KWEJKZnRLZVpkOVlHUDNkcFExNDJYSXBvd1ZDcFktNEl0dlNtb0dQWjFrcEdNa2U3V0FaNjY2S0h1cjRpZGhXQk9nR19meXZOWlp6b1pFVFdZTUZubjhmRktCYmcxZldwbjI5Q3dETHpydHpHVmcwbVdLZnNMUU9ESm10clVDZHNBSXQ3QVMwdTQ3cnlCODVWcUpUbXJzdm5kenljeWJQdHFfRFV3RjBZUDc4OWlTejdmSUFDbktmZG1DN1psRS1scVVpVGVoLVpVQm9GangzdUtfYk4yVXV5Z2ZCUXQxQmtfc21Id3FBMEJTM2RzSlpwUGJVWVI2ZHB1MVpFTUt6cFBIMm9XYXVTRE1HOGRjaFdFOHBjblhLWUpuQkhvekdLcXdZcEhoZjdkSkxKbWF0U056TTNmOFVEcl84dE9CZmRxZ0FzU0tSZWpQTGZHQlF1Q3BSTU50Y1pCcWRGTUl3R0JCQkE0OENub3ZBTF9jOTJKbGVRRzJZNmR3YjJkZEtPaw%3D%3D%22%2C%22email%22%3A%22jerzhang%40redhat.com%22%7D%2C%22registry.redhat.io%22%3A%7B%22auth%22%3A%22NTIxMjQ1OTR8dWhjLTFFZnJUM2pYV2NDVVVQVVNWQkw4a3J2NkphdjpleUpoYkdjaU9pSlNVelV4TWlKOS5leUp6ZFdJaU9pSXpPV1F4WldFNVpHUTBZVEkwTkRjeVlqRTJOemswWm1SaU1HWXlOelJsTVNKOS5EZmxxSkxTRDc0X29faERfLVFoTEpMb0FnQXRIR09fTUFBRUhXVWZSOUZYMzRMa2prUWl1Yjh2dTJsVHFaMVg0UFdVSlI5aF9NLXUtUklHaHdfQkNBRjN1aDU5YWp1Y1E4YjF5NWw1Ny1rYzdQSWs1Qk1hb2FhR3NZTTYyRHdFc0ZKd1RNRWQyM3ZRMlZ5VEVGVkNEZHVqX0t0SC1GcWhld044eWNUVFl4dVlkb3Q4eWEyQTZOQ3l4SDVsZGNhQy0wX0puOXBERDVSb1BxTzI0a3FjRlJZSlNJbXIzYnl5RV9RenhYWWgxc0VCMHkwQ1dCMG9iU2lMXzZJQnVqRkJnWHVIZ1FodGhlaFdHX2ptMWQwWkNXYVFUd3dZMU45QU9OMUNpdTh0MG9KWEJKZnRLZVpkOVlHUDNkcFExNDJYSXBvd1ZDcFktNEl0dlNtb0dQWjFrcEdNa2U3V0FaNjY2S0h1cjRpZGhXQk9nR19meXZOWlp6b1pFVFdZTUZubjhmRktCYmcxZldwbjI5Q3dETHpydHpHVmcwbVdLZnNMUU9ESm10clVDZHNBSXQ3QVMwdTQ3cnlCODVWcUpUbXJzdm5kenljeWJQdHFfRFV3RjBZUDc4OWlTejdmSUFDbktmZG1DN1psRS1scVVpVGVoLVpVQm9GangzdUtfYk4yVXV5Z2ZCUXQxQmtfc21Id3FBMEJTM2RzSlpwUGJVWVI2ZHB1MVpFTUt6cFBIMm9XYXVTRE1HOGRjaFdFOHBjblhLWUpuQkhvekdLcXdZcEhoZjdkSkxKbWF0U056TTNmOFVEcl84dE9CZmRxZ0FzU0tSZWpQTGZHQlF1Q3BSTU50Y1pCcWRGTUl3R0JCQkE0OENub3ZBTF9jOTJKbGVRRzJZNmR3YjJkZEtPaw%3D%3D%22%2C%22email%22%3A%22jerzhang%40redhat.com%22%7D%2C%22registry.ci.openshift.org%22%3A%7B%22auth%22%3A%22dXNlcjpzaGEyNTZ%2BbnpUbGQzaDJ5YmdtNGgzdmRTQ2pqUUJoYlRtSkdnN2dGbVpRV3FUa3ZtYw%3D%3D%22%7D%2C%22registry.build01.ci.openshift.org%22%3A%7B%22auth%22%3A%22dXNlcjpzaGEyNTZ%2BNEtFSkRZejd3VUZXWWdreDFBUU9PUjMzQkF2X09hV2k0UmZDa2cwb0NNOA%3D%3D%22%7D%2C%22registry.svc.ci.openshift.org%22%3A%7B%22auth%22%3A%22dXNlcjpyZFhtTndfdXo5SlNXNm94Z2tuelBaV3hIeFc0eW1pRkYtSDJrYVdHWVBF%22%7D%2C%22https%3A%2F%2Findex.docker.io%2Fv1%2F%22%3A%7B%22auth%22%3A%22amVyemhhbmc6ZTZlYTEzZTYtZGFhNC00OWE1LTgxOGEtYzdjOThlMjgzMTNj%22%7D%7D%7D%0A","verification":{}},"mode":384},{"group":{},"overwrite":true,"path":"/etc/kubernetes/ca.crt","user":{},"contents":{"source":"data:,-----BEGIN%20CERTIFICATE-----%0AMIIDEDCCAfigAwIBAgIIUc%2FKfxd%2Bbj4wDQYJKoZIhvcNAQELBQAwJjESMBAGA1UE%0ACxMJb3BlbnNoaWZ0MRAwDgYDVQQDEwdyb290LWNhMB4XDTIyMDMxNDE3NTYyMVoX%0ADTMyMDMxMTE3NTYyMVowJjESMBAGA1UECxMJb3BlbnNoaWZ0MRAwDgYDVQQDEwdy%0Ab290LWNhMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA7M8l81ggdW9F%0AKOzriQz0CGMflXAI68Z5dn9V%2FfBdmHI%2FJaasNzeez%2Bhel6iVTHvOF3i1Uo8xeYap%0A2ul%2Fp%2FPj1coFmu06MhvmDIdb1sm121AfnhVQAMYH7sbr%2BabXQHTeij6l8A%2Fo%2FqB5%0Ai6n547tqisgiSZ9P%2Fnt5mbYavQCqO%2FNVe5o4%2FXLd393VaRVWTpak2HVl%2FU9bouC1%0A0vOJHKZ2%2FxD1p6yRQecByl66nT4Voqft7v5%2FkPfKLGPkbGcT3oAxYX19NZgt4ZCB%0AwtBekiKYD6w1FSjUi7DzLs%2FowgCqwITRYAu1M4rOdHgOP0ifkxcwe7p1Kkhlhv36%0A4ZlQauNVYwIDAQABo0IwQDAOBgNVHQ8BAf8EBAMCAqQwDwYDVR0TAQH%2FBAUwAwEB%0A%2FzAdBgNVHQ4EFgQU6F76F8HNJaT84DmBjsUm0iE2P1cwDQYJKoZIhvcNAQELBQAD%0AggEBAJo%2BHKW8VCiXKb0NDmO4z9MCQZ6KF6%2BPVhX9U%2Fb1A9uluTuHt2TLEbhjzzJy%0AfAB%2Fr7S5uCme%2BZLvMeZODPdKXs5n6sRfgurE0wwawaMAQr3emBKtxQNhy%2BI0bd6o%0AJtYiSwRY%2B0uXQ2Psru7ajSr3AFrfb5RWAe2ljkHkbIrZBk3iCJIt9ZEC2cGII4RB%0AAlSa4F2uH9rpXZd27jC9FkJZGCxeM%2BHPm8UJCYcmjvOGZLMiicGbrFKSyLpzWB%2Fy%0Anaw52%2FlomaXQKI6EDpythoTjGDVHafY1WtscJxyVGv4YoGEG4lmK19DrqDYSbuO3%0A9BVgw%2BZ3M7RaU2QIa1KFHU%2Fxtwg%3D%0A-----END%20CERTIFICATE-----%0A","verification":{}},"mode":420},{"group":{},"overwrite":true,"path":"/etc/sysctl.d/forward.conf","user":{},"contents":{"source":"data:,net.ipv4.ip_forward%20%3D%201%0Anet.ipv6.conf.all.forwarding%20%3D%201%0A","verification":{}},"mode":420},{"group":{},"overwrite":true,"path":"/etc/sysctl.d/inotify.conf","user":{},"contents":{"source":"data:,%0Afs.inotify.max_user_watches%20%3D%2065536%0Afs.inotify.max_user_instances%20%3D%208192%0A","verification":{}},"mode":420},{"group":{},"overwrite":true,"path":"/usr/local/bin/aws-kubelet-nodename","user":{},"contents":{"source":"data:,%23!%2Fbin%2Fbash%0Aset%20-e%20-o%20pipefail%0A%0ANODECONF%3D%2Fetc%2Fsystemd%2Fsystem%2Fkubelet.service.d%2F20-aws-node-name.conf%0A%0Aif%20%5B%20-e%20%22%24%7BNODECONF%7D%22%20%5D%3B%20then%0A%20%20%20%20echo%20%22Not%20replacing%20existing%20%24%7BNODECONF%7D%22%0A%20%20%20%20exit%200%0Afi%0A%0A%23%20For%20compatibility%20with%20the%20AWS%20in-tree%20provider%0A%23%20Set%20node%20name%20to%20be%20instance%20name%20instead%20of%20the%20default%20FQDN%20hostname%0A%23%0A%23%20https%3A%2F%2Fdocs.aws.amazon.com%2FAWSEC2%2Flatest%2FUserGuide%2Finstancedata-data-retrieval.html%0Aname%3D%24(curl%20-s%20http%3A%2F%2F169.254.169.254%2F2016-09-02%2Fmeta-data%2Flocal-hostname)%0Acat%20%3E%20%22%24%7BNODECONF%7D%22%20%3C%3CEOF%0A%5BService%5D%0AEnvironment%3D%22KUBELET_NODE_NAME%3D%24%7Bname%7D%22%0AEOF%0A","verification":{}},"mode":493},{"group":{},"overwrite":true,"path":"/usr/local/bin/mco-hostname","user":{},"contents":{"source":"data:,%23!%2Fbin%2Fbash%0A%23%20First%2C%20we%20need%20to%20wait%20until%20DHCP%20finishes%20and%20the%20node%20has%20a%20non-%60localhost%60%0A%23%20hostname%20before%20%60kubelet.service%60%20starts.%0A%23%20That's%20the%20%60--wait%60%20argument%20as%20used%20by%20%60node-valid-hostname.service%60.%0A%23%0A%23%20Second%2C%20on%20GCP%20specifically%20we%20truncate%20the%20hostname%20if%20it's%20%3E63%20characters.%0A%23%20That's%20%60gcp-hostname.service%60.%0A%0A%23%20Block%20indefinitely%20until%20the%20host%20gets%20a%20non-localhost%20name.%0A%23%20Note%20node-valid-hostname.service%20uses%20systemd%20to%20abort%20if%20this%20takes%20too%20long.%0Await_localhost()%20%7B%0A%20%20%20%20echo%20%22waiting%20for%20non-localhost%20hostname%20to%20be%20assigned%22%0A%20%20%20%20while%20%5B%5B%20%22%24(%3C%20%2Fproc%2Fsys%2Fkernel%2Fhostname)%22%20%3D~%20(localhost%7Clocalhost.localdomain)%20%5D%5D%3B%0A%20%20%20%20do%0A%20%20%20%20%20%20%20%20sleep%201%0A%20%20%20%20done%0A%20%20%20%20echo%20%22node%20identified%20as%20%24(%3C%2Fproc%2Fsys%2Fkernel%2Fhostname)%22%0A%20%20%20%20exit%200%0A%7D%0A%0Aset_gcp_hostname()%20%7B%0A%20%20%20%20%2Fusr%2Fbin%2Fafterburn%20--provider%20gcp%20--hostname%3D%2Frun%2Fafterburn.hostname%0A%0A%20%20%20%20local%20host_name%3D%24(cat%20%2Frun%2Fafterburn.hostname)%0A%20%20%20%20local%20type_arg%3D%22transient%22%0A%0A%20%20%20%20%23%20%2Fetc%2Fhostname%20is%20used%20for%20static%20hostnames%20and%20is%20authoritative.%0A%20%20%20%20%23%20This%20will%20check%20to%20make%20sure%20that%20the%20static%20hostname%20is%20the%0A%20%20%20%20%23%20less%20than%20or%20equal%20to%2063%20characters%20in%20length.%0A%20%20%20%20if%20%5B%20-f%20%2Fetc%2Fhostname%20%5D%20%26%26%20%5B%20%22%24(cat%20%2Fetc%2Fhostname%20%7C%20wc%20-m)%22%20-gt%200%20%5D%3B%20then%0A%20%20%20%20%20%20%20%20etc_name%3D%22%24(%3C%20%2Fetc%2Fhostname)%22%0A%20%20%20%20%20%20%20%20type_arg%3D%22static%22%0A%20%20%20%20%20%20%20%20if%20%5B%20%22%24%7Betc_name%7D%22%20!%3D%20%22%24%7Bhost_name%7D%22%20%5D%3B%20then%0A%20%20%20%20%20%20%20%20%20%20%20%20echo%20%22%2Fetc%2Fhostname%20is%20set%20to%20%24%7Betc_name%7D%20but%20does%20not%20match%20%24%7Bhost_name%7D%22%0A%20%20%20%20%20%20%20%20%20%20%20%20echo%20%22using%20%2Fetc%2Fhostname%20as%20the%20authoritative%20name%22%0A%20%20%20%20%20%20%20%20%20%20%20%20host_name%3D%22%24%7Betc_name%7D%22%0A%20%20%20%20%20%20%20%20fi%0A%20%20%20%20fi%0A%0A%20%20%20%20%23%20Only%20mutate%20the%20hostname%20if%20the%20length%20is%20longer%20than%2063%20characters.%20The%0A%20%20%20%20%23%20hostname%20will%20be%20the%20lesser%20of%2063%20characters%20after%20the%20first%20dot%20in%20the%0A%20%20%20%20%23%20FQDN.%20%20This%20algorithm%20is%20only%20known%20to%20work%20in%20GCP%2C%20and%20hence%20is%20only%0A%20%20%20%20%23%20executed%20in%20GCP.%0A%20%20%20%20if%20%5B%20%22%24%7B%23host_name%7D%22%20-gt%2063%20%5D%3B%20then%0A%20%20%20%20%20%20%20%20alt_name%3D%24(printf%20%22%24%7Bhost_name%7D%22%20%7C%20cut%20-f1%20-d'.'%20%7C%20cut%20-c%20-63)%0A%20%20%20%20%20%20%20%20echo%20%22%24%7Bhost_name%7D%20is%20longer%20than%2063%20characters%2C%20using%20truncated%20hostname%22%0A%20%20%20%20%20%20%20%20host_name%3D%22%24%7Balt_name%7D%22%0A%20%20%20%20fi%0A%20%20%20%20echo%20%22setting%20%24%7Btype_arg%7D%20hostname%20to%20%24%7Bhost_name%7D%22%0A%20%20%20%20%2Fbin%2Fhostnamectl%20%22--%24%7Btype_arg%7D%22%20set-hostname%20%22%24%7Bhost_name%7D%22%0A%20%20%20%20exit%200%0A%7D%0A%0Aarg%3D%24%7B1%7D%3B%20shift%3B%0Acase%20%22%24%7Barg%7D%22%20in%0A%20%20%20%20--wait)%20wait_localhost%3B%3B%0A%20%20%20%20--gcp)%20set_gcp_hostname%3B%3B%0A%20%20%20%20*)%20echo%20%22Unhandled%20arg%20%24arg%22%3B%20exit%201%0Aesac%0A","verification":{}},"mode":493},{"group":{},"overwrite":true,"path":"/etc/kubernetes/kubelet-plugins/volume/exec/.dummy","user":{},"contents":{"source":"data:,","verification":{}},"mode":493},{"group":{},"overwrite":true,"path":"/etc/NetworkManager/dispatcher.d/99-vsphere-disable-tx-udp-tnl","user":{},"contents":{"source":"data:,%23!%2Fbin%2Fbash%0A%23%20Workaround%3A%0A%23%20https%3A%2F%2Fbugzilla.redhat.com%2Fshow_bug.cgi%3Fid%3D1941714%0A%23%20https%3A%2F%2Fbugzilla.redhat.com%2Fshow_bug.cgi%3Fid%3D1935539%0A%23%20https%3A%2F%2Fbugzilla.redhat.com%2Fshow_bug.cgi%3Fid%3D1987108%0A%0Adriver%3D%24(nmcli%20-t%20-m%20tabular%20-f%20general.driver%20dev%20show%20%22%24%7BDEVICE_IFACE%7D%22)%0A%0Aif%20%5B%5B%20%22%242%22%20%3D%3D%20%22up%22%20%26%26%20%22%24%7Bdriver%7D%22%20%3D%3D%20%22vmxnet3%22%20%5D%5D%3B%20then%0A%20%20logger%20-s%20%2299-vsphere-disable-tx-udp-tnl%20triggered%20by%20%24%7B2%7D%20on%20device%20%24%7BDEVICE_IFACE%7D.%22%0A%20%20ethtool%20-K%20%24%7BDEVICE_IFACE%7D%20tx-udp_tnl-segmentation%20off%0A%20%20ethtool%20-K%20%24%7BDEVICE_IFACE%7D%20tx-udp_tnl-csum-segmentation%20off%0A%20%20ethtool%20-K%20%24%7BDEVICE_IFACE%7D%20tx-checksum-ip-generic%20off%0Afi%0A","verification":{}},"mode":484},{"group":{},"overwrite":true,"path":"/etc/containers/registries.conf","user":{},"contents":{"source":"data:,unqualified-search-registries%20%3D%20%5B'registry.access.redhat.com'%2C%20'docker.io'%5D%0A","verification":{}},"mode":420},{"group":{},"overwrite":true,"path":"/etc/crio/crio.conf.d/00-default","user":{},"contents":{"source":"data:,%5Bcrio%5D%0Ainternal_wipe%20%3D%20true%0Aversion_file_persist%20%3D%20%22%2Fvar%2Flib%2Fcrio%2Fversion%22%0A%0A%5Bcrio.api%5D%0Astream_address%20%3D%20%22%22%0Astream_port%20%3D%20%2210010%22%0A%0A%5Bcrio.runtime%5D%0Aselinux%20%3D%20true%0Aconmon%20%3D%20%22%22%0Aconmon_cgroup%20%3D%20%22pod%22%0Adefault_env%20%3D%20%5B%0A%20%20%20%20%22NSS_SDB_USE_CACHE%3Dno%22%2C%0A%5D%0Alog_level%20%3D%20%22info%22%0Acgroup_manager%20%3D%20%22systemd%22%0Adefault_sysctls%20%3D%20%5B%0A%20%20%20%20%22net.ipv4.ping_group_range%3D0%202147483647%22%2C%0A%5D%0Ahooks_dir%20%3D%20%5B%0A%20%20%20%20%22%2Fetc%2Fcontainers%2Foci%2Fhooks.d%22%2C%0A%20%20%20%20%22%2Frun%2Fcontainers%2Foci%2Fhooks.d%22%2C%0A%20%20%20%20%22%2Fusr%2Fshare%2Fcontainers%2Foci%2Fhooks.d%22%2C%0A%5D%0Amanage_ns_lifecycle%20%3D%20true%0Aabsent_mount_sources_to_reject%20%3D%20%5B%0A%20%20%20%20%22%2Fetc%2Fhostname%22%2C%0A%5D%0Adrop_infra_ctr%20%3D%20true%0A%0A%5Bcrio.runtime.workloads.openshift-builder%5D%0Aactivation_annotation%20%3D%20%22io.openshift.builder%22%0Aallowed_annotations%20%3D%20%5B%0A%20%20%22io.kubernetes.cri-o.userns-mode%22%2C%0A%20%20%22io.kubernetes.cri-o.Devices%22%0A%5D%0A%5Bcrio.runtime.workloads.openshift-builder.resources%5D%0A%0A%5Bcrio.image%5D%0Aglobal_auth_file%20%3D%20%22%2Fvar%2Flib%2Fkubelet%2Fconfig.json%22%0Apause_image%20%3D%20%22quay.io%2Fopenshift-release-dev%2Focp-v4.0-art-dev%40sha256%3Abfa295c67ade9ee09776834941c35a5a3375a4be8811ebd8dc072dd0b20f9e27%22%0Apause_image_auth_file%20%3D%20%22%2Fvar%2Flib%2Fkubelet%2Fconfig.json%22%0Apause_command%20%3D%20%22%2Fusr%2Fbin%2Fpod%22%0A%0A%5Bcrio.network%5D%0Anetwork_dir%20%3D%20%22%2Fetc%2Fkubernetes%2Fcni%2Fnet.d%2F%22%0Aplugin_dirs%20%3D%20%5B%0A%20%20%20%20%22%2Fvar%2Flib%2Fcni%2Fbin%22%2C%0A%20%20%20%20%22%2Fusr%2Flibexec%2Fcni%22%2C%0A%5D%0A%0A%5Bcrio.metrics%5D%0Aenable_metrics%20%3D%20true%0Ametrics_port%20%3D%209537%0Ametrics_collectors%20%3D%20%5B%0A%20%20%22operations%22%2C%0A%20%20%22operations_latency_microseconds_total%22%2C%0A%20%20%22operations_latency_microseconds%22%2C%0A%20%20%22operations_errors%22%2C%0A%20%20%22image_pulls_layer_size%22%2C%0A%20%20%22containers_oom_total%22%2C%0A%20%20%22containers_oom%22%2C%0A%20%20%23%20Drop%20metrics%20with%20excessive%20label%20cardinality.%0A%20%20%23%20%22image_pulls_by_digest%22%2C%0A%20%20%23%20%22image_pulls_by_name%22%2C%0A%20%20%23%20%22image_pulls_by_name_skipped%22%2C%0A%20%20%23%20%22image_pulls_failures%22%2C%0A%20%20%23%20%22image_pulls_successes%22%2C%0A%20%20%23%20%22image_layer_reuse%22%2C%0A%5D%0A","verification":{}},"mode":420},{"group":{},"overwrite":true,"path":"/etc/containers/policy.json","user":{},"contents":{"source":"data:,%7B%0A%20%20%20%20%22default%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22type%22%3A%20%22insecureAcceptAnything%22%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%5D%2C%0A%20%20%20%20%22transports%22%3A%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22docker-daemon%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%22%3A%20%5B%7B%22type%22%3A%22insecureAcceptAnything%22%7D%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%7D","verification":{}},"mode":420},{"group":{},"overwrite":true,"path":"/etc/kubernetes/cloud.conf","user":{},"contents":{"source":"data:,","verification":{}},"mode":420},{"group":{},"overwrite":true,"path":"/etc/kubernetes/kubelet.conf","user":{},"contents":{"source":"data:,kind%3A%20KubeletConfiguration%0AapiVersion%3A%20kubelet.config.k8s.io%2Fv1beta1%0Aauthentication%3A%0A%20%20x509%3A%0A%20%20%20%20clientCAFile%3A%20%2Fetc%2Fkubernetes%2Fkubelet-ca.crt%0A%20%20anonymous%3A%0A%20%20%20%20enabled%3A%20false%0AcgroupDriver%3A%20systemd%0AcgroupRoot%3A%20%2F%0AclusterDNS%3A%0A%20%20-%20172.30.0.10%0AclusterDomain%3A%20cluster.local%0AcontainerLogMaxSize%3A%2050Mi%0AmaxPods%3A%20250%0AkubeAPIQPS%3A%2050%0AkubeAPIBurst%3A%20100%0ArotateCertificates%3A%20true%0AserializeImagePulls%3A%20false%0AstaticPodPath%3A%20%2Fetc%2Fkubernetes%2Fmanifests%0AsystemCgroups%3A%20%2Fsystem.slice%0AsystemReserved%3A%0A%20%20ephemeral-storage%3A%201Gi%0AfeatureGates%3A%0A%20%20APIPriorityAndFairness%3A%20true%0A%20%20LegacyNodeRoleBehavior%3A%20false%0A%20%20NodeDisruptionExclusion%3A%20true%0A%20%20RotateKubeletServerCertificate%3A%20true%0A%20%20ServiceNodeExclusion%3A%20true%0A%20%20SupportPodPidsLimit%3A%20true%0A%20%20DownwardAPIHugePages%3A%20true%0A%20%20PodSecurity%3A%20true%0A%20%20CSIMigrationAWS%3A%20false%0A%20%20CSIMigrationAzureDisk%3A%20false%0A%20%20CSIMigrationAzureFile%3A%20false%0A%20%20CSIMigrationGCE%3A%20false%0A%20%20CSIMigrationOpenStack%3A%20false%0A%20%20CSIMigrationvSphere%3A%20false%0AserverTLSBootstrap%3A%20true%0AtlsMinVersion%3A%20VersionTLS12%0AtlsCipherSuites%3A%0A%20%20-%20TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256%0A%20%20-%20TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256%0A%20%20-%20TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384%0A%20%20-%20TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384%0A%20%20-%20TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256%0A%20%20-%20TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256%0A","verification":{}},"mode":420},{"group":{},"overwrite":true,"path":"/etc/machine-config-daemon/node-annotations.json","user":{},"contents":{"source":"data:,%7B%22machineconfiguration.openshift.io%2FcurrentConfig%22%3A%22rendered-worker-f0e071d98b81d59642a592f1d5cd0c89%22%2C%22machineconfiguration.openshift.io%2FdesiredConfig%22%3A%22rendered-worker-f0e071d98b81d59642a592f1d5cd0c89%22%2C%22machineconfiguration.openshift.io%2Fstate%22%3A%22Done%22%7D","verification":{}},"mode":420},{"group":{},"overwrite":true,"path":"/etc/kubernetes/kubeconfig","user":{},"contents":{"source":"data:,clusters%3A%0A-%20cluster%3A%0A%20%20%20%20certificate-authority-data%3A%20LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURNakNDQWhxZ0F3SUJBZ0lJSUljalZjZnhtWjR3RFFZSktvWklodmNOQVFFTEJRQXdOekVTTUJBR0ExVUUKQ3hNSmIzQmxibk5vYVdaME1TRXdId1lEVlFRREV4aHJkV0psTFdGd2FYTmxjblpsY2kxc1lpMXphV2R1WlhJdwpIaGNOTWpJd016RTBNVGMxTmpJd1doY05Nekl3TXpFeE1UYzFOakl3V2pBM01SSXdFQVlEVlFRTEV3bHZjR1Z1CmMyaHBablF4SVRBZkJnTlZCQU1UR0d0MVltVXRZWEJwYzJWeWRtVnlMV3hpTFhOcFoyNWxjakNDQVNJd0RRWUoKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBS3BKZzZqU01YSnc2bk5McEw5bzRuUExIaTUzcjNDOApyL2xxY01XWnNhSTJJNG9QUXFJWEJIcmkxQkhhUmdxTVBGaHZya052Q3BtOTFad1owbVpFSzJkbXpnOHFPaXpuCm93TnZkZ0dMNHBSUUJlNkgrOVJ2Ti9aenMrdW1ZcVhPemM5NU9LM1BqWWNUUTdIRGRUdks5bTB1U1hJSEdOTFoKK3RFWENZVWdQd1YzaEhWRld0dGJtTEplQzl2aERqdkVHbE5PTkxpMVFwUEJNM0FvbU9rZi9ONXpKQ3hNRkU2MwpFTjUwOUNNMzMyTHR4OUxsL3dlUVZheldrT3hHcFczSGtHTkFFczNvWmxCRUpiVlVmTDJvbkdhMnFlVlV0NC9lCmdKM3pxSGZmK3A5b2JSU3JSNmNPcVFINWp0U091RGxrR1VpeS9uSXdUdlBlTWIxLzdrNDRKOEVDQXdFQUFhTkMKTUVBd0RnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3SFFZRFZSME9CQllFRkVOMwpmQmxGODJDeUdjZUtlR1NjWjVaUnlnQ3BNQTBHQ1NxR1NJYjNEUUVCQ3dVQUE0SUJBUUJCNnN5ZlVsM290NWJHCmo3aWNBei9TYUFuSDdNUUFjU0p1R2RsNGU3UE5ZLzBFOFh2dGhwY2Yvd3VyaEVxZTBENkpJL3ByRDRrcDl3YUIKWWZOVkxQajVKeDU4bm9JVnhGZmJScWNNbHFwS2oyQTdtbFliNjNYU1RjblB4Nk9Td2h1emYvTmlINTY4NkN4TwplR2NBN1g1STByakVjSjEycm54RDZWdFBIeUp3aTd5V1MzRlExazZZWWcwbm5sODExSWVSZ0FYekRhQ2p6eFBCCi9aR2dEZ3Y5UGJnY2plN1BxM0xyWmI4TEUzYXgxWFN1ZFlKZ0FPdzUyYTdzODRZTS9ETlpXOWp1WUx6dTUrNTQKdWI2SENJM2VucndUcm9jSk1yWkloT1g5T2dxeVo1OUNHNERQb0xKVWIwaTE4ZDZoeEE2WkdSQXh4c1ZUa3pxWgpxTDliL3pJSAotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCi0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlEUURDQ0FpaWdBd0lCQWdJSU9tT2VQU3htVmJZd0RRWUpLb1pJaHZjTkFRRUxCUUF3UGpFU01CQUdBMVVFCkN4TUpiM0JsYm5Ob2FXWjBNU2d3SmdZRFZRUURFeDlyZFdKbExXRndhWE5sY25abGNpMXNiMk5oYkdodmMzUXQKYzJsbmJtVnlNQjRYRFRJeU1ETXhOREUzTlRZeU1Gb1hEVE15TURNeE1URTNOVFl5TUZvd1BqRVNNQkFHQTFVRQpDeE1KYjNCbGJuTm9hV1owTVNnd0pnWURWUVFERXg5cmRXSmxMV0Z3YVhObGNuWmxjaTFzYjJOaGJHaHZjM1F0CmMybG5ibVZ5TUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUF3Z09HWnJUb3lLbkYKeWF5NEc0dTU5bzNHTEdIYnJ0Y2RGMjVraXdjRk1kSE4zdFVoUFJHb2kyRGFpRTVkVmZOclNQTm9zYTJDQW9SMAprM3g0RHdRMzFybEkwU0J5VXdPcXJLQXhCTmloaXVsVG9vL0tNOW9ZeTVjcGtvUzFtaVRWZGlmWUJuS0wwVGgwCi9BVURYSlJwSXF1aWtTeGtuck9QRzFsN2JyK1VJWWxJUUhicENGS01HcUpEYjdsb0JyNWI4RkZvblhiSGM1ekEKZkx0NUZWQnkwaEljelJZTXNadWh6cUxJSWxodnc1WGxTNzhwZm9WL3ByL25ieWJPVy9LbGFxVFBsMW1xMStBawp3SE9GWVNaZFhtRVg0cnpsZTdQMU1tNmk0V0N1UUltUUpvN0s2UnVQYnhZSW44UW9BWHBYaGwwNHp6bEJmRUx1CmNQb0ptV2tPcVFJREFRQUJvMEl3UURBT0JnTlZIUThCQWY4RUJBTUNBcVF3RHdZRFZSMFRBUUgvQkFVd0F3RUIKL3pBZEJnTlZIUTRFRmdRVXBVQmcxRzFiYU5tYkdMSTREM0xXU0ZET3RrQXdEUVlKS29aSWh2Y05BUUVMQlFBRApnZ0VCQUcyNVk1RjhHdXg0MFpkRE9zYmhEbWRYQUJSYnF3ZzYxU2tDM2lGbWQ2RU1TVDRaWGlkTG81d3k3cFhaCjA0M1RaZDRPOThONWl5YmZ2RHB0Q2xKbnpEeHFwTk50eEMyQVM1S1BmNklVbDZSZVRKS2xPbG5tbGxQUVBFcGQKMlJpNGxDS3FlS0FtRG4xSkNEdXUwS3NLUUlWbnhxNUM3WUI2bWJscDErWHl4Wkd5YTVXYUZuajZ6Zyt2VUdIVQpiWmVRbVBHZ0ZDc2lkdmZrd1UrdlFPVUpRUUEySXdBSFpUeGlKbElsdmdBRFhzZ3J5UmFWcW1JaDhhb2lRaDJnCncrSDNiMVBPbEFEeXFyRWxRUzRZSlZwSUV6ZklUVGVmV1Q0U0oybldETTNJOTNsT3BKNWVlSkFNalp6SDFLb2UKa2dKK0dMcWdSMWwyYkgrQzNvZElNR1pveEpnPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCi0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlEVERDQ0FqU2dBd0lCQWdJSVlTRWJsYStYeStJd0RRWUpLb1pJaHZjTkFRRUxCUUF3UkRFU01CQUdBMVVFCkN4TUpiM0JsYm5Ob2FXWjBNUzR3TEFZRFZRUURFeVZyZFdKbExXRndhWE5sY25abGNpMXpaWEoyYVdObExXNWwKZEhkdmNtc3RjMmxuYm1WeU1CNFhEVEl5TURNeE5ERTNOVFl5TUZvWERUTXlNRE14TVRFM05UWXlNRm93UkRFUwpNQkFHQTFVRUN4TUpiM0JsYm5Ob2FXWjBNUzR3TEFZRFZRUURFeVZyZFdKbExXRndhWE5sY25abGNpMXpaWEoyCmFXTmxMVzVsZEhkdmNtc3RjMmxuYm1WeU1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0MKQVFFQWxCRlNrdWZVQ1BKZUh3UG9yL1JWbWpNVS9xOVNlaTZwZGRjTXRhOUdJVjVJMFhyT1d1c0E2UGxKL3ZMMgpFcXA4SFlNVWtCY0ZhalZQU3JLQ0Ntcmt5eUR0YmlGVCs5elNBSnA0Ry9KcGZqdldxcWo4OStLeEZZbC9PVlBUCmRQay9MYUIvR2tDK3AvQjlJVitMS0JkNnVRY3pUUU5PL095QVhmakVYc3ltc09jUml6c0Z1WFhYSUNLSSs4S0UKY0ZONmRUK3lpM3g1TnRET29EQThNdm5IWCtaV2wrb2Zaa0dkdldFOUlsTTQvVlI0R2MzNlJoSVFsTDJFbEgyWQplT0c5ai9vTVNQRUVvU1gxc01UYXIrME9yMHJWWmpCdjNkSkt2MUdScldzdk9tdVR0Y1NFR3FvOHZuVWFUdS8rCmVKTmJHcGFoMExldkhWSmt2emVPQkJOZ1FRSURBUUFCbzBJd1FEQU9CZ05WSFE4QkFmOEVCQU1DQXFRd0R3WUQKVlIwVEFRSC9CQVV3QXdFQi96QWRCZ05WSFE0RUZnUVVCenN1S3BLaVdJbnRwK201TGZYbm14bHRMUjB3RFFZSgpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFJSWJ2SWlPMGVWK3c0WUZWV0NCZGZXdnUrQ05acnBzRkNDU1JWVURLRGdhCmRzKzdLT29kcm9oeTR6NENwbGlwZm1paDBvblBGTDQwbXNNbDc4RE44NUYyai9zbmtBYy9QcUlhT2t0NUtSREgKUjJ4Z2FublgvS2pWbXF6cmd4NzF2OFRyZm9lZ3o4NHpYcTNiK0YwcnBvU09rbHgyVGdqbW1kSllKWHlPbkl3bwplalRRSDJ5LzJOcksyQW9vSGp2dk9OblQ3U0lEZzJONXU3dTRmaEJxcnBUOXdKVnEwd2w3Wkx1M0ZCYnZVUENzCkMwOXdRQkZVN0RLRzBFMnFXcGo3OEVTa1hQdzduQld6WTFUemNLL3dRK1hWalhQenIvWmpqNHlRR0FNRVh0aXIKM21sVCtmeUhWU2draVRCNVdhcG5vMnRnbXpUQXVsL1lqYXg3b1ZCSlo2dz0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJRGx6Q0NBbitnQXdJQkFnSUlVNjhlTG1hL2dxQXdEUVlKS29aSWh2Y05BUUVMQlFBd1dURlhNRlVHQTFVRQpBd3hPYjNCbGJuTm9hV1owTFd0MVltVXRZWEJwYzJWeWRtVnlMVzl3WlhKaGRHOXlYMnh2WTJGc2FHOXpkQzF5ClpXTnZkbVZ5ZVMxelpYSjJhVzVuTFhOcFoyNWxja0F4TmpRM01qZ3hNak01TUI0WERUSXlNRE14TkRFNE1EY3gKT0ZvWERUTXlNRE14TVRFNE1EY3hPVm93V1RGWE1GVUdBMVVFQXd4T2IzQmxibk5vYVdaMExXdDFZbVV0WVhCcApjMlZ5ZG1WeUxXOXdaWEpoZEc5eVgyeHZZMkZzYUc5emRDMXlaV052ZG1WeWVTMXpaWEoyYVc1bkxYTnBaMjVsCmNrQXhOalEzTWpneE1qTTVNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQXVIZ2oKemRMZStIV2paOEdNMjEwVG93czB6aldEN3A3dGZjYkhzamgxcTJPS0w3S1dsTnkyQSt5QS9DMHp2aWpZSGh3cQptaUpsUTNRWWViS3JaT2NsWWR4TU9yUGpFNHdYaVhMV3RTZEtaNkpzUkFWbWJXNTVoY3l0Y3phd2NVcDVUMWQyCjdGZ0oxQjhvazJTWVR2UldGQnJSVXU0Vmw3cUdsNGdyaWNxTmJ1QXdzTlRYTEdJM1RoTFlhQU9EY2pXcno3VFIKRzNCY3kvMEpSdElxcXZ2WkdQa3B1ellvYmxod1B5TDBTSGlKMC82blZvS0plbmw0VG9UV3dCUHdsYVk4OXFYSQpoY3k0cTdKT1U0ZncxOHFXVFY3S25PTjdIQ2xEbGhCRFpzYlpqRHpULzZteEZ0S2VHemdHY0NKVHowcnQva096CmZlTFg1cUhsVXpDcEZ0bDlId0lEQVFBQm8yTXdZVEFPQmdOVkhROEJBZjhFQkFNQ0FxUXdEd1lEVlIwVEFRSC8KQkFVd0F3RUIvekFkQmdOVkhRNEVGZ1FVUHhoWDBuNS8xRlFTNU1aRVlVcURXU25ZS2dvd0h3WURWUjBqQkJndwpGb0FVUHhoWDBuNS8xRlFTNU1aRVlVcURXU25ZS2dvd0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFBaDkzUTBDCjM0YVlQSmtQRXpSR3JOcFk0TU9DbGdpVFlPQmhKWm55em44NlFldGNsR1BiMWtLMWJySTdQbGx3N3VYcjJuTW4KU29WS3BHRUlNQzNublVNWnBTM1IyaVVyVVp6eEV2dS9hWXhsKzB4dU9WQnkyMFU0N1hLbnlJUGhHM1pqOTBoWQpBTzhrRXllVW1wbmkrRlJ6Wjd0bWRVQzM4OFUvVldoOEtMbmM1Q2x0b0FzTTJBK0JpSjhXbTJFWVg0eThtU285CjIybE45ZzFjZWJDQlNuOU5oaEd3TkFFczV0VE5MQ3RQWnB4dDF1dU5uV0daWXBnZFVreWZXN1BMcVRQTmV0RjYKRTQ1eFNaVG83ZGJwZ3M2aldVOEJ3VDBjV0ZzRzVoUWI2NFl3cDkzOXpuNG0wc2ZDVnBOaFl6dmtwSFplS25SNgpTR3UvbHI0TEdORlp4TFk9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURuekNDQW9lZ0F3SUJBZ0lJT0w5WVJtNXl0YmN3RFFZSktvWklodmNOQVFFTEJRQXdKakVrTUNJR0ExVUUKQXd3YmFXNW5jbVZ6Y3kxdmNHVnlZWFJ2Y2tBeE5qUTNNamd4TXpBd01CNFhEVEl5TURNeE5ERTRNRGd5TUZvWApEVEkwTURNeE16RTRNRGd5TVZvd1B6RTlNRHNHQTFVRUF3dzBLaTVoY0hCekxtcGxjbnBvWVc1bkxUSXlNRE14Ck5DMTBaWE4wTG1SbGRtTnNkWE4wWlhJdWIzQmxibk5vYVdaMExtTnZiVENDQVNJd0RRWUpLb1pJaHZjTkFRRUIKQlFBRGdnRVBBRENDQVFvQ2dnRUJBSnc1MEhoYWZBdklLcHAxVG1PNkNBTHZSbVVXRUdBMU42Tm5hbmpCKzZldApUWFpaZkk5M0lGT0dDRUFpdXh1dGk4Q1lXV0JQRFpTQWR5ZDhBNnl2cmczYzNzL0haQ3J6T0J1QlM2YkR1YnJBCmRNdEtldjRGSVhzcGlDWVBETTU0Mm8vdXR6Z1Btck45ajdhZDJ1Vmdoc2F6S1dHQ2VyeUJvQWJjZzZZUDlLRS8KTDJkZjFWV0c1ZE5ibU1vVlIzL0hKcnp6aVpCekhkd3ZFMXZBYmxiSmFHZE5JVVFQMzJLamdkazFhMDFUUnRVMApGSXV0WXRZN2V3VkdwNGYxQnZHeUkxbmF4TDJnN0VxVkZWWlBoalVybnBYeG1EeXNGOVRXb2s5ckVLSzVxZVpDCndJZGNDd2lCazE1SmV5NlliUmZOV3lQM2ZKLzRJbUJkTTNMMUl1cGJzcDhDQXdFQUFhT0J0ekNCdERBT0JnTlYKSFE4QkFmOEVCQU1DQmFBd0V3WURWUjBsQkF3d0NnWUlLd1lCQlFVSEF3RXdEQVlEVlIwVEFRSC9CQUl3QURBZApCZ05WSFE0RUZnUVUrR0dXQ0hXbElGZFZUQlRaNW9abWdaTGo3Wll3SHdZRFZSMGpCQmd3Rm9BVVpSZHhoQVJwCkovMi9PUmhxMEJkZHIzZ1hxdFF3UHdZRFZSMFJCRGd3Tm9JMEtpNWhjSEJ6TG1wbGNucG9ZVzVuTFRJeU1ETXgKTkMxMFpYTjBMbVJsZG1Oc2RYTjBaWEl1YjNCbGJuTm9hV1owTG1OdmJUQU5CZ2txaGtpRzl3MEJBUXNGQUFPQwpBUUVBblgyY2FaeWtTNTVLcUF0cTN3OHlNS1FqQkJhanc5S1pLK0hGdmdqN0swcHFCKy9SL21PdFdBaW54RFZXCk1LM0w5RmdyTktBMHI0QUpCYVA1K3FLV0VxRW90ZmYxWmFOc0k5OUtwTUlxeVo2T1BWT3FuWnJ3RTVrZllhVk0KdHFVYnMzaFVXa0RJRWZVdzF6QVpQeXJNQ3RCS0NWSDhScG5BRDEwVUEzQ2lNd3pjS0w3cEYrNEJ2TmtrNjNlNApyL1h4MkFNZ21oWjBUVzhCZGYwK0orWFhNNVg4a3Y1VWhkZ08vSmdwNjg4cllqR3E2bHVWUFBBU1d0VkpsZmVOClNreW9zaC9UZjZLQkZCWHltVkozS2RCR3FVMSthaHpnNEtqNnBwV0I5dUtsNTZIY2VjV3pCb1VFcXg0czNubm0KMXU3QVI2RUQrbEtaSkxVTEYrZ1VmVU0vTWc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCi0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlERERDQ0FmU2dBd0lCQWdJQkFUQU5CZ2txaGtpRzl3MEJBUXNGQURBbU1TUXdJZ1lEVlFRRERCdHBibWR5ClpYTnpMVzl3WlhKaGRHOXlRREUyTkRjeU9ERXpNREF3SGhjTk1qSXdNekUwTVRnd09ERTVXaGNOTWpRd016RXoKTVRnd09ESXdXakFtTVNRd0lnWURWUVFEREJ0cGJtZHlaWE56TFc5d1pYSmhkRzl5UURFMk5EY3lPREV6TURBdwpnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFEQ1lKTXM1eU5WdHFDSlF4ZWk0bCtvCkM5QmFRenBNSnloTG5ZWllLRlNzZEp3WkJ2aTZIcUJqeEFmUWg4VmhrN28yTkU3Q2pqTExNMUoxd2JSeVBSclkKUjk1VkJhRmdsYjRiSGx2WG1TaE55RTRBTE1LbHJxalZHeGhiVktkQWlzQnkrTFp6ZE43WFBWaDVkZUp6MlZzSwpUMi9BZ0E4MWVYWVYxQzNCdFpQYjVNdEFtZ2FwTTlFcXBJRkRZQlJpYVR5Z1RpSFRLTHo2RXkxZkhWOHRoeEdXCmZ5VU9tR0xNNGtHai92OXdYODhGc0RnUXV5YlRqNlF5T21yakZsc2JPUEdVUGJtNDN6R2xaWEg0am1BalErT0MKcVhqSUxsWlJIa3pLcncyOGFQcWdtRHNKaW5mZ2FOcDJJalFQSUZvRm16d1Mwa2MxemtmYnhDci90Y0RRM1laagpBZ01CQUFHalJUQkRNQTRHQTFVZER3RUIvd1FFQXdJQ3BEQVNCZ05WSFJNQkFmOEVDREFHQVFIL0FnRUFNQjBHCkExVWREZ1FXQkJSbEYzR0VCR2tuL2I4NUdHclFGMTJ2ZUJlcTFEQU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FRRUEKcDVtM1NHUGNiYVVqVjlvTUF4MDgvc0QrOExsKzZlSU90dzV6MUNBbisyV00vRnlpbjBCMUM1bm5XbUxaaWZ4ZgpSM1pWTytISWMzRHFYVnZXSHNSSHcyajEvRzFvN2YzNHpUTkV4dHNqampQUFdyOHVpVm9kL0V6cUZWcmFwRnJLClNHamQ4R3JtNklEWXQ2UGx5UFFjTlQ1TkVrckdCQWhqSStxWFo2SElVTWZQTlBpVGlHRWJrdmJKdVB1MTdxRzIKV3g0YWFNdkJJZGtFZjVaZm03aTRLUS82cEtmUXJ3MWptbjU0cUQ5KzFzc2Y1YXNqaE5pUEswTkk3a0FVSC92Qwpnd2JXQWI5MmlwVVQ1WTh2UXYwMDNZejltakNPK093UDBGK21EUm4yakFqTlY1SGdMdTE1Rlk3andWVWVaRHB0ClJ2T0VmZ0IzWjZlbW1qaFpGdjVsaUE9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg%3D%3D%0A%20%20%20%20server%3A%20https%3A%2F%2Fapi-int.jerzhang-220314-test.devcluster.openshift.com%3A6443%0A%20%20name%3A%20local%0Acontexts%3A%0A-%20context%3A%0A%20%20%20%20cluster%3A%20local%0A%20%20%20%20user%3A%20kubelet%0A%20%20name%3A%20kubelet%0Acurrent-context%3A%20kubelet%0Apreferences%3A%20%7B%7D%0Ausers%3A%0A-%20name%3A%20kubelet%0A%20%20user%3A%0A%20%20%20%20token%3A%20eyJhbGciOiJSUzI1NiIsImtpZCI6IjIwdWgyallVUmoyQVZlT2E0VHdWQTdUUFN0Yy1BREk4c1hOV282TFQzNGsifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJvcGVuc2hpZnQtbWFjaGluZS1jb25maWctb3BlcmF0b3IiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlY3JldC5uYW1lIjoibm9kZS1ib290c3RyYXBwZXItdG9rZW4iLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlcnZpY2UtYWNjb3VudC5uYW1lIjoibm9kZS1ib290c3RyYXBwZXIiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlcnZpY2UtYWNjb3VudC51aWQiOiIzNmE5ZmY3MS1lNzU4LTRlZTItYmEwYy04NGUyODk2MDJlOTEiLCJzdWIiOiJzeXN0ZW06c2VydmljZWFjY291bnQ6b3BlbnNoaWZ0LW1hY2hpbmUtY29uZmlnLW9wZXJhdG9yOm5vZGUtYm9vdHN0cmFwcGVyIn0.tPyWanBvatzFA-7XXCgTGblt07gOLyx_3XujBJxbNHGcxD08YtjDPMsMkufhBJZme58PLBnTHtZHIEHp9VwFw3PsfUgvbk9OciC0p3U9odoRw4kgyXEea7Pps-TQPO9zHyzJcRV5y72-wMfUZG7K5-t_R055-cJ_uASyJKYQNyE4LL7Xb9-InYVt0U6bFUbO549mLf9gC10dCaJwgcF_22j1T1KgVHjgqRzUtPikLFQmsUNRn5-5t3GsTuRfklcI-apO2GSprB03I79pWl9baYFAlNmW03RDON5Z_KgF9BSls55ndzPrQaCWCVcH345cTFsHCw3fGViHl-U8TC2ynw%0A","verification":{}},"mode":420},{"group":{},"overwrite":true,"path":"/etc/mcs-machine-config-content.json","user":{},"contents":{"source":"data:,%7B%0A%20%20%20%20%22metadata%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%22name%22%3A%20%22rendered-worker-f0e071d98b81d59642a592f1d5cd0c89%22%2C%0A%20%20%20%20%20%20%20%20%22uid%22%3A%20%22b42edfb7-245a-4b85-8333-b6da90ac5347%22%2C%0A%20%20%20%20%20%20%20%20%22resourceVersion%22%3A%20%227371%22%2C%0A%20%20%20%20%20%20%20%20%22generation%22%3A%201%2C%0A%20%20%20%20%20%20%20%20%22annotations%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22machineconfiguration.openshift.io%2Fgenerated-by-controller-version%22%3A%20%2214a1ca2cb91ff7e0faf9146b21ba12cd6c652d22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22machineconfiguration.openshift.io%2Frelease-image-version%22%3A%20%224.10.0-rc.2%22%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%22ownerReferences%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22apiVersion%22%3A%20%22machineconfiguration.openshift.io%2Fv1%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22kind%22%3A%20%22MachineConfigPool%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22name%22%3A%20%22worker%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22uid%22%3A%20%22f306ea75-bc63-4bf8-8c55-3f6c4c5b7cce%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22controller%22%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22blockOwnerDeletion%22%3A%20true%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%22managedFields%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22manager%22%3A%20%22machine-config-controller%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22operation%22%3A%20%22Update%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22apiVersion%22%3A%20%22machineconfiguration.openshift.io%2Fv1%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22time%22%3A%20%222022-03-14T18%3A07%3A55Z%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22fieldsType%22%3A%20%22FieldsV1%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22fieldsV1%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22f%3Ametadata%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22f%3Aannotations%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22.%22%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22f%3Amachineconfiguration.openshift.io%2Fgenerated-by-controller-version%22%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22f%3Amachineconfiguration.openshift.io%2Frelease-image-version%22%3A%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22f%3AownerReferences%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22.%22%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22k%3A%7B%5C%22uid%5C%22%3A%5C%22f306ea75-bc63-4bf8-8c55-3f6c4c5b7cce%5C%22%7D%22%3A%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22f%3Aspec%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22.%22%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22f%3Aconfig%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22.%22%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22f%3Aignition%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22.%22%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22f%3Aversion%22%3A%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22f%3Apasswd%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22.%22%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22f%3Ausers%22%3A%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22f%3Astorage%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22.%22%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22f%3Afiles%22%3A%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22f%3Asystemd%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22.%22%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22f%3Aunits%22%3A%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22f%3Aextensions%22%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22f%3Afips%22%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22f%3AkernelArguments%22%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22f%3AkernelType%22%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22f%3AosImageURL%22%3A%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%7D%2C%0A%20%20%20%20%22spec%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%22osImageURL%22%3A%20%22quay.io%2Fopenshift-release-dev%2Focp-v4.0-art-dev%40sha256%3A1b5db764a79066c90a06f05efe2bc69ab974391edffbfe155f01996c133a848c%22%2C%0A%20%20%20%20%20%20%20%20%22config%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22ignition%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22version%22%3A%20%223.2.0%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22passwd%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22users%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22name%22%3A%20%22core%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22sshAuthorizedKeys%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22ssh-rsa%20AAAAB3NzaC1yc2EAAAADAQABAAACAQCbXCby9r69mn%2BlGn7%2FmjZRkr%2BShGWmVcXT4pbwA8IJBkjJg%2FEtXFuL1VjP5QbbWvjakQ1ZpMEYkL4V1Gm1etzkoDuMV%2BVhvvL8uW59XezLH1My9RQ5vtXY7GpB3t4qbTX2AQ5abAlTAoRgOxr5mKT62m3uUpU6HBWkcqwhNGRNPQOhUBybbpxMyakJ%2FTyS5F7GOajsCWdhx3ErldXrtUgbArPwR16Nh0lA3jO81QJnKzbkcaVlCNd8A3to0Dx1g5cel2HDK37Ri6xYZssh1qGN%2Bfecc7Gf4lqvp1gGMtKMyZw8t54%2FcJrSeVhzi%2Bmq8aeTIaOAwpoa8C4H80HE35wog1tsS0WALlPdNZ8IyPZRfhH3iG12X0WttB5x2hHngQaYzSWzs1TvEGwrci1Y8EFE1xXG6ArAPG5Iy79tmXlOZM%2FR%2FD1K6oVRrVB6T4fWKtHFHJExlRI6HWT%2BQxye96RPWxEdKEhWzOLRrBiWPSXYCtT4SCbBirP4C%2FhtnDNcMGlT%2FHIETVf0R%2BixjnsqeYYQn15cXvWSSDQ4LTnW9vBrDLsWVFV8hJ4outZ67Ztf%2FtBuGKfUFzLkTCFhWJER1bbH7Zhxn5xCplI4REr2%2BPKnhRaPCrz6W2TRO94pACkJG3M4eP3OyCbVfC1N1c0%2BMPwwJ0R7TAllli94t5jQthu8xw%3D%3D%5Cn%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22storage%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22files%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22source%22%3A%20%22data%3A%2C%255Bkeyfile%255D%250Apath%253D%252Fetc%252FNetworkManager%252Fsystem-connections%250A%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mode%22%3A%20420%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22overwrite%22%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22path%22%3A%20%22%2Fetc%2FNetworkManager%2Fconf.d%2F20-keyfiles.conf%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22source%22%3A%20%22data%3A%2C%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mode%22%3A%20384%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22overwrite%22%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22path%22%3A%20%22%2Fetc%2Fpki%2Fca-trust%2Fsource%2Fanchors%2Fopenshift-config-user-ca-bundle.crt%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22source%22%3A%20%22data%3A%2C%2523%2520This%2520file%2520is%2520managed%2520by%2520machine-config-operator.%250A%2523%2520Suppress%2520audit%2520rules%2520which%2520always%2520trigger%2520for%2520container%250A%2523%2520workloads%252C%2520as%2520they%2520spam%2520the%2520audit%2520log.%2520%2520Workloads%2520are%2520expected%250A%2523%2520to%2520be%2520dynamic%252C%2520and%2520the%2520networking%2520stack%2520uses%2520iptables.%250A-a%2520exclude%252Calways%2520-F%2520msgtype%253DNETFILTER_CFG%250A%2523%2520The%2520default%2520bridged%2520networking%2520enables%2520promiscuous%2520on%2520the%2520veth%250A%2523%2520device.%2520%2520Ideally%252C%2520we'd%2520teach%2520audit%2520to%2520ignore%2520only%2520veth%2520devices%252C%250A%2523%2520since%2520one%2520might%2520legitimately%2520care%2520about%2520promiscuous%2520on%2520real%2520physical%250A%2523%2520devices.%2520%2520But%2520we%2520can't%2520currently%2520differentiate.%250A-a%2520exclude%252Calways%2520-F%2520msgtype%253DANOM_PROMISCUOUS%250A%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mode%22%3A%20420%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22overwrite%22%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22path%22%3A%20%22%2Fetc%2Faudit%2Frules.d%2Fmco-audit-quiet-containers.rules%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22source%22%3A%20%22data%3A%2Cr%2520%252Fetc%252Fkubernetes%252Fcni%252Fnet.d%252F80-openshift-network.conf%250Ar%2520%252Fetc%252Fkubernetes%252Fcni%252Fnet.d%252F10-ovn-kubernetes.conf%250Ad%2520%252Frun%252Fmultus%252Fcni%252Fnet.d%252F%25200755%2520root%2520root%2520-%2520-%250AD%2520%252Fvar%252Flib%252Fcni%252Fnetworks%252Fopenshift-sdn%252F%25200755%2520root%2520root%2520-%2520-%250A%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mode%22%3A%20420%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22overwrite%22%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22path%22%3A%20%22%2Fetc%2Ftmpfiles.d%2Fcleanup-cni.conf%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22source%22%3A%20%22data%3A%2C%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mode%22%3A%20420%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22overwrite%22%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22path%22%3A%20%22%2Fetc%2Fkubernetes%2Fstatic-pod-resources%2Fconfigmaps%2Fcloud-config%2Fca-bundle.pem%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22source%22%3A%20%22data%3A%2C%2523!%252Fbin%252Fbash%250Aset%2520-eux%250A%2523%2520This%2520file%2520is%2520not%2520needed%2520anymore%2520in%25204.7%252B%252C%2520but%2520when%2520rolling%2520back%2520to%25204.6%250A%2523%2520the%2520ovs%2520pod%2520needs%2520it%2520to%2520know%2520ovs%2520is%2520running%2520on%2520the%2520host.%250Atouch%2520%252Fvar%252Frun%252Fovs-config-executed%250ANM_CONN_PATH%253D%2522%252Fetc%252FNetworkManager%252Fsystem-connections%2522%250A%250AMANAGED_NM_CONN_SUFFIX%253D%2522-slave-ovs-clone%2522%250A%2523%2520Workaround%2520to%2520ensure%2520OVS%2520is%2520installed%2520due%2520to%2520bug%2520in%2520systemd%2520Requires%253A%250A%2523%2520https%253A%252F%252Fbugzilla.redhat.com%252Fshow_bug.cgi%253Fid%253D1888017%250Acopy_nm_conn_files()%2520%257B%250A%2520%2520local%2520src_path%253D%2522%2524NM_CONN_PATH%2522%250A%2520%2520local%2520dst_path%253D%2522%25241%2522%250A%2520%2520if%2520%255B%2520%2522%2524src_path%2522%2520%253D%2520%2522%2524dst_path%2522%2520%255D%253B%2520then%250A%2520%2520%2520%2520echo%2520%2522No%2520need%2520to%2520copy%2520configuration%2520files%252C%2520source%2520and%2520destination%2520are%2520the%2520same%2522%250A%2520%2520%2520%2520return%250A%2520%2520fi%250A%2520%2520if%2520%255B%2520-d%2520%2522%2524src_path%2522%2520%255D%253B%2520then%250A%2520%2520%2520%2520echo%2520%2522%2524src_path%2520exists%2522%250A%2520%2520%2520%2520local%2520files%253D(%2522%2524%257BMANAGED_NM_CONN_FILES%255B%2540%255D%257D%2522)%250A%2520%2520%2520%2520shopt%2520-s%2520nullglob%250A%2520%2520%2520%2520files%252B%253D(%2524src_path%252F*%2524%257BMANAGED_NM_CONN_SUFFIX%257D.nmconnection%2520%2524src_path%252F*%2524%257BMANAGED_NM_CONN_SUFFIX%257D)%250A%2520%2520%2520%2520shopt%2520-u%2520nullglob%250A%2520%2520%2520%2520for%2520file%2520in%2520%2522%2524%257Bfiles%255B%2540%255D%257D%2522%253B%2520do%250A%2520%2520%2520%2520%2520%2520file%253D%2522%2524(basename%2520%2524file)%2522%250A%2520%2520%2520%2520%2520%2520if%2520%255B%2520-f%2520%2522%2524src_path%252F%2524file%2522%2520%255D%253B%2520then%250A%2520%2520%2520%2520%2520%2520%2520%2520if%2520%255B%2520!%2520-f%2520%2522%2524dst_path%252F%2524file%2522%2520%255D%253B%2520then%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520echo%2520%2522Copying%2520configuration%2520%2524file%2522%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520cp%2520%2522%2524src_path%252F%2524file%2522%2520%2522%2524dst_path%252F%2524file%2522%250A%2520%2520%2520%2520%2520%2520%2520%2520elif%2520!%2520cmp%2520--silent%2520%2522%2524src_path%252F%2524file%2522%2520%2522%2524dst_path%252F%2524file%2522%253B%2520then%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520echo%2520%2522Copying%2520updated%2520configuration%2520%2524file%2522%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520cp%2520-f%2520%2522%2524src_path%252F%2524file%2522%2520%2522%2524dst_path%252F%2524file%2522%250A%2520%2520%2520%2520%2520%2520%2520%2520else%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520echo%2520%2522Skipping%2520%2524file%2520since%2520it's%2520equal%2520at%2520destination%2522%250A%2520%2520%2520%2520%2520%2520%2520%2520fi%250A%2520%2520%2520%2520%2520%2520else%250A%2520%2520%2520%2520%2520%2520%2520%2520echo%2520%2522Skipping%2520%2524file%2520since%2520it%2520does%2520not%2520exist%2520at%2520source%2522%250A%2520%2520%2520%2520%2520%2520fi%250A%2520%2520%2520%2520done%250A%2520%2520fi%250A%257D%250A%250Aupdate_nm_conn_files()%2520%257B%250A%2520%2520bridge_name%253D%2524%257B1%257D%250A%2520%2520port_name%253D%2524%257B2%257D%250A%2520%2520ovs_port%253D%2522ovs-port-%2524%257Bbridge_name%257D%2522%250A%2520%2520ovs_interface%253D%2522ovs-if-%2524%257Bbridge_name%257D%2522%250A%2520%2520default_port_name%253D%2522ovs-port-%2524%257Bport_name%257D%2522%2520%2523%2520ovs-port-phys0%250A%2520%2520bridge_interface_name%253D%2522ovs-if-%2524%257Bport_name%257D%2522%2520%2523%2520ovs-if-phys0%250A%2523%2520In%2520RHEL7%2520files%2520in%2520%252F%257Betc%252Crun%257D%252FNetworkManager%252Fsystem-connections%2520end%2520without%2520the%2520suffix%2520'.nmconnection'%252C%2520whereas%2520in%2520RHCOS%2520they%2520end%2520with%2520the%2520suffix.%250A%2520%2520MANAGED_NM_CONN_FILES%253D(%2524(echo%2520%257B%2522%2524bridge_name%2522%252C%2522%2524ovs_interface%2522%252C%2522%2524ovs_port%2522%252C%2522%2524bridge_interface_name%2522%252C%2522%2524default_port_name%2522%257D%2520%257B%2522%2524bridge_name%2522%252C%2522%2524ovs_interface%2522%252C%2522%2524ovs_port%2522%252C%2522%2524bridge_interface_name%2522%252C%2522%2524default_port_name%2522%257D.nmconnection))%250A%257D%250A%250A%2523%2520Used%2520to%2520remove%2520files%2520managed%2520by%2520configure-ovs%250Arm_nm_conn_files()%2520%257B%250A%2520%2520local%2520files%253D(%2522%2524%257BMANAGED_NM_CONN_FILES%255B%2540%255D%257D%2522)%250A%2520%2520shopt%2520-s%2520nullglob%250A%2520%2520files%252B%253D(%2524%257BNM_CONN_PATH%257D%252F*%2524%257BMANAGED_NM_CONN_SUFFIX%257D.nmconnection%2520%2524%257BNM_CONN_PATH%257D%252F*%2524%257BMANAGED_NM_CONN_SUFFIX%257D)%250A%2520%2520shopt%2520-u%2520nullglob%250A%2520%2520for%2520file%2520in%2520%2522%2524%257Bfiles%255B%2540%255D%257D%2522%253B%2520do%250A%2520%2520%2520%2520file%253D%2522%2524(basename%2520%2524file)%2522%250A%2520%2520%2520%2520file_path%253D%2522%2524%257BNM_CONN_PATH%257D%252F%2524file%2522%250A%2520%2520%2520%2520if%2520%255B%2520-f%2520%2522%2524file_path%2522%2520%255D%253B%2520then%250A%2520%2520%2520%2520%2520%2520rm%2520-f%2520%2522%2524file_path%2522%250A%2520%2520%2520%2520%2520%2520echo%2520%2522Removed%2520nmconnection%2520file%2520%2524file_path%2522%250A%2520%2520%2520%2520%2520%2520nm_conn_files_removed%253D1%250A%2520%2520%2520%2520fi%250A%2520%2520done%250A%257D%250A%250A%2523%2520Used%2520to%2520clone%2520a%2520slave%2520connection%2520by%2520uuid%252C%2520returns%2520new%2520uuid%250Aclone_slave_connection()%2520%257B%250A%2520%2520local%2520uuid%253D%2522%25241%2522%250A%2520%2520local%2520old_name%250A%2520%2520old_name%253D%2522%2524(nmcli%2520-g%2520connection.id%2520connection%2520show%2520uuid%2520%2522%2524uuid%2522)%2522%250A%2520%2520local%2520new_name%253D%2522%2524%257Bold_name%257D%2524%257BMANAGED_NM_CONN_SUFFIX%257D%2522%250A%2520%2520if%2520nmcli%2520connection%2520show%2520id%2520%2522%2524%257Bnew_name%257D%2522%2520%2526%253E%2520%252Fdev%252Fnull%253B%2520then%250A%2520%2520%2520%2520echo%2520%2522WARN%253A%2520existing%2520ovs%2520slave%2520%2524%257Bnew_name%257D%2520connection%2520profile%2520file%2520found%252C%2520overwriting...%2522%2520%253E%25262%250A%2520%2520%2520%2520nmcli%2520connection%2520delete%2520id%2520%2522%2524%257Bnew_name%257D%2522%2520%2526%253E%2520%252Fdev%252Fnull%250A%2520%2520fi%250A%2520%2520nmcli%2520connection%2520clone%2520%2524uuid%2520%2522%2524%257Bnew_name%257D%2522%2520%2526%253E%2520%252Fdev%252Fnull%250A%2520%2520nmcli%2520-g%2520connection.uuid%2520connection%2520show%2520%2522%2524%257Bnew_name%257D%2522%250A%257D%250A%250A%2523%2520Used%2520to%2520replace%2520an%2520old%2520master%2520connection%2520uuid%2520with%2520a%2520new%2520one%2520on%2520all%2520connections%250Areplace_connection_master()%2520%257B%250A%2520%2520local%2520old%253D%2522%25241%2522%250A%2520%2520local%2520new%253D%2522%25242%2522%250A%2520%2520for%2520conn_uuid%2520in%2520%2524(nmcli%2520-g%2520UUID%2520connection%2520show)%2520%253B%2520do%250A%2520%2520%2520%2520if%2520%255B%2520%2522%2524(nmcli%2520-g%2520connection.master%2520connection%2520show%2520uuid%2520%2522%2524conn_uuid%2522)%2522%2520!%253D%2520%2522%2524old%2522%2520%255D%253B%2520then%250A%2520%2520%2520%2520%2520%2520continue%250A%2520%2520%2520%2520fi%250A%250A%2520%2520%2520%2520%2523%2520make%2520changes%2520for%2520slave%2520profiles%2520in%2520a%2520new%2520clone%250A%2520%2520%2520%2520local%2520new_uuid%250A%2520%2520%2520%2520new_uuid%253D%2524(clone_slave_connection%2520%2524conn_uuid)%250A%250A%2520%2520%2520%2520nmcli%2520conn%2520mod%2520uuid%2520%2524new_uuid%2520connection.master%2520%2522%2524new%2522%250A%2520%2520%2520%2520nmcli%2520conn%2520mod%2520%2524new_uuid%2520connection.autoconnect-priority%2520100%250A%2520%2520%2520%2520echo%2520%2522Replaced%2520master%2520%2524old%2520with%2520%2524new%2520for%2520slave%2520profile%2520%2524new_uuid%2522%250A%2520%2520done%250A%257D%250A%250A%250A%2523%2520when%2520creating%2520the%2520bridge%252C%2520we%2520use%2520a%2520value%2520lower%2520than%2520NM's%2520ethernet%2520device%2520default%2520route%2520metric%250A%2523%2520(we%2520pick%252049%2520to%2520be%2520lower%2520than%2520anything%2520that%2520NM%2520chooses%2520by%2520default)%250ABRIDGE_METRIC%253D%252249%2522%250A%2523%2520Given%2520an%2520interface%252C%2520generates%2520NM%2520configuration%2520to%2520add%2520to%2520an%2520OVS%2520bridge%250Aconvert_to_bridge()%2520%257B%250A%2520%2520iface%253D%2524%257B1%257D%250A%2520%2520bridge_name%253D%2524%257B2%257D%250A%2520%2520port_name%253D%2524%257B3%257D%250A%2520%2520ovs_port%253D%2522ovs-port-%2524%257Bbridge_name%257D%2522%250A%2520%2520ovs_interface%253D%2522ovs-if-%2524%257Bbridge_name%257D%2522%250A%2520%2520default_port_name%253D%2522ovs-port-%2524%257Bport_name%257D%2522%2520%2523%2520ovs-port-phys0%250A%2520%2520bridge_interface_name%253D%2522ovs-if-%2524%257Bport_name%257D%2522%2520%2523%2520ovs-if-phys0%250A%250A%2520%2520if%2520%255B%2520%2522%2524iface%2522%2520%253D%2520%2522%2524bridge_name%2522%2520%255D%253B%2520then%250A%2520%2520%2520%2520%2523%2520handle%2520vlans%2520and%2520bonds%2520etc%2520if%2520they%2520have%2520already%2520been%250A%2520%2520%2520%2520%2523%2520configured%2520via%2520nm%2520key%2520files%2520and%2520br-ex%2520is%2520already%2520up%250A%2520%2520%2520%2520ifaces%253D%2524(ovs-vsctl%2520list-ifaces%2520%2524%257Biface%257D)%250A%2520%2520%2520%2520for%2520intf%2520in%2520%2524ifaces%253B%2520do%2520configure_driver_options%2520%2524intf%253B%2520done%250A%2520%2520%2520%2520echo%2520%2522Networking%2520already%2520configured%2520and%2520up%2520for%2520%2524%257Bbridge-name%257D!%2522%250A%2520%2520%2520%2520return%250A%2520%2520fi%250A%250A%2520%2520if%2520%255B%2520-z%2520%2522%2524iface%2522%2520%255D%253B%2520then%250A%2520%2520%2520%2520echo%2520%2522ERROR%253A%2520Unable%2520to%2520find%2520default%2520gateway%2520interface%2522%250A%2520%2520%2520%2520exit%25201%250A%2520%2520fi%250A%2520%2520%2523%2520find%2520the%2520MAC%2520from%2520OVS%2520config%2520or%2520the%2520default%2520interface%2520to%2520use%2520for%2520OVS%2520internal%2520port%250A%2520%2520%2523%2520this%2520prevents%2520us%2520from%2520getting%2520a%2520different%2520DHCP%2520lease%2520and%2520dropping%2520connection%250A%2520%2520if%2520!%2520iface_mac%253D%2524(%253C%2522%252Fsys%252Fclass%252Fnet%252F%2524%257Biface%257D%252Faddress%2522)%253B%2520then%250A%2520%2520%2520%2520echo%2520%2522Unable%2520to%2520determine%2520default%2520interface%2520MAC%2522%250A%2520%2520%2520%2520exit%25201%250A%2520%2520fi%250A%250A%2520%2520echo%2520%2522MAC%2520address%2520found%2520for%2520iface%253A%2520%2524%257Biface%257D%253A%2520%2524%257Biface_mac%257D%2522%250A%250A%2520%2520%2523%2520find%2520MTU%2520from%2520original%2520iface%250A%2520%2520iface_mtu%253D%2524(ip%2520link%2520show%2520%2522%2524iface%2522%2520%257C%2520awk%2520'%257Bprint%2520%25245%253B%2520exit%257D')%250A%2520%2520if%2520%255B%255B%2520-z%2520%2522%2524iface_mtu%2522%2520%255D%255D%253B%2520then%250A%2520%2520%2520%2520echo%2520%2522Unable%2520to%2520determine%2520default%2520interface%2520MTU%252C%2520defaulting%2520to%25201500%2522%250A%2520%2520%2520%2520iface_mtu%253D1500%250A%2520%2520else%250A%2520%2520%2520%2520echo%2520%2522MTU%2520found%2520for%2520iface%253A%2520%2524%257Biface%257D%253A%2520%2524%257Biface_mtu%257D%2522%250A%2520%2520fi%250A%250A%2520%2520%2523%2520store%2520old%2520conn%2520for%2520later%250A%2520%2520old_conn%253D%2524(nmcli%2520--fields%2520UUID%252CDEVICE%2520conn%2520show%2520--active%2520%257C%2520awk%2520%2522%252F%255Cs%2524%257Biface%257D%255Cs*%255C%2524%252F%2520%257Bprint%2520%255C%25241%257D%2522)%250A%250A%2520%2520extra_brex_args%253D%2522%2522%250A%2520%2520%2523%2520check%2520for%2520dhcp%2520client%2520ids%250A%2520%2520dhcp_client_id%253D%2524(nmcli%2520--get-values%2520ipv4.dhcp-client-id%2520conn%2520show%2520%2524%257Bold_conn%257D)%250A%2520%2520if%2520%255B%2520-n%2520%2522%2524dhcp_client_id%2522%2520%255D%253B%2520then%250A%2520%2520%2520%2520extra_brex_args%252B%253D%2522ipv4.dhcp-client-id%2520%2524%257Bdhcp_client_id%257D%2520%2522%250A%2520%2520fi%250A%250A%2520%2520dhcp6_client_id%253D%2524(nmcli%2520--get-values%2520ipv6.dhcp-duid%2520conn%2520show%2520%2524%257Bold_conn%257D)%250A%2520%2520if%2520%255B%2520-n%2520%2522%2524dhcp6_client_id%2522%2520%255D%253B%2520then%250A%2520%2520%2520%2520extra_brex_args%252B%253D%2522ipv6.dhcp-duid%2520%2524%257Bdhcp6_client_id%257D%2520%2522%250A%2520%2520fi%250A%250A%2520%2520ipv6_addr_gen_mode%253D%2524(nmcli%2520--get-values%2520ipv6.addr-gen-mode%2520conn%2520show%2520%2524%257Bold_conn%257D)%250A%2520%2520if%2520%255B%2520-n%2520%2522%2524ipv6_addr_gen_mode%2522%2520%255D%253B%2520then%250A%2520%2520%2520%2520extra_brex_args%252B%253D%2522ipv6.addr-gen-mode%2520%2524%257Bipv6_addr_gen_mode%257D%2520%2522%250A%2520%2520fi%250A%250A%2520%2520%2523%2520create%2520bridge%250A%2520%2520if%2520!%2520nmcli%2520connection%2520show%2520%2522%2524bridge_name%2522%2520%2526%253E%2520%252Fdev%252Fnull%253B%2520then%250A%2520%2520%2520%2520ovs-vsctl%2520--timeout%253D30%2520--if-exists%2520del-br%2520%2522%2524bridge_name%2522%250A%2520%2520%2520%2520nmcli%2520c%2520add%2520type%2520ovs-bridge%2520%255C%250A%2520%2520%2520%2520%2520%2520%2520%2520con-name%2520%2522%2524bridge_name%2522%2520%255C%250A%2520%2520%2520%2520%2520%2520%2520%2520conn.interface%2520%2522%2524bridge_name%2522%2520%255C%250A%2520%2520%2520%2520%2520%2520%2520%2520802-3-ethernet.mtu%2520%2524%257Biface_mtu%257D%2520%255C%250A%2520%2520%2520%2520%2520%2520%2520%2520ipv4.route-metric%2520%2522%2524BRIDGE_METRIC%2522%2520%255C%250A%2520%2520%2520%2520%2520%2520%2520%2520ipv6.route-metric%2520%2522%2524BRIDGE_METRIC%2522%2520%255C%250A%2520%2520%2520%2520%2520%2520%2520%2520%2524%257Bextra_brex_args%257D%250A%2520%2520fi%250A%250A%2520%2520%2523%2520find%2520default%2520port%2520to%2520add%2520to%2520bridge%250A%2520%2520if%2520!%2520nmcli%2520connection%2520show%2520%2522%2524default_port_name%2522%2520%2526%253E%2520%252Fdev%252Fnull%253B%2520then%250A%2520%2520%2520%2520ovs-vsctl%2520--timeout%253D30%2520--if-exists%2520del-port%2520%2522%2524bridge_name%2522%2520%2524%257Biface%257D%250A%2520%2520%2520%2520nmcli%2520c%2520add%2520type%2520ovs-port%2520conn.interface%2520%2524%257Biface%257D%2520master%2520%2522%2524bridge_name%2522%2520con-name%2520%2522%2524default_port_name%2522%250A%2520%2520fi%250A%250A%2520%2520if%2520!%2520nmcli%2520connection%2520show%2520%2522%2524ovs_port%2522%2520%2526%253E%2520%252Fdev%252Fnull%253B%2520then%250A%2520%2520%2520%2520ovs-vsctl%2520--timeout%253D30%2520--if-exists%2520del-port%2520%2522%2524bridge_name%2522%2520%2522%2524bridge_name%2522%250A%2520%2520%2520%2520nmcli%2520c%2520add%2520type%2520ovs-port%2520conn.interface%2520%2522%2524bridge_name%2522%2520master%2520%2522%2524bridge_name%2522%2520con-name%2520%2522%2524ovs_port%2522%250A%2520%2520fi%250A%250A%2520%2520extra_phys_args%253D()%250A%2520%2520%2523%2520check%2520if%2520this%2520interface%2520is%2520a%2520vlan%252C%2520bond%252C%2520team%252C%2520or%2520ethernet%2520type%250A%2520%2520if%2520%255B%2520%2524(nmcli%2520--get-values%2520connection.type%2520conn%2520show%2520%2524%257Bold_conn%257D)%2520%253D%253D%2520%2522vlan%2522%2520%255D%253B%2520then%250A%2520%2520%2520%2520iface_type%253Dvlan%250A%2520%2520%2520%2520vlan_id%253D%2524(nmcli%2520--get-values%2520vlan.id%2520conn%2520show%2520%2524%257Bold_conn%257D)%250A%2520%2520%2520%2520if%2520%255B%2520-z%2520%2522%2524vlan_id%2522%2520%255D%253B%2520then%250A%2520%2520%2520%2520%2520%2520echo%2520%2522ERROR%253A%2520unable%2520to%2520determine%2520vlan_id%2520for%2520vlan%2520connection%253A%2520%2524%257Bold_conn%257D%2522%250A%2520%2520%2520%2520%2520%2520exit%25201%250A%2520%2520%2520%2520fi%250A%2520%2520%2520%2520vlan_parent%253D%2524(nmcli%2520--get-values%2520vlan.parent%2520conn%2520show%2520%2524%257Bold_conn%257D)%250A%2520%2520%2520%2520if%2520%255B%2520-z%2520%2522%2524vlan_parent%2522%2520%255D%253B%2520then%250A%2520%2520%2520%2520%2520%2520echo%2520%2522ERROR%253A%2520unable%2520to%2520determine%2520vlan_parent%2520for%2520vlan%2520connection%253A%2520%2524%257Bold_conn%257D%2522%250A%2520%2520%2520%2520%2520%2520exit%25201%250A%2520%2520%2520%2520fi%250A%2520%2520%2520%2520extra_phys_args%253D(%2520dev%2520%2522%2524%257Bvlan_parent%257D%2522%2520id%2520%2522%2524%257Bvlan_id%257D%2522%2520)%250A%2520%2520elif%2520%255B%2520%2524(nmcli%2520--get-values%2520connection.type%2520conn%2520show%2520%2524%257Bold_conn%257D)%2520%253D%253D%2520%2522bond%2522%2520%255D%253B%2520then%250A%2520%2520%2520%2520iface_type%253Dbond%250A%2520%2520%2520%2520%2523%2520check%2520bond%2520options%250A%2520%2520%2520%2520bond_opts%253D%2524(nmcli%2520--get-values%2520bond.options%2520conn%2520show%2520%2524%257Bold_conn%257D)%250A%2520%2520%2520%2520if%2520%255B%2520-n%2520%2522%2524bond_opts%2522%2520%255D%253B%2520then%250A%2520%2520%2520%2520%2520%2520extra_phys_args%252B%253D(%2520bond.options%2520%2522%2524%257Bbond_opts%257D%2522%2520)%250A%2520%2520%2520%2520fi%250A%2520%2520elif%2520%255B%2520%2524(nmcli%2520--get-values%2520connection.type%2520conn%2520show%2520%2524%257Bold_conn%257D)%2520%253D%253D%2520%2522team%2522%2520%255D%253B%2520then%250A%2520%2520%2520%2520iface_type%253Dteam%250A%2520%2520%2520%2520%2523%2520check%2520team%2520config%2520options%250A%2520%2520%2520%2520team_config_opts%253D%2524(nmcli%2520--get-values%2520team.config%2520-e%2520no%2520conn%2520show%2520%2524%257Bold_conn%257D)%250A%2520%2520%2520%2520if%2520%255B%2520-n%2520%2522%2524team_config_opts%2522%2520%255D%253B%2520then%250A%2520%2520%2520%2520%2520%2520%2523%2520team.config%2520is%2520json%252C%2520remove%2520spaces%2520to%2520avoid%2520problems%2520later%2520on%250A%2520%2520%2520%2520%2520%2520extra_phys_args%252B%253D(%2520team.config%2520%2522%2524%257Bteam_config_opts%252F%252F%255B%255B%253Aspace%253A%255D%255D%252F%257D%2522%2520)%250A%2520%2520%2520%2520fi%250A%2520%2520else%250A%2520%2520%2520%2520iface_type%253D802-3-ethernet%250A%2520%2520fi%250A%250A%2520%2520%2523%2520use%2520%2524%257Bextra_phys_args%255B%2540%255D%252B%2522%2524%257Bextra_phys_args%255B%2540%255D%257D%2522%257D%2520instead%2520of%2520%2524%257Bextra_phys_args%255B%2540%255D%257D%2520to%2520be%2520compatible%2520with%2520bash%25204.2%2520in%2520RHEL7.9%250A%2520%2520if%2520!%2520nmcli%2520connection%2520show%2520%2522%2524bridge_interface_name%2522%2520%2526%253E%2520%252Fdev%252Fnull%253B%2520then%250A%2520%2520%2520%2520ovs-vsctl%2520--timeout%253D30%2520--if-exists%2520destroy%2520interface%2520%2524%257Biface%257D%250A%2520%2520%2520%2520nmcli%2520c%2520add%2520type%2520%2524%257Biface_type%257D%2520conn.interface%2520%2524%257Biface%257D%2520master%2520%2522%2524default_port_name%2522%2520con-name%2520%2522%2524bridge_interface_name%2522%2520%255C%250A%2520%2520%2520%2520connection.autoconnect-priority%2520100%2520802-3-ethernet.mtu%2520%2524%257Biface_mtu%257D%2520%2524%257Bextra_phys_args%255B%2540%255D%252B%2522%2524%257Bextra_phys_args%255B%2540%255D%257D%2522%257D%250A%2520%2520fi%250A%250A%2520%2520%2523%2520Get%2520the%2520new%2520connection%2520uuid%250A%2520%2520new_conn%253D%2524(nmcli%2520-g%2520connection.uuid%2520conn%2520show%2520%2522%2524bridge_interface_name%2522)%250A%250A%2520%2520%2523%2520Update%2520connections%2520with%2520master%2520property%2520set%2520to%2520use%2520the%2520new%2520connection%250A%2520%2520replace_connection_master%2520%2524old_conn%2520%2524new_conn%250A%2520%2520replace_connection_master%2520%2524iface%2520%2524new_conn%250A%250A%2520%2520if%2520!%2520nmcli%2520connection%2520show%2520%2522%2524ovs_interface%2522%2520%2526%253E%2520%252Fdev%252Fnull%253B%2520then%250A%2520%2520%2520%2520ovs-vsctl%2520--timeout%253D30%2520--if-exists%2520destroy%2520interface%2520%2522%2524bridge_name%2522%250A%2520%2520%2520%2520if%2520nmcli%2520--fields%2520ipv4.method%252Cipv6.method%2520conn%2520show%2520%2524old_conn%2520%257C%2520grep%2520manual%253B%2520then%250A%2520%2520%2520%2520%2520%2520echo%2520%2522Static%2520IP%2520addressing%2520detected%2520on%2520default%2520gateway%2520connection%253A%2520%2524%257Bold_conn%257D%2522%250A%2520%2520%2520%2520%2520%2520%2523%2520find%2520and%2520copy%2520the%2520old%2520connection%2520to%2520get%2520the%2520address%2520settings%250A%2520%2520%2520%2520%2520%2520if%2520egrep%2520-l%2520%2522%255Euuid%253D%2524old_conn%2522%2520%2524%257BNM_CONN_PATH%257D%252F*%253B%2520then%250A%2520%2520%2520%2520%2520%2520%2520%2520old_conn_file%253D%2524(egrep%2520-l%2520%2522%255Euuid%253D%2524old_conn%2522%2520%2524%257BNM_CONN_PATH%257D%252F*)%250A%2520%2520%2520%2520%2520%2520%2520%2520cloned%253Dfalse%250A%2520%2520%2520%2520%2520%2520else%250A%2520%2520%2520%2520%2520%2520%2520%2520echo%2520%2522WARN%253A%2520unable%2520to%2520find%2520NM%2520configuration%2520file%2520for%2520conn%253A%2520%2524%257Bold_conn%257D.%2520Attempting%2520to%2520clone%2520conn%2522%250A%2520%2520%2520%2520%2520%2520%2520%2520nmcli%2520conn%2520clone%2520%2524%257Bold_conn%257D%2520%2524%257Bold_conn%257D-clone%250A%2520%2520%2520%2520%2520%2520%2520%2520shopt%2520-s%2520nullglob%250A%2520%2520%2520%2520%2520%2520%2520%2520old_conn_files%253D(%2524%257BNM_CONN_PATH%257D%252F%2522%2524%257Bold_conn%257D%2522-clone*)%250A%2520%2520%2520%2520%2520%2520%2520%2520shopt%2520-u%2520nullglob%250A%2520%2520%2520%2520%2520%2520%2520%2520if%2520%255B%2520%2524%257B%2523old_conn_files%255B%2540%255D%257D%2520-ne%25201%2520%255D%253B%2520then%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520echo%2520%2522ERROR%253A%2520unable%2520to%2520locate%2520cloned%2520conn%2520file%2520for%2520%2524%257Bold_conn%257D-clone%2522%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520exit%25201%250A%2520%2520%2520%2520%2520%2520%2520%2520fi%250A%2520%2520%2520%2520%2520%2520%2520%2520old_conn_file%253D%2522%2524%257Bold_conn_files%255B0%255D%257D%2522%250A%2520%2520%2520%2520%2520%2520%2520%2520cloned%253Dtrue%250A%2520%2520%2520%2520%2520%2520%2520%2520echo%2520%2522Successfully%2520cloned%2520conn%2520to%2520%2524%257Bold_conn_file%257D%2522%250A%2520%2520%2520%2520%2520%2520fi%250A%2520%2520%2520%2520%2520%2520echo%2520%2522old%2520connection%2520file%2520found%2520at%253A%2520%2524%257Bold_conn_file%257D%2522%250A%2520%2520%2520%2520%2520%2520old_basename%253D%2524(basename%2520%2522%2524%257Bold_conn_file%257D%2522%2520.nmconnection)%250A%2520%2520%2520%2520%2520%2520new_conn_file%253D%2522%2524%257Bold_conn_file%252F%2524%257BNM_CONN_PATH%257D%255C%252F%2524old_basename%252F%2524%257BNM_CONN_PATH%257D%252F%2524ovs_interface%257D%2522%250A%2520%2520%2520%2520%2520%2520if%2520%255B%2520-f%2520%2522%2524new_conn_file%2522%2520%255D%253B%2520then%250A%2520%2520%2520%2520%2520%2520%2520%2520echo%2520%2522WARN%253A%2520existing%2520%2524bridge_name%2520interface%2520file%2520found%253A%2520%2524new_conn_file%252C%2520which%2520is%2520not%2520loaded%2520in%2520NetworkManager...overwriting%2522%250A%2520%2520%2520%2520%2520%2520fi%250A%2520%2520%2520%2520%2520%2520cp%2520-f%2520%2522%2524%257Bold_conn_file%257D%2522%2520%2524%257Bnew_conn_file%257D%250A%2520%2520%2520%2520%2520%2520restorecon%2520%2524%257Bnew_conn_file%257D%250A%2520%2520%2520%2520%2520%2520if%2520%2524cloned%253B%2520then%250A%2520%2520%2520%2520%2520%2520%2520%2520nmcli%2520conn%2520delete%2520%2524%257Bold_conn%257D-clone%250A%2520%2520%2520%2520%2520%2520%2520%2520rm%2520-f%2520%2522%2524%257Bold_conn_file%257D%2522%250A%2520%2520%2520%2520%2520%2520fi%250A%2520%2520%2520%2520%2520%2520ovs_port_conn%253D%2524(nmcli%2520--fields%2520connection.uuid%2520conn%2520show%2520%2522%2524ovs_port%2522%2520%257C%2520awk%2520'%257Bprint%2520%25242%257D')%250A%2520%2520%2520%2520%2520%2520br_iface_uuid%253D%2524(cat%2520%252Fproc%252Fsys%252Fkernel%252Frandom%252Fuuid)%250A%2520%2520%2520%2520%2520%2520%2523%2520modify%2520file%2520to%2520work%2520with%2520OVS%2520and%2520have%2520unique%2520settings%250A%2520%2520%2520%2520%2520%2520sed%2520-i%2520'%252F%255E%255C%255Bconnection%255C%255D%2524%252F%252C%252F%255E%255C%255B%252F%2520s%252F%255Euuid%253D.*%2524%252Fuuid%253D'%2522%2524br_iface_uuid%2522'%252F'%2520%2524%257Bnew_conn_file%257D%250A%2520%2520%2520%2520%2520%2520sed%2520-i%2520'%252F%255Emulti-connect%253D.*%2524%252Fd'%2520%2524%257Bnew_conn_file%257D%250A%2520%2520%2520%2520%2520%2520sed%2520-i%2520'%252F%255E%255C%255Bconnection%255C%255D%2524%252F%252C%252F%255E%255C%255B%252F%2520s%252F%255Etype%253D.*%2524%252Ftype%253Dovs-interface%252F'%2520%2524%257Bnew_conn_file%257D%250A%2520%2520%2520%2520%2520%2520sed%2520-i%2520'%252F%255E%255C%255Bconnection%255C%255D%2524%252F%252C%252F%255E%255C%255B%252F%2520s%252F%255Eid%253D.*%2524%252Fid%253D'%2522%2524ovs_interface%2522'%252F'%2520%2524%257Bnew_conn_file%257D%250A%2520%2520%2520%2520%2520%2520sed%2520-i%2520'%252F%255E%255C%255Bconnection%255C%255D%2524%252Fa%2520slave-type%253Dovs-port'%2520%2524%257Bnew_conn_file%257D%250A%2520%2520%2520%2520%2520%2520sed%2520-i%2520'%252F%255E%255C%255Bconnection%255C%255D%2524%252Fa%2520master%253D'%2522%2524ovs_port_conn%2522%2520%2524%257Bnew_conn_file%257D%250A%2520%2520%2520%2520%2520%2520if%2520grep%2520'interface-name%253D'%2520%2524%257Bnew_conn_file%257D%2520%2526%253E%2520%252Fdev%252Fnull%253B%2520then%250A%2520%2520%2520%2520%2520%2520%2520%2520sed%2520-i%2520'%252F%255E%255C%255Bconnection%255C%255D%2524%252F%252C%252F%255E%255C%255B%252F%2520s%252F%255Einterface-name%253D.*%2524%252Finterface-name%253D'%2522%2524bridge_name%2522'%252F'%2520%2524%257Bnew_conn_file%257D%250A%2520%2520%2520%2520%2520%2520else%250A%2520%2520%2520%2520%2520%2520%2520%2520sed%2520-i%2520'%252F%255E%255C%255Bconnection%255C%255D%2524%252Fa%2520interface-name%253D'%2522%2524bridge_name%2522%2520%2524%257Bnew_conn_file%257D%250A%2520%2520%2520%2520%2520%2520fi%250A%2520%2520%2520%2520%2520%2520if%2520!%2520grep%2520'cloned-mac-address%253D'%2520%2524%257Bnew_conn_file%257D%2520%2526%253E%2520%252Fdev%252Fnull%253B%2520then%250A%2520%2520%2520%2520%2520%2520%2520%2520sed%2520-i%2520'%252F%255E%255C%255Bethernet%255C%255D%2524%252Fa%2520cloned-mac-address%253D'%2522%2524iface_mac%2522%2520%2524%257Bnew_conn_file%257D%250A%2520%2520%2520%2520%2520%2520else%250A%2520%2520%2520%2520%2520%2520%2520%2520sed%2520-i%2520'%252F%255E%255C%255Bethernet%255C%255D%2524%252F%252C%252F%255E%255C%255B%252F%2520s%252F%255Ecloned-mac-address%253D.*%2524%252Fcloned-mac-address%253D'%2522%2524iface_mac%2522'%252F'%2520%2524%257Bnew_conn_file%257D%250A%2520%2520%2520%2520%2520%2520fi%250A%2520%2520%2520%2520%2520%2520if%2520grep%2520'mtu%253D'%2520%2524%257Bnew_conn_file%257D%2520%2526%253E%2520%252Fdev%252Fnull%253B%2520then%250A%2520%2520%2520%2520%2520%2520%2520%2520sed%2520-i%2520'%252F%255E%255C%255Bethernet%255C%255D%2524%252F%252C%252F%255E%255C%255B%252F%2520s%252F%255Emtu%253D.*%2524%252Fmtu%253D'%2522%2524iface_mtu%2522'%252F'%2520%2524%257Bnew_conn_file%257D%250A%2520%2520%2520%2520%2520%2520else%250A%2520%2520%2520%2520%2520%2520%2520%2520sed%2520-i%2520'%252F%255E%255C%255Bethernet%255C%255D%2524%252Fa%2520mtu%253D'%2522%2524iface_mtu%2522%2520%2524%257Bnew_conn_file%257D%250A%2520%2520%2520%2520%2520%2520fi%250A%2520%2520%2520%2520%2520%2520cat%2520%253C%253CEOF%2520%253E%253E%2520%2524%257Bnew_conn_file%257D%250A%255Bovs-interface%255D%250Atype%253Dinternal%250AEOF%250A%2520%2520%2520%2520%2520%2520nmcli%2520c%2520load%2520%2524%257Bnew_conn_file%257D%250A%2520%2520%2520%2520%2520%2520echo%2520%2522Loaded%2520new%2520%2524ovs_interface%2520connection%2520file%253A%2520%2524%257Bnew_conn_file%257D%2522%250A%2520%2520%2520%2520else%250A%2520%2520%2520%2520%2520%2520extra_if_brex_args%253D%2522%2522%250A%2520%2520%2520%2520%2520%2520%2523%2520check%2520if%2520interface%2520had%2520ipv4%252Fipv6%2520addresses%2520assigned%250A%2520%2520%2520%2520%2520%2520num_ipv4_addrs%253D%2524(ip%2520-j%2520a%2520show%2520dev%2520%2524%257Biface%257D%2520%257C%2520jq%2520%2522.%255B0%255D.addr_info%2520%257C%2520map(.%2520%257C%2520select(.family%2520%253D%253D%2520%255C%2522inet%255C%2522))%2520%257C%2520length%2522)%250A%2520%2520%2520%2520%2520%2520if%2520%255B%2520%2522%2524num_ipv4_addrs%2522%2520-gt%25200%2520%255D%253B%2520then%250A%2520%2520%2520%2520%2520%2520%2520%2520extra_if_brex_args%252B%253D%2522ipv4.may-fail%2520no%2520%2522%250A%2520%2520%2520%2520%2520%2520fi%250A%250A%2520%2520%2520%2520%2520%2520%2523%2520IPV6%2520should%2520have%2520at%2520least%2520a%2520link%2520local%2520address.%2520Check%2520for%2520more%2520than%25201%2520to%2520see%2520if%2520there%2520is%2520an%250A%2520%2520%2520%2520%2520%2520%2523%2520assigned%2520address.%250A%2520%2520%2520%2520%2520%2520num_ip6_addrs%253D%2524(ip%2520-j%2520a%2520show%2520dev%2520%2524%257Biface%257D%2520%257C%2520jq%2520%2522.%255B0%255D.addr_info%2520%257C%2520map(.%2520%257C%2520select(.family%2520%253D%253D%2520%255C%2522inet6%255C%2522%2520and%2520.scope%2520!%253D%2520%255C%2522link%255C%2522))%2520%257C%2520length%2522)%250A%2520%2520%2520%2520%2520%2520if%2520%255B%2520%2522%2524num_ip6_addrs%2522%2520-gt%25200%2520%255D%253B%2520then%250A%2520%2520%2520%2520%2520%2520%2520%2520extra_if_brex_args%252B%253D%2522ipv6.may-fail%2520no%2520%2522%250A%2520%2520%2520%2520%2520%2520fi%250A%250A%2520%2520%2520%2520%2520%2520nmcli%2520c%2520add%2520type%2520ovs-interface%2520slave-type%2520ovs-port%2520conn.interface%2520%2522%2524bridge_name%2522%2520master%2520%2522%2524ovs_port%2522%2520con-name%2520%255C%250A%2520%2520%2520%2520%2520%2520%2520%2520%2522%2524ovs_interface%2522%2520802-3-ethernet.mtu%2520%2524%257Biface_mtu%257D%2520802-3-ethernet.cloned-mac-address%2520%2524%257Biface_mac%257D%2520%255C%250A%2520%2520%2520%2520%2520%2520%2520%2520ipv4.route-metric%2520%2522%2524BRIDGE_METRIC%2522%2520ipv6.route-metric%2520%2522%2524BRIDGE_METRIC%2522%2520%2524%257Bextra_if_brex_args%257D%250A%2520%2520%2520%2520fi%250A%2520%2520fi%250A%250A%2520%2520configure_driver_options%2520%2522%2524%257Biface%257D%2522%250A%2520%2520update_nm_conn_files%2520%2522%2524bridge_name%2522%2520%2522%2524port_name%2522%250A%257D%250A%250A%2523%2520Used%2520to%2520remove%2520a%2520bridge%250Aremove_ovn_bridges()%2520%257B%250A%2520%2520bridge_name%253D%2524%257B1%257D%250A%2520%2520port_name%253D%2524%257B2%257D%250A%250A%2520%2520%2523%2520Reload%2520configuration%252C%2520after%2520reload%2520the%2520preferred%2520connection%2520profile%250A%2520%2520%2523%2520should%2520be%2520auto-activated%250A%2520%2520update_nm_conn_files%2520%2524%257Bbridge_name%257D%2520%2524%257Bport_name%257D%250A%2520%2520rm_nm_conn_files%250A%250A%2520%2520%2523%2520NetworkManager%2520will%2520not%2520remove%2520%2524%257Bbridge_name%257D%2520if%2520it%2520has%2520the%2520patch%2520port%2520created%2520by%2520ovn-kubernetes%250A%2520%2520%2523%2520so%2520remove%2520explicitly%250A%2520%2520ovs-vsctl%2520--timeout%253D30%2520--if-exists%2520del-br%2520%2524%257Bbridge_name%257D%250A%257D%250A%250A%2523%2520Removes%2520any%2520previous%2520ovs%2520configuration%250Aremove_all_ovn_bridges()%2520%257B%250A%2520%2520echo%2520%2522Reverting%2520any%2520previous%2520OVS%2520configuration%2522%250A%2520%2520%250A%2520%2520remove_ovn_bridges%2520br-ex%2520phys0%250A%2520%2520if%2520%255B%2520-d%2520%2522%252Fsys%252Fclass%252Fnet%252Fbr-ex1%2522%2520%255D%253B%2520then%250A%2520%2520%2520%2520remove_ovn_bridges%2520br-ex1%2520phys1%250A%2520%2520fi%250A%2520%2520%250A%2520%2520echo%2520%2522OVS%2520configuration%2520successfully%2520reverted%2522%250A%257D%250A%250A%2523%2520Reloads%2520NetworkManager%250Areload_nm()%2520%257B%250A%2520%2520echo%2520%2522Reloading%2520NetworkManager...%2522%250A%250A%2520%2520%2523%2520set%2520network%2520off%252C%2520so%2520that%2520auto-connect%2520priority%2520is%2520evaluated%2520when%2520turning%250A%2520%2520%2523%2520it%2520back%2520on%250A%2520%2520nmcli%2520network%2520off%250A%2520%2520%250A%2520%2520%2523%2520restart%2520NetworkManager%2520to%2520reload%2520profiles%252C%2520including%2520generating%250A%2520%2520%2523%2520transient%2520profiles%2520for%2520devices%2520that%2520don't%2520have%2520any%250A%2520%2520systemctl%2520restart%2520NetworkManager%250A%250A%2520%2520%2523%2520turn%2520network%2520back%2520on%2520triggering%2520auto-connects%2520%250A%2520%2520nmcli%2520network%2520on%250A%250A%2520%2520%2523%2520Wait%2520until%2520all%2520profiles%2520auto-connect%250A%2520%2520if%2520nm-online%2520-s%2520-t%252060%253B%2520then%250A%2520%2520%2520%2520echo%2520%2522NetworkManager%2520has%2520activated%2520all%2520suitable%2520profiles%2520after%2520reload%2522%250A%2520%2520else%250A%2520%2520%2520%2520echo%2520%2522NetworkManager%2520has%2520not%2520activated%2520all%2520suitable%2520profiles%2520after%2520reload%2522%250A%2520%2520fi%250A%250A%2520%2520%2523%2520Check%2520if%2520we%2520have%2520any%2520type%2520of%2520connectivity%250A%2520%2520if%2520nm-online%2520-t%25200%253B%2520then%250A%2520%2520%2520%2520echo%2520%2522NetworkManager%2520has%2520connectivity%2520after%2520reload%2522%250A%2520%2520else%250A%2520%2520%2520%2520echo%2520%2522NetworkManager%2520does%2520not%2520have%2520connectivity%2520after%2520reload%2522%250A%2520%2520fi%250A%257D%250A%250A%2523%2520Removes%2520all%2520configuration%2520and%2520reloads%2520NM%2520if%2520necessary%250Arollback_nm()%2520%257B%250A%2520%2520%2523%2520This%2520will%2520be%2520set%2520to%25201%2520if%2520remove_all_ovn_bridges%2520actually%2520changes%2520anything%250A%2520%2520nm_conn_files_removed%253D0%250A%250A%2520%2520%2523%2520Revert%2520changes%2520made%2520by%2520%252Fusr%252Flocal%252Fbin%252Fconfigure-ovs.sh%2520during%2520SDN%2520migration.%250A%2520%2520remove_all_ovn_bridges%250A%2520%2520%250A%2520%2520%2523%2520Reload%2520only%2520if%2520we%2520removed%2520connection%2520profiles%250A%2520%2520if%2520%255B%2520%2524nm_conn_files_removed%2520-eq%25201%2520%255D%253B%2520then%250A%2520%2520%2520%2520echo%2520%2522OVS%2520configuration%2520was%2520cleaned%2520up%252C%2520will%2520reload%2520NetworkManager%2522%250A%2520%2520%2520%2520reload_nm%250A%2520%2520fi%250A%257D%250A%250A%2523%2520Activates%2520a%2520NM%2520connection%2520profile%250Aactivate_nm_conn()%2520%257B%250A%2520%2520local%2520conn%253D%2522%25241%2522%250A%2520%2520for%2520i%2520in%2520%257B1..10%257D%253B%2520do%250A%2520%2520%2520%2520echo%2520%2522Attempt%2520%2524i%2520to%2520bring%2520up%2520connection%2520%2524conn%2522%250A%2520%2520%2520%2520nmcli%2520conn%2520up%2520%2522%2524conn%2522%2520%2526%2526%2520s%253D0%2520%2526%2526%2520break%2520%257C%257C%2520s%253D%2524%253F%250A%2520%2520%2520%2520sleep%25205%250A%2520%2520done%250A%2520%2520if%2520%255B%2520%2524s%2520-eq%25200%2520%255D%253B%2520then%250A%2520%2520%2520%2520echo%2520%2522Brought%2520up%2520connection%2520%2524conn%2520successfully%2522%250A%2520%2520else%250A%2520%2520%2520%2520echo%2520%2522ERROR%253A%2520Cannot%2520bring%2520up%2520connection%2520%2524conn%2520after%2520%2524i%2520attempts%2522%250A%2520%2520fi%250A%2520%2520return%2520%2524s%250A%257D%250A%250A%2523%2520Used%2520to%2520print%2520network%2520state%250Aprint_state()%2520%257B%250A%2520%2520echo%2520%2522Current%2520device%252C%2520connection%252C%2520interface%2520and%2520routing%2520state%253A%2522%250A%2520%2520nmcli%2520-g%2520all%2520device%2520%257C%2520grep%2520-v%2520unmanaged%250A%2520%2520nmcli%2520-g%2520all%2520connection%250A%2520%2520ip%2520-d%2520address%2520show%250A%2520%2520ip%2520route%2520show%250A%2520%2520ip%2520-6%2520route%2520show%250A%257D%250A%250A%2523%2520Setup%2520an%2520exit%2520trap%2520to%2520rollback%2520on%2520error%250Ahandle_exit()%2520%257B%250A%2520%2520e%253D%2524%253F%250A%2520%2520%255B%2520%2524e%2520-eq%25200%2520%255D%2520%2526%2526%2520print_state%2520%2526%2526%2520exit%25200%250A%250A%2520%2520echo%2520%2522ERROR%253A%2520configure-ovs%2520exited%2520with%2520error%253A%2520%2524e%2522%250A%2520%2520print_state%250A%250A%2520%2520%2523%2520copy%2520configuration%2520to%2520tmp%250A%2520%2520dir%253D%2524(mktemp%2520-d%2520-t%2520%2522configure-ovs-%2524(date%2520%252B%2525Y-%2525m-%2525d-%2525H-%2525M-%2525S)-XXXXXXXXXX%2522)%250A%2520%2520update_nm_conn_files%2520br-ex%2520phys0%250A%2520%2520copy_nm_conn_files%2520%2522%2524dir%2522%250A%2520%2520update_nm_conn_files%2520br-ex1%2520phys1%250A%2520%2520copy_nm_conn_files%2520%2522%2524dir%2522%250A%2520%2520echo%2520%2522Copied%2520OVS%2520configuration%2520to%2520%2524dir%2520for%2520troubleshooting%2522%250A%250A%2520%2520%2523%2520attempt%2520to%2520restore%2520the%2520previous%2520network%2520state%250A%2520%2520echo%2520%2522Attempting%2520to%2520restore%2520previous%2520configuration...%2522%250A%2520%2520rollback_nm%250A%2520%2520print_state%250A%250A%2520%2520exit%2520%2524e%250A%257D%250Atrap%2520%2522handle_exit%2522%2520EXIT%250A%250A%2523%2520Clean%2520up%2520old%2520config%2520on%2520behalf%2520of%2520mtu-migration%250Aif%2520%255B%2520!%2520-f%2520%252Fetc%252Fcno%252Fmtu-migration%252Fconfig%2520%255D%253B%2520then%250A%2520%2520echo%2520%2522Cleaning%2520up%2520left%2520over%2520mtu%2520migration%2520configuration%2522%250A%2520%2520rm%2520-rf%2520%252Fetc%252Fcno%252Fmtu-migration%250Afi%250A%250Aif%2520!%2520rpm%2520-qa%2520%257C%2520grep%2520-q%2520openvswitch%253B%2520then%250A%2520%2520echo%2520%2522Warning%253A%2520Openvswitch%2520package%2520is%2520not%2520installed!%2522%250A%2520%2520exit%25201%250Afi%250A%250A%2523%2520print%2520initial%2520state%250Aprint_state%250A%250Aif%2520%255B%2520%2522%25241%2522%2520%253D%253D%2520%2522OVNKubernetes%2522%2520%255D%253B%2520then%250A%2520%2520%2523%2520Configures%2520NICs%2520onto%2520OVS%2520bridge%2520%2522br-ex%2522%250A%2520%2520%2523%2520Configuration%2520is%2520either%2520auto-detected%2520or%2520provided%2520through%2520a%2520config%2520file%2520written%2520already%2520in%2520Network%2520Manager%250A%2520%2520%2523%2520key%2520files%2520under%2520%252Fetc%252FNetworkManager%252Fsystem-connections%252F%250A%2520%2520%2523%2520Managing%2520key%2520files%2520is%2520outside%2520of%2520the%2520scope%2520of%2520this%2520script%250A%250A%2520%2520%2523%2520if%2520the%2520interface%2520is%2520of%2520type%2520vmxnet3%2520add%2520multicast%2520capability%2520for%2520that%2520driver%250A%2520%2520%2523%2520REMOVEME%253A%2520Once%2520BZ%253A1854355%2520is%2520fixed%252C%2520this%2520needs%2520to%2520get%2520removed.%250A%2520%2520function%2520configure_driver_options%2520%257B%250A%2520%2520%2520%2520intf%253D%25241%250A%2520%2520%2520%2520if%2520%255B%2520!%2520-f%2520%2522%252Fsys%252Fclass%252Fnet%252F%2524%257Bintf%257D%252Fdevice%252Fuevent%2522%2520%255D%253B%2520then%250A%2520%2520%2520%2520%2520%2520echo%2520%2522Device%2520file%2520doesn't%2520exist%252C%2520skipping%2520setting%2520multicast%2520mode%2522%250A%2520%2520%2520%2520else%250A%2520%2520%2520%2520%2520%2520driver%253D%2524(cat%2520%2522%252Fsys%252Fclass%252Fnet%252F%2524%257Bintf%257D%252Fdevice%252Fuevent%2522%2520%257C%2520grep%2520DRIVER%2520%257C%2520awk%2520-F%2520%2522%253D%2522%2520'%257Bprint%2520%25242%257D')%250A%2520%2520%2520%2520%2520%2520echo%2520%2522Driver%2520name%2520is%2522%2520%2524driver%250A%2520%2520%2520%2520%2520%2520if%2520%255B%2520%2522%2524driver%2522%2520%253D%2520%2522vmxnet3%2522%2520%255D%253B%2520then%250A%2520%2520%2520%2520%2520%2520%2520%2520ifconfig%2520%2522%2524intf%2522%2520allmulti%250A%2520%2520%2520%2520%2520%2520fi%250A%2520%2520%2520%2520fi%250A%2520%2520%257D%250A%250A%2520%2520%2523%2520on%2520every%2520boot%2520we%2520rollback%2520and%2520generate%2520the%2520configuration%2520again%252C%2520to%2520take%250A%2520%2520%2523%2520in%2520any%2520changes%2520that%2520have%2520possibly%2520been%2520applied%2520in%2520the%2520standard%250A%2520%2520%2523%2520configuration%2520sources%250A%2520%2520if%2520%255B%2520!%2520-f%2520%252Frun%252Fconfigure-ovs-boot-done%2520%255D%253B%2520then%250A%2520%2520%2520%2520echo%2520%2522Running%2520on%2520boot%252C%2520restoring%2520previous%2520configuration%2520before%2520proceeding...%2522%250A%2520%2520%2520%2520rollback_nm%250A%2520%2520%2520%2520print_state%250A%2520%2520fi%250A%2520%2520touch%2520%252Frun%252Fconfigure-ovs-boot-done%250A%250A%2520%2520iface%253D%2522%2522%250A%2520%2520counter%253D0%250A%2520%2520%2523%2520find%2520default%2520interface%250A%2520%2520while%2520%255B%2520%2524counter%2520-lt%252012%2520%255D%253B%2520do%250A%2520%2520%2520%2520%2523%2520check%2520ipv4%250A%2520%2520%2520%2520iface%253D%2524(ip%2520route%2520show%2520default%2520%257C%2520awk%2520'%257B%2520if%2520(%25244%2520%253D%253D%2520%2522dev%2522)%2520%257B%2520print%2520%25245%253B%2520exit%2520%257D%2520%257D')%250A%2520%2520%2520%2520if%2520%255B%255B%2520-n%2520%2522%2524iface%2522%2520%255D%255D%253B%2520then%250A%2520%2520%2520%2520%2520%2520echo%2520%2522IPv4%2520Default%2520gateway%2520interface%2520found%253A%2520%2524%257Biface%257D%2522%250A%2520%2520%2520%2520%2520%2520break%250A%2520%2520%2520%2520fi%250A%2520%2520%2520%2520%2523%2520check%2520ipv6%250A%2520%2520%2520%2520iface%253D%2524(ip%2520-6%2520route%2520show%2520default%2520%257C%2520awk%2520'%257B%2520if%2520(%25244%2520%253D%253D%2520%2522dev%2522)%2520%257B%2520print%2520%25245%253B%2520exit%2520%257D%2520%257D')%250A%2520%2520%2520%2520if%2520%255B%255B%2520-n%2520%2522%2524iface%2522%2520%255D%255D%253B%2520then%250A%2520%2520%2520%2520%2520%2520echo%2520%2522IPv6%2520Default%2520gateway%2520interface%2520found%253A%2520%2524%257Biface%257D%2522%250A%2520%2520%2520%2520%2520%2520break%250A%2520%2520%2520%2520fi%250A%2520%2520%2520%2520counter%253D%2524((counter%252B1))%250A%2520%2520%2520%2520echo%2520%2522No%2520default%2520route%2520found%2520on%2520attempt%253A%2520%2524%257Bcounter%257D%2522%250A%2520%2520%2520%2520sleep%25205%250A%2520%2520done%250A%250A%2520%2520extra_bridge_file%253D'%252Fetc%252Fovnk%252Fextra_bridge'%250A%250A%2520%2520if%2520%255B%2520%2522%2524iface%2522%2520!%253D%2520%2522br-ex%2522%2520%255D%253B%2520then%250A%2520%2520%2520%2520%2523%2520Default%2520gateway%2520is%2520not%2520br-ex.%250A%2520%2520%2520%2520%2523%2520Some%2520deployments%2520use%2520a%2520temporary%2520solution%2520where%2520br-ex%2520is%2520moved%2520out%2520from%2520the%2520default%2520gateway%2520interface%250A%2520%2520%2520%2520%2523%2520and%2520bound%2520to%2520a%2520different%2520nic%2520(https%253A%252F%252Fgithub.com%252Ftrozet%252Fopenshift-ovn-migration).%250A%2520%2520%2520%2520%2523%2520This%2520is%2520now%2520supported%2520through%2520an%2520extra%2520bridge%2520if%2520requested.%2520If%2520that%2520is%2520the%2520case%252C%2520we%2520rollback.%250A%2520%2520%2520%2520%2523%2520We%2520also%2520rollback%2520if%2520it%2520looks%2520like%2520we%2520need%2520to%2520configure%2520things%252C%2520just%2520in%2520case%2520there%2520are%2520any%2520leftovers%250A%2520%2520%2520%2520%2523%2520from%2520previous%2520attempts.%250A%2520%2520%2520%2520if%2520%255B%2520-f%2520%2522%2524extra_bridge_file%2522%2520%255D%2520%257C%257C%2520%255B%2520-z%2520%2522%2524(nmcli%2520connection%2520show%2520--active%2520br-ex%25202%253E%2520%252Fdev%252Fnull)%2522%2520%255D%253B%2520then%250A%2520%2520%2520%2520%2520%2520echo%2520%2522Bridge%2520br-ex%2520is%2520not%2520active%252C%2520restoring%2520previous%2520configuration%2520before%2520proceeding...%2522%250A%2520%2520%2520%2520%2520%2520rollback_nm%250A%2520%2520%2520%2520%2520%2520print_state%250A%2520%2520%2520%2520fi%250A%2520%2520fi%250A%250A%2520%2520convert_to_bridge%2520%2522%2524iface%2522%2520%2522br-ex%2522%2520%2522phys0%2522%250A%250A%2520%2520%2523%2520Check%2520if%2520we%2520need%2520to%2520configure%2520the%2520second%2520bridge%250A%2520%2520if%2520%255B%2520-f%2520%2522%2524extra_bridge_file%2522%2520%255D%2520%2526%2526%2520(!%2520nmcli%2520connection%2520show%2520br-ex1%2520%2526%253E%2520%252Fdev%252Fnull%2520%257C%257C%2520!%2520nmcli%2520connection%2520show%2520ovs-if-phys1%2520%2526%253E%2520%252Fdev%252Fnull)%253B%2520then%250A%2520%2520%2520%2520interface%253D%2524(head%2520-n%25201%2520%2524extra_bridge_file)%250A%2520%2520%2520%2520convert_to_bridge%2520%2522%2524interface%2522%2520%2522br-ex1%2522%2520%2522phys1%2522%250A%2520%2520fi%250A%250A%2520%2520%2523%2520Check%2520if%2520we%2520need%2520to%2520remove%2520the%2520second%2520bridge%250A%2520%2520if%2520%255B%2520!%2520-f%2520%2522%2524extra_bridge_file%2522%2520%255D%2520%2526%2526%2520(nmcli%2520connection%2520show%2520br-ex1%2520%2526%253E%2520%252Fdev%252Fnull%2520%257C%257C%2520nmcli%2520connection%2520show%2520ovs-if-phys1%2520%2526%253E%2520%252Fdev%252Fnull)%253B%2520then%250A%2520%2520%2520%2520update_nm_conn_files%2520br-ex1%2520phys1%250A%2520%2520%2520%2520rm_nm_conn_files%250A%2520%2520fi%250A%250A%2520%2520%2523%2520Remove%2520bridges%2520created%2520by%2520openshift-sdn%250A%2520%2520ovs-vsctl%2520--timeout%253D30%2520--if-exists%2520del-br%2520br0%250A%2520%2520%250A%2520%2520%2523%2520Recycle%2520NM%2520connections%250A%2520%2520reload_nm%250A%250A%2520%2520%2523%2520Make%2520sure%2520everything%2520is%2520activated%250A%2520%2520activate_nm_conn%2520ovs-if-phys0%250A%2520%2520activate_nm_conn%2520ovs-if-br-ex%250A%2520%2520if%2520%255B%2520-f%2520%2522%2524extra_bridge_file%2522%2520%255D%253B%2520then%250A%2520%2520%2520%2520activate_nm_conn%2520ovs-if-phys1%250A%2520%2520%2520%2520activate_nm_conn%2520ovs-if-br-ex1%250A%2520%2520fi%250Aelif%2520%255B%2520%2522%25241%2522%2520%253D%253D%2520%2522OpenShiftSDN%2522%2520%255D%253B%2520then%250A%2520%2520%2523%2520Revert%2520changes%2520made%2520by%2520%252Fusr%252Flocal%252Fbin%252Fconfigure-ovs.sh%2520during%2520SDN%2520migration.%250A%2520%2520rollback_nm%250A%2520%2520%250A%2520%2520%2523%2520Remove%2520bridges%2520created%2520by%2520ovn-kubernetes%250A%2520%2520ovs-vsctl%2520--timeout%253D30%2520--if-exists%2520del-br%2520br-int%2520--%2520--if-exists%2520del-br%2520br-local%250Afi%250A%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mode%22%3A%20493%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22overwrite%22%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22path%22%3A%20%22%2Fusr%2Flocal%2Fbin%2Fconfigure-ovs.sh%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22source%22%3A%20%22data%3A%2C%2523%2520This%2520file%2520is%2520generated%2520by%2520the%2520Machine%2520Config%2520Operator's%2520containerruntimeconfig%2520controller.%250A%2523%250A%2523%2520storage.conf%2520is%2520the%2520configuration%2520file%2520for%2520all%2520tools%250A%2523%2520that%2520share%2520the%2520containers%252Fstorage%2520libraries%250A%2523%2520See%2520man%25205%2520containers-storage.conf%2520for%2520more%2520information%250A%2523%2520The%2520%2522container%2520storage%2522%2520table%2520contains%2520all%2520of%2520the%2520server%2520options.%250A%255Bstorage%255D%250A%250A%2523%2520Default%2520Storage%2520Driver%250Adriver%2520%253D%2520%2522overlay%2522%250A%250A%2523%2520Temporary%2520storage%2520location%250Arunroot%2520%253D%2520%2522%252Fvar%252Frun%252Fcontainers%252Fstorage%2522%250A%250A%2523%2520Primary%2520Read%252FWrite%2520location%2520of%2520container%2520storage%250Agraphroot%2520%253D%2520%2522%252Fvar%252Flib%252Fcontainers%252Fstorage%2522%250A%250A%255Bstorage.options%255D%250A%2523%2520Storage%2520options%2520to%2520be%2520passed%2520to%2520underlying%2520storage%2520drivers%250A%250A%2523%2520AdditionalImageStores%2520is%2520used%2520to%2520pass%2520paths%2520to%2520additional%2520Read%252FOnly%2520image%2520stores%250A%2523%2520Must%2520be%2520comma%2520separated%2520list.%250Aadditionalimagestores%2520%253D%2520%255B%250A%255D%250A%250A%2523%2520Size%2520is%2520used%2520to%2520set%2520a%2520maximum%2520size%2520of%2520the%2520container%2520image.%2520%2520Only%2520supported%2520by%250A%2523%2520certain%2520container%2520storage%2520drivers.%250Asize%2520%253D%2520%2522%2522%250A%250A%2523%2520Remap-UIDs%252FGIDs%2520is%2520the%2520mapping%2520from%2520UIDs%252FGIDs%2520as%2520they%2520should%2520appear%2520inside%2520of%250A%2523%2520a%2520container%252C%2520to%2520UIDs%252FGIDs%2520as%2520they%2520should%2520appear%2520outside%2520of%2520the%2520container%252C%2520and%250A%2523%2520the%2520length%2520of%2520the%2520range%2520of%2520UIDs%252FGIDs.%2520%2520Additional%2520mapped%2520sets%2520can%2520be%2520listed%250A%2523%2520and%2520will%2520be%2520heeded%2520by%2520libraries%252C%2520but%2520there%2520are%2520limits%2520to%2520the%2520number%2520of%250A%2523%2520mappings%2520which%2520the%2520kernel%2520will%2520allow%2520when%2520you%2520later%2520attempt%2520to%2520run%2520a%250A%2523%2520container.%250A%2523%250A%2523%2520remap-uids%2520%253D%25200%253A1668442479%253A65536%250A%2523%2520remap-gids%2520%253D%25200%253A1668442479%253A65536%250A%250A%2523%2520Remap-User%252FGroup%2520is%2520a%2520name%2520which%2520can%2520be%2520used%2520to%2520look%2520up%2520one%2520or%2520more%2520UID%252FGID%250A%2523%2520ranges%2520in%2520the%2520%252Fetc%252Fsubuid%2520or%2520%252Fetc%252Fsubgid%2520file.%2520%2520Mappings%2520are%2520set%2520up%2520starting%250A%2523%2520with%2520an%2520in-container%2520ID%2520of%25200%2520and%2520the%2520a%2520host-level%2520ID%2520taken%2520from%2520the%2520lowest%250A%2523%2520range%2520that%2520matches%2520the%2520specified%2520name%252C%2520and%2520using%2520the%2520length%2520of%2520that%2520range.%250A%2523%2520Additional%2520ranges%2520are%2520then%2520assigned%252C%2520using%2520the%2520ranges%2520which%2520specify%2520the%250A%2523%2520lowest%2520host-level%2520IDs%2520first%252C%2520to%2520the%2520lowest%2520not-yet-mapped%2520container-level%2520ID%252C%250A%2523%2520until%2520all%2520of%2520the%2520entries%2520have%2520been%2520used%2520for%2520maps.%250A%2523%250A%2523%2520remap-user%2520%253D%2520%2522storage%2522%250A%2523%2520remap-group%2520%253D%2520%2522storage%2522%250A%250A%255Bstorage.options.thinpool%255D%250A%2523%2520Storage%2520Options%2520for%2520thinpool%250A%250A%2523%2520autoextend_percent%2520determines%2520the%2520amount%2520by%2520which%2520pool%2520needs%2520to%2520be%250A%2523%2520grown.%2520This%2520is%2520specified%2520in%2520terms%2520of%2520%2525%2520of%2520pool%2520size.%2520So%2520a%2520value%2520of%252020%2520means%250A%2523%2520that%2520when%2520threshold%2520is%2520hit%252C%2520pool%2520will%2520be%2520grown%2520by%252020%2525%2520of%2520existing%250A%2523%2520pool%2520size.%250A%2523%2520autoextend_percent%2520%253D%2520%252220%2522%250A%250A%2523%2520autoextend_threshold%2520determines%2520the%2520pool%2520extension%2520threshold%2520in%2520terms%250A%2523%2520of%2520percentage%2520of%2520pool%2520size.%2520For%2520example%252C%2520if%2520threshold%2520is%252060%252C%2520that%2520means%2520when%250A%2523%2520pool%2520is%252060%2525%2520full%252C%2520threshold%2520has%2520been%2520hit.%250A%2523%2520autoextend_threshold%2520%253D%2520%252280%2522%250A%250A%2523%2520basesize%2520specifies%2520the%2520size%2520to%2520use%2520when%2520creating%2520the%2520base%2520device%252C%2520which%250A%2523%2520limits%2520the%2520size%2520of%2520images%2520and%2520containers.%250A%2523%2520basesize%2520%253D%2520%252210G%2522%250A%250A%2523%2520blocksize%2520specifies%2520a%2520custom%2520blocksize%2520to%2520use%2520for%2520the%2520thin%2520pool.%250A%2523%2520blocksize%253D%252264k%2522%250A%250A%2523%2520directlvm_device%2520specifies%2520a%2520custom%2520block%2520storage%2520device%2520to%2520use%2520for%2520the%250A%2523%2520thin%2520pool.%2520Required%2520if%2520you%2520setup%2520devicemapper%250A%2523%2520directlvm_device%2520%253D%2520%2522%2522%250A%250A%2523%2520directlvm_device_force%2520wipes%2520device%2520even%2520if%2520device%2520already%2520has%2520a%2520filesystem%250A%2523%2520directlvm_device_force%2520%253D%2520%2522True%2522%250A%250A%2523%2520fs%2520specifies%2520the%2520filesystem%2520type%2520to%2520use%2520for%2520the%2520base%2520device.%250A%2523%2520fs%253D%2522xfs%2522%250A%250A%2523%2520log_level%2520sets%2520the%2520log%2520level%2520of%2520devicemapper.%250A%2523%25200%253A%2520LogLevelSuppress%25200%2520(Default)%250A%2523%25202%253A%2520LogLevelFatal%250A%2523%25203%253A%2520LogLevelErr%250A%2523%25204%253A%2520LogLevelWarn%250A%2523%25205%253A%2520LogLevelNotice%250A%2523%25206%253A%2520LogLevelInfo%250A%2523%25207%253A%2520LogLevelDebug%250A%2523%2520log_level%2520%253D%2520%25227%2522%250A%250A%2523%2520min_free_space%2520specifies%2520the%2520min%2520free%2520space%2520percent%2520in%2520a%2520thin%2520pool%2520require%2520for%250A%2523%2520new%2520device%2520creation%2520to%2520succeed.%2520Valid%2520values%2520are%2520from%25200%2525%2520-%252099%2525.%250A%2523%2520Value%25200%2525%2520disables%250A%2523%2520min_free_space%2520%253D%2520%252210%2525%2522%250A%250A%2523%2520mkfsarg%2520specifies%2520extra%2520mkfs%2520arguments%2520to%2520be%2520used%2520when%2520creating%2520the%2520base%250A%2523%2520device.%250A%2523%2520mkfsarg%2520%253D%2520%2522%2522%250A%250A%2523%2520mountopt%2520specifies%2520extra%2520mount%2520options%2520used%2520when%2520mounting%2520the%2520thin%2520devices.%250A%2523%2520mountopt%2520%253D%2520%2522%2522%250A%250A%2523%2520use_deferred_removal%2520Marking%2520device%2520for%2520deferred%2520removal%250A%2523%2520use_deferred_removal%2520%253D%2520%2522True%2522%250A%250A%2523%2520use_deferred_deletion%2520Marking%2520device%2520for%2520deferred%2520deletion%250A%2523%2520use_deferred_deletion%2520%253D%2520%2522True%2522%250A%250A%2523%2520xfs_nospace_max_retries%2520specifies%2520the%2520maximum%2520number%2520of%2520retries%2520XFS%2520should%250A%2523%2520attempt%2520to%2520complete%2520IO%2520when%2520ENOSPC%2520(no%2520space)%2520error%2520is%2520returned%2520by%250A%2523%2520underlying%2520storage%2520device.%250A%2523%2520xfs_nospace_max_retries%2520%253D%2520%25220%2522%250A%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mode%22%3A%20420%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22overwrite%22%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22path%22%3A%20%22%2Fetc%2Fcontainers%2Fstorage.conf%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22source%22%3A%20%22data%3A%2C%2523%2520Proxy%2520environment%2520variables%2520will%2520be%2520populated%2520in%2520this%2520file.%2520Properly%250A%2523%2520url%2520encoded%2520passwords%2520with%2520special%2520characters%2520will%2520use%2520'%2525%253CHEX%253E%253CHEX%253E'.%250A%2523%2520Systemd%2520requires%2520that%2520any%2520%2525%2520used%2520in%2520a%2520password%2520be%2520represented%2520as%250A%2523%2520%2525%2525%2520in%2520a%2520unit%2520file%2520since%2520%2525%2520is%2520a%2520prefix%2520for%2520macros%253B%2520this%2520restriction%2520does%2520not%250A%2523%2520apply%2520for%2520environment%2520files.%2520Templates%2520that%2520need%2520the%2520proxy%2520set%2520should%2520use%250A%2523%2520'EnvironmentFile%253D%252Fetc%252Fmco%252Fproxy.env'.%250A%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mode%22%3A%20420%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22overwrite%22%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22path%22%3A%20%22%2Fetc%2Fmco%2Fproxy.env%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22source%22%3A%20%22data%3A%2C%255BManager%255D%250ADefaultEnvironment%253DGODEBUG%253Dx509ignoreCN%253D0%250A%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mode%22%3A%20420%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22overwrite%22%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22path%22%3A%20%22%2Fetc%2Fsystemd%2Fsystem.conf.d%2F10-default-env-godebug.conf%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22source%22%3A%20%22data%3A%2C%2523%2520Force-load%2520legacy%2520iptables%2520so%2520it%2520is%2520usable%2520from%2520pod%2520network%2520namespaces%250Aip_tables%250A%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mode%22%3A%20420%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22overwrite%22%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22path%22%3A%20%22%2Fetc%2Fmodules-load.d%2Fiptables.conf%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22source%22%3A%20%22data%3A%2CNODE_SIZING_ENABLED%253Dfalse%250ASYSTEM_RESERVED_MEMORY%253D1Gi%250ASYSTEM_RESERVED_CPU%253D500m%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mode%22%3A%20420%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22overwrite%22%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22path%22%3A%20%22%2Fetc%2Fnode-sizing-enabled.env%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22source%22%3A%20%22data%3A%2C%2523!%252Fbin%252Fbash%250Aset%2520-e%250ANODE_SIZES_ENV%253D%2524%257BNODE_SIZES_ENV%253A-%252Fetc%252Fnode-sizing.env%257D%250Afunction%2520dynamic_memory_sizing%2520%257B%250A%2520%2520%2520%2520total_memory%253D%2524(free%2520-g%257Cawk%2520'%252F%255EMem%253A%252F%257Bprint%2520%25242%257D')%250A%2520%2520%2520%2520%2523%2520total_memory%253D8%2520test%2520the%2520recommended%2520values%2520by%2520modifying%2520this%2520value%250A%2520%2520%2520%2520recommended_systemreserved_memory%253D0%250A%2520%2520%2520%2520if%2520((%2524total_memory%2520%253C%253D%25204))%253B%2520then%2520%2523%252025%2525%2520of%2520the%2520first%25204GB%2520of%2520memory%250A%2520%2520%2520%2520%2520%2520%2520%2520recommended_systemreserved_memory%253D%2524(echo%2520%2524total_memory%25200.25%2520%257C%2520awk%2520'%257Bprint%2520%25241%2520*%2520%25242%257D')%250A%2520%2520%2520%2520%2520%2520%2520%2520total_memory%253D0%250A%2520%2520%2520%2520else%250A%2520%2520%2520%2520%2520%2520%2520%2520recommended_systemreserved_memory%253D1%250A%2520%2520%2520%2520%2520%2520%2520%2520total_memory%253D%2524((total_memory-4))%250A%2520%2520%2520%2520fi%250A%2520%2520%2520%2520if%2520((%2524total_memory%2520%253C%253D%25204))%253B%2520then%2520%2523%252020%2525%2520of%2520the%2520next%25204GB%2520of%2520memory%2520(up%2520to%25208GB)%250A%2520%2520%2520%2520%2520%2520%2520%2520recommended_systemreserved_memory%253D%2524(echo%2520%2524recommended_systemreserved_memory%2520%2524(echo%2520%2524total_memory%25200.20%2520%257C%2520awk%2520'%257Bprint%2520%25241%2520*%2520%25242%257D')%2520%257C%2520awk%2520'%257Bprint%2520%25241%2520%252B%2520%25242%257D')%250A%2520%2520%2520%2520%2520%2520%2520%2520total_memory%253D0%250A%2520%2520%2520%2520else%250A%2520%2520%2520%2520%2520%2520%2520%2520recommended_systemreserved_memory%253D%2524(echo%2520%2524recommended_systemreserved_memory%25200.80%2520%257C%2520awk%2520'%257Bprint%2520%25241%2520%252B%2520%25242%257D')%250A%2520%2520%2520%2520%2520%2520%2520%2520total_memory%253D%2524((total_memory-4))%250A%2520%2520%2520%2520fi%250A%2520%2520%2520%2520if%2520((%2524total_memory%2520%253C%253D%25208))%253B%2520then%2520%2523%252010%2525%2520of%2520the%2520next%25208GB%2520of%2520memory%2520(up%2520to%252016GB)%250A%2520%2520%2520%2520%2520%2520%2520%2520recommended_systemreserved_memory%253D%2524(echo%2520%2524recommended_systemreserved_memory%2520%2524(echo%2520%2524total_memory%25200.10%2520%257C%2520awk%2520'%257Bprint%2520%25241%2520*%2520%25242%257D')%2520%257C%2520awk%2520'%257Bprint%2520%25241%2520%252B%2520%25242%257D')%250A%2520%2520%2520%2520%2520%2520%2520%2520total_memory%253D0%250A%2520%2520%2520%2520else%250A%2520%2520%2520%2520%2520%2520%2520%2520recommended_systemreserved_memory%253D%2524(echo%2520%2524recommended_systemreserved_memory%25200.80%2520%257C%2520awk%2520'%257Bprint%2520%25241%2520%252B%2520%25242%257D')%250A%2520%2520%2520%2520%2520%2520%2520%2520total_memory%253D%2524((total_memory-8))%250A%2520%2520%2520%2520fi%250A%2520%2520%2520%2520if%2520((%2524total_memory%2520%253C%253D%2520112))%253B%2520then%2520%2523%25206%2525%2520of%2520the%2520next%2520112GB%2520of%2520memory%2520(up%2520to%2520128GB)%250A%2520%2520%2520%2520%2520%2520%2520%2520recommended_systemreserved_memory%253D%2524(echo%2520%2524recommended_systemreserved_memory%2520%2524(echo%2520%2524total_memory%25200.06%2520%257C%2520awk%2520'%257Bprint%2520%25241%2520*%2520%25242%257D')%2520%257C%2520awk%2520'%257Bprint%2520%25241%2520%252B%2520%25242%257D')%250A%2520%2520%2520%2520%2520%2520%2520%2520total_memory%253D0%250A%2520%2520%2520%2520else%250A%2520%2520%2520%2520%2520%2520%2520%2520recommended_systemreserved_memory%253D%2524(echo%2520%2524recommended_systemreserved_memory%25206.72%2520%257C%2520awk%2520'%257Bprint%2520%25241%2520%252B%2520%25242%257D')%250A%2520%2520%2520%2520%2520%2520%2520%2520total_memory%253D%2524((total_memory-112))%250A%2520%2520%2520%2520fi%250A%2520%2520%2520%2520if%2520((%2524total_memory%2520%253E%253D%25200))%253B%2520then%2520%2523%25202%2525%2520of%2520any%2520memory%2520above%2520128GB%250A%2520%2520%2520%2520%2520%2520%2520%2520recommended_systemreserved_memory%253D%2524(echo%2520%2524recommended_systemreserved_memory%2520%2524(echo%2520%2524total_memory%25200.02%2520%257C%2520awk%2520'%257Bprint%2520%25241%2520*%2520%25242%257D')%2520%257C%2520awk%2520'%257Bprint%2520%25241%2520%252B%2520%25242%257D')%250A%2520%2520%2520%2520fi%250A%2520%2520%2520%2520echo%2520%2522SYSTEM_RESERVED_MEMORY%253D%2524%257Brecommended_systemreserved_memory%257DGi%2522%253E%253E%2520%2524%257BNODE_SIZES_ENV%257D%250A%257D%250Afunction%2520dynamic_cpu_sizing%2520%257B%250A%2520%2520%2520%2520total_cpu%253D%2524(getconf%2520_NPROCESSORS_ONLN)%250A%2520%2520%2520%2520recommended_systemreserved_cpu%253D0%250A%2520%2520%2520%2520if%2520((%2524total_cpu%2520%253C%253D%25201))%253B%2520then%2520%2523%25206%2525%2520of%2520the%2520first%2520core%250A%2520%2520%2520%2520%2520%2520%2520%2520recommended_systemreserved_cpu%253D%2524(echo%2520%2524total_cpu%25200.06%2520%257C%2520awk%2520'%257Bprint%2520%25241%2520*%2520%25242%257D')%250A%2520%2520%2520%2520%2520%2520%2520%2520total_cpu%253D0%250A%2520%2520%2520%2520else%250A%2520%2520%2520%2520%2520%2520%2520%2520recommended_systemreserved_cpu%253D0.06%250A%2520%2520%2520%2520%2520%2520%2520%2520total_cpu%253D%2524((total_cpu-1))%250A%2520%2520%2520%2520fi%250A%2520%2520%2520%2520if%2520((%2524total_cpu%2520%253C%253D%25201))%253B%2520then%2520%2523%25201%2525%2520of%2520the%2520next%2520core%2520(up%2520to%25202%2520cores)%250A%2520%2520%2520%2520%2520%2520%2520%2520recommended_systemreserved_cpu%253D%2524(echo%2520%2524recommended_systemreserved_cpu%2520%2524(echo%2520%2524total_cpu%25200.01%2520%257C%2520awk%2520'%257Bprint%2520%25241%2520*%2520%25242%257D')%2520%257C%2520awk%2520'%257Bprint%2520%25241%2520%252B%2520%25242%257D')%250A%2520%2520%2520%2520%2520%2520%2520%2520total_cpu%253D0%250A%2520%2520%2520%2520else%250A%2520%2520%2520%2520%2520%2520%2520%2520recommended_systemreserved_cpu%253D%2524(echo%2520%2524recommended_systemreserved_cpu%25200.01%2520%257C%2520awk%2520'%257Bprint%2520%25241%2520%252B%2520%25242%257D')%250A%2520%2520%2520%2520%2520%2520%2520%2520total_cpu%253D%2524((total_cpu-1))%250A%2520%2520%2520%2520fi%250A%2520%2520%2520%2520if%2520((%2524total_cpu%2520%253C%253D%25202))%253B%2520then%2520%2523%25200.5%2525%2520of%2520the%2520next%25202%2520cores%2520(up%2520to%25204%2520cores)%250A%2520%2520%2520%2520%2520%2520%2520%2520recommended_systemreserved_cpu%253D%2524(echo%2520%2524recommended_systemreserved_cpu%2520%2524(echo%2520%2524total_cpu%25200.005%2520%257C%2520awk%2520'%257Bprint%2520%25241%2520*%2520%25242%257D')%2520%257C%2520awk%2520'%257Bprint%2520%25241%2520%252B%2520%25242%257D')%250A%2520%2520%2520%2520%2520%2520%2520%2520total_cpu%253D0%250A%2520%2520%2520%2520else%250A%2520%2520%2520%2520%2520%2520%2520%2520recommended_systemreserved_cpu%253D%2524(echo%2520%2524recommended_systemreserved_cpu%25200.01%2520%257C%2520awk%2520'%257Bprint%2520%25241%2520%252B%2520%25242%257D')%250A%2520%2520%2520%2520%2520%2520%2520%2520total_cpu%253D%2524((total_cpu-2))%250A%2520%2520%2520%2520fi%250A%2520%2520%2520%2520if%2520((%2524total_cpu%2520%253E%253D%25200))%253B%2520then%2520%2523%25200.25%2525%2520of%2520any%2520cores%2520above%25204%2520cores%250A%2520%2520%2520%2520%2520%2520%2520%2520recommended_systemreserved_cpu%253D%2524(echo%2520%2524recommended_systemreserved_cpu%2520%2524(echo%2520%2524total_cpu%25200.0025%2520%257C%2520awk%2520'%257Bprint%2520%25241%2520*%2520%25242%257D')%2520%257C%2520awk%2520'%257Bprint%2520%25241%2520%252B%2520%25242%257D')%250A%2520%2520%2520%2520fi%250A%2520%2520%2520%2520echo%2520%2522SYSTEM_RESERVED_CPU%253D%2524%257Brecommended_systemreserved_cpu%257D%2522%253E%253E%2520%2524%257BNODE_SIZES_ENV%257D%250A%257D%250Afunction%2520dynamic_ephemeral_sizing%2520%257B%250A%2520%2520%2520%2520echo%2520%2522Not%2520implemented%2520yet%2522%250A%257D%250Afunction%2520dynamic_pid_sizing%2520%257B%250A%2520%2520%2520%2520echo%2520%2522Not%2520implemented%2520yet%2522%250A%257D%250Afunction%2520dynamic_node_sizing%2520%257B%250A%2520%2520%2520%2520rm%2520-f%2520%2524%257BNODE_SIZES_ENV%257D%250A%2520%2520%2520%2520dynamic_memory_sizing%250A%2520%2520%2520%2520dynamic_cpu_sizing%250A%2520%2520%2520%2520%2523dynamic_ephemeral_sizing%250A%2520%2520%2520%2520%2523dynamic_pid_sizing%250A%257D%250Afunction%2520static_node_sizing%2520%257B%250A%2520%2520%2520%2520rm%2520-f%2520%2524%257BNODE_SIZES_ENV%257D%250A%2520%2520%2520%2520echo%2520%2522SYSTEM_RESERVED_MEMORY%253D%25241%2522%2520%253E%253E%2520%2524%257BNODE_SIZES_ENV%257D%250A%2520%2520%2520%2520echo%2520%2522SYSTEM_RESERVED_CPU%253D%25242%2522%2520%253E%253E%2520%2524%257BNODE_SIZES_ENV%257D%250A%257D%250A%250Aif%2520%255B%2520%25241%2520%253D%253D%2520%2522true%2522%2520%255D%253B%2520then%250A%2520%2520%2520%2520dynamic_node_sizing%250Aelif%2520%255B%2520%25241%2520%253D%253D%2520%2522false%2522%2520%255D%253B%2520then%250A%2520%2520%2520%2520static_node_sizing%2520%25242%2520%25243%250Aelse%250A%2520%2520%2520%2520echo%2520%2522Unrecongnized%2520command%2520line%2520option.%2520Valid%2520options%2520are%2520%255C%2522true%255C%2522%2520or%2520%255C%2522false%255C%2522%2522%250Afi%250A%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mode%22%3A%20493%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22overwrite%22%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22path%22%3A%20%22%2Fusr%2Flocal%2Fsbin%2Fdynamic-system-reserved-calc.sh%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22source%22%3A%20%22data%3A%2C-----BEGIN%2520CERTIFICATE-----%250AMIIDMDCCAhigAwIBAgIIdjWzz15PFpkwDQYJKoZIhvcNAQELBQAwNjESMBAGA1UE%250ACxMJb3BlbnNoaWZ0MSAwHgYDVQQDExdhZG1pbi1rdWJlY29uZmlnLXNpZ25lcjAe%250AFw0yMjAzMTQxNzU2MTlaFw0zMjAzMTExNzU2MTlaMDYxEjAQBgNVBAsTCW9wZW5z%250AaGlmdDEgMB4GA1UEAxMXYWRtaW4ta3ViZWNvbmZpZy1zaWduZXIwggEiMA0GCSqG%250ASIb3DQEBAQUAA4IBDwAwggEKAoIBAQDUY5mUmsGx%252FjH4VWA1838tJ1AaroW62OST%250AkWhqTC1JDSsBb41wnvf4jJspnVFV%252FsSbkHyZ8NS%252BZS%252BGggG9i2nqWcu2JX06h2kr%250AjC%252FsYIpr4Hd3usnXHTO55ERHSM9eJgiS%252BdfzuWDkCwV7eLD7oIISetbPFQJ2tyfD%250AsP1Y3XbvyVQJURMu57%252FxIbhR9g5RMHbFvBKFYQ4a8lTX2F84TVnISrx8DYavEJDb%250AGzcI3wgleTGgt40H2vPE%252FD1zdoS6Bt663z8ILrvl8ttxsdmoJ9xVzy64voXjRrOZ%250AO5Obks0UKbcpPD6zaOkwRRIMSzBqgRwNCPl8UIgvFZOjf8jq3Eq7AgMBAAGjQjBA%250AMA4GA1UdDwEB%252FwQEAwICpDAPBgNVHRMBAf8EBTADAQH%252FMB0GA1UdDgQWBBRw4Jgk%250ABX2QIk4NSMZ8ZU8KRJl8oDANBgkqhkiG9w0BAQsFAAOCAQEAMRLY3tiOysbaRtcX%250AZXnOjNPqkY84H2dycjhmSkEaFaZDwd7liYNaegBuk5liMbwZSqhXV%252FtvUuJa9bGS%250AtJZHCSW0iSNrXTgacktdLItT7HR%252FbFiRmBMAqXfQeZYuDBleARpvfgaAIAa1y35d%250AoP7oRhjiz2csqMwG9HwJ64QAarhWJJCJRjCA5zLWh2mzJ6k7S6bm9xmOMQR1jyxC%250Azl%252F6HlLgs2naOy5pztKmkJ6Bzejxw3YK2gFD%252FHtpPJB5ak30xSHUCZ2iXQ4ruY8r%250AsjnkM8%252FvCkL8WEMYtAtHxkOtfs8oMy1zRt4Iag84ygsDP1P22XxLawkyjT47V5X%252B%250AanBgXQ%253D%253D%250A-----END%2520CERTIFICATE-----%250A-----BEGIN%2520CERTIFICATE-----%250AMIIDHjCCAgagAwIBAgIISb305nTuyAAwDQYJKoZIhvcNAQELBQAwLTESMBAGA1UE%250ACxMJb3BlbnNoaWZ0MRcwFQYDVQQDEw5rdWJlbGV0LXNpZ25lcjAeFw0yMjAzMTQx%250ANzU2MjVaFw0yMjAzMTUxNzU2MjVaMC0xEjAQBgNVBAsTCW9wZW5zaGlmdDEXMBUG%250AA1UEAxMOa3ViZWxldC1zaWduZXIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEK%250AAoIBAQC4ug2cifJsnk750a%252B0yGZUiaVAYY0iZTknapRJHEwyMdtu1EHySnc9Z8HQ%250AqjBxhZs6gfGXB4Iz%252BSpbZM%252B23a7LUisLhLL7NNgXvPWdSFgNQrZAJBz67VNTa0py%250AzCvfSeBG4whLbh0JGyZ6ecRkPiWNKKoFx8moWJQJgRPrJEOdaEkLflLiCB0EgZN4%250AQk3lowLSI06yiaXC5v1h4GcAi6KNmT9vvIAXoIYuqrjXLhtFvYjgUvyRfNcaSIdU%250A47fhpFksGhsWK8rjd6D9J6MwgTnMlJwTn1%252BdJ5MnBoJXoZv3DCIVc7GJpX4gwbny%250A6C9HYANQM0zu%252BZ7BNg7OthXDQ%252Fm7AgMBAAGjQjBAMA4GA1UdDwEB%252FwQEAwICpDAP%250ABgNVHRMBAf8EBTADAQH%252FMB0GA1UdDgQWBBQnh60gAkOojyjj1rwGaSBe2Tns5zAN%250ABgkqhkiG9w0BAQsFAAOCAQEAPzFx14Yf3Zfj0ss%252B%252Bk%252B1o%252FWN071PJ7g%252FsDpqZwLm%250AiP6uSAH4D8MgevxhHBAImA%252FY%252BuZITh36NW1wSyN8caqPMafWijW7Y4HTOZslvaqp%250AApLSN%252FRcjQ9HHwa2QgJS4CVFAvMgvpRf3qRGPeSyRS2bzsifytzV1qGXxF5awlEH%250AdHMdDvX81vvC8Q5AaQ2Yzk9Che7hba65v1fIYV%252FyxglGIIYhskrn1WedGhz7Xm8F%250AHpQO5xt1IqtEyOK4qonDbvKLxUMsJoErLj3VbyfoLNupQCYwp1pmRtEpJyvvrEv8%250ABTDtwYKsz%252FmRJ0ni%252BpdaIC%252FPxuEAht9U54iRvG12v1h6sg%253D%253D%250A-----END%2520CERTIFICATE-----%250A-----BEGIN%2520CERTIFICATE-----%250AMIIDNDCCAhygAwIBAgIIKhfXNqPa0DMwDQYJKoZIhvcNAQELBQAwODESMBAGA1UE%250ACxMJb3BlbnNoaWZ0MSIwIAYDVQQDExlrdWJlLWNvbnRyb2wtcGxhbmUtc2lnbmVy%250AMB4XDTIyMDMxNDE3NTYyNVoXDTIzMDMxNDE3NTYyNVowODESMBAGA1UECxMJb3Bl%250AbnNoaWZ0MSIwIAYDVQQDExlrdWJlLWNvbnRyb2wtcGxhbmUtc2lnbmVyMIIBIjAN%250ABgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAuxs5HVOlPk%252Fxiq0v5qxH458iG00h%250Ad9FeE9kZ8yAlNbPfMS7gtxEEVN6OLwgkfGJqTbJq8u1y008FE%252BC%252FeY8pWkY70xob%250A4dAaTPg6WSbHBTxo7vnp3yetE6g679l7WThtRR8CQiZ7P3vnaj1WQzQWxyICWN7z%250Ak20W78EM2%252BtXj%252FEqdfkU1nWsx0gn6EMXSXnXz%252FdwBUAZzDvmRr3yu2mMRSWdq5i7%250AkCfUlEEWkoljSSy2DiFGkd4fu1gHJqybAWGGNc9asigapqXwNlGEjpy0eLDqzWIE%250AngJcYmsePEDspNU9BjPvWgc0BoxdKiQIDx8R5TE2mKJlmH1dgyO%252BqTcpCQIDAQAB%250Ao0IwQDAOBgNVHQ8BAf8EBAMCAqQwDwYDVR0TAQH%252FBAUwAwEB%252FzAdBgNVHQ4EFgQU%250ANGvnC%252FJpMdvlNZNYBKHo2TGm3ngwDQYJKoZIhvcNAQELBQADggEBAJhQmaZa14sx%250AhrloqsmmlUnh9lsofTddz0%252Bay67oIzXrT1EH9Q%252BGzqHTcbDqAktmwPi%252B3%252FY1KBXa%250ArorX%252FuZsvtxU%252BRG05QwnDBxkB%252BfK2XCpYV4pEl7DRfEGKn8OTJOOa9J2Had1yo0I%250AS0DlIrCNwYD4WlyNBzKdhTJOD%252FvmU%252BR%252BVgE4ZNzNhAEJNmVKlIt0LtF81D%252FKHUaG%250A%252FeQaeXYMOhXm38nlqqZOXdpARar5ay%252FKJoWdAVbzsS9GNM5P1SVQkIWjxe6Oa42x%250A79eeVf1ioHACc81Zhb0%252BKtHY6FkKGKBKGGb7AfpP%252BnRMJi33UBQzac1LqRi7UzRd%250Ag4vUPRWy2Oc%253D%250A-----END%2520CERTIFICATE-----%250A-----BEGIN%2520CERTIFICATE-----%250AMIIDQjCCAiqgAwIBAgIIGJAG31gttPQwDQYJKoZIhvcNAQELBQAwPzESMBAGA1UE%250ACxMJb3BlbnNoaWZ0MSkwJwYDVQQDEyBrdWJlLWFwaXNlcnZlci10by1rdWJlbGV0%250ALXNpZ25lcjAeFw0yMjAzMTQxNzU2MjVaFw0yMzAzMTQxNzU2MjVaMD8xEjAQBgNV%250ABAsTCW9wZW5zaGlmdDEpMCcGA1UEAxMga3ViZS1hcGlzZXJ2ZXItdG8ta3ViZWxl%250AdC1zaWduZXIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC0oEKSE78r%250AZl12Z8QC9KA68lyCVOF9w5vafU9OLkXy4oam98bnsM5IYYVR26ohmIBHXSfcgMZa%250Azzplco72KpoJK6fEU9C9DdcbFq0YGODOkMGaq6kv92PL6IEThA69sAgV7eY%252B2Ipi%250Ar9E%252FMHOAMklMWL1mJg50gBAwS20Ufh%252BkCu%252B1jC%252B04rKbzmcXcRcOXFXnoSx1wnxH%250Asx6hVuO%252FkGK9wr9gfgDoDKu71pOC23nUfZbFCibClWCkEyqfhbuZGEYtJRH4O85n%250AbRbscylqUHlM298%252B3OQNXyjYRj8Nc03zbCY0d65sMJDqOQiX2FFg4sLDmnZPuGZk%250AeURyoL%252BKcQ%252BFAgMBAAGjQjBAMA4GA1UdDwEB%252FwQEAwICpDAPBgNVHRMBAf8EBTAD%250AAQH%252FMB0GA1UdDgQWBBSoUITGmMGjqVLFqDUlc%252FrG5nqsOTANBgkqhkiG9w0BAQsF%250AAAOCAQEAn4RfteZ2XGA8FL%252FhY4bWGE%252BV9mPkideiTaQuC8bAv8VQWgjMgh%252FOp0g9%250A%252BR2JqYxtjffoBEQQ6npVxwmRTGtRBkMATqb7Ysy8Gp88U4qUg7bwOCg9AI44hcDL%250Ao5E9NIy7QZ56zR%252BL3YHur86MXOX%252BwBB94e8ZPQSK%252BUz62Sq8g57bDJKmR6JUMvDM%250AYugDROMKjRJv1rJVVRtGm1wMnT9Q%252BmQa4%252FgokvR0%252B1p7ENnzBAtBsGPiGlSrJQcj%250A8jL2ijxzhBMnerYfuB%252FOtNOPGAE9CodHu%252FAuGbU7k15dP4cX%252FidpOTUXo281LOon%250Au1JJKNGgamANIWufx3RidkjitPntrw%253D%253D%250A-----END%2520CERTIFICATE-----%250A-----BEGIN%2520CERTIFICATE-----%250AMIIDSDCCAjCgAwIBAgIILeaasBGEYEswDQYJKoZIhvcNAQELBQAwQjESMBAGA1UE%250ACxMJb3BlbnNoaWZ0MSwwKgYDVQQDEyNrdWJlbGV0LWJvb3RzdHJhcC1rdWJlY29u%250AZmlnLXNpZ25lcjAeFw0yMjAzMTQxNzU2MjBaFw0zMjAzMTExNzU2MjBaMEIxEjAQ%250ABgNVBAsTCW9wZW5zaGlmdDEsMCoGA1UEAxMja3ViZWxldC1ib290c3RyYXAta3Vi%250AZWNvbmZpZy1zaWduZXIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCl%250AM9A%252BBi4yZukYEdeXqL9TgaCfFUh03zEX5xOmcG4a9J0R%252F2fi75pq7A1EE3NEwePo%250AdlP9JWg%252BmMeFc9YuYZdR9nkBxmn2iGIDfkDCbDbTfQUnU68GrtWh7eleduSn1kXI%250ARMmEG%252B6iWrumPcivOUUGvNrSTSDOguj4FYyBcPCZf6gJtH7VfZOPGO9CC6uxXY6K%250ATcOHydyNZb50NViGW%252B5LaBAy2kBukK7t9JbZtnnVzqNGIboVuAxdfabrZEs3oV1f%250ApxN%252BZLT2%252FEHvJ0jMFVh%252Bx3VBgYIua1zo6a4aiKk0wqBsn%252FWwO5ujN90UY8mxlk6f%250AqIeWMDrueQa8ppbNHFc3AgMBAAGjQjBAMA4GA1UdDwEB%252FwQEAwICpDAPBgNVHRMB%250AAf8EBTADAQH%252FMB0GA1UdDgQWBBQHOv5xK0cnRhLVbcS%252B2y9pnZ1DizANBgkqhkiG%250A9w0BAQsFAAOCAQEALc9tD1WdYdeNkf1s0bR5783RgIKnupAUBhyk8cgi1sVI5R0P%250AwS4nGOBhxCQ9Fsvy1kHt7CpQEOlPvpWTE9W2oStOiIHBcW9zUTmzmy9SxdbUzzO6%250AduZa9Qo7Dgg1EviVpNx5OYWgtS6qX6H9sZKn3mfrxhbgW68O7Q8geT6pfcP61WBu%250AjGB6Adt9tsaAp8DHm3r3Phz8gNCrzpPh10ilS3Y5G9s3duoTqKCHXFgK7XkX%252BT4i%250AGVrVBe8CtPzj%252FxKzagDklPYjuVYIr%252BdV2nmBzoBqZd9PSFFQLXq9T82sYOPx%252B6dk%250AGlJv9sPygRbQBjsL2oU5cjmnxf7y6gqHSWXytw%253D%253D%250A-----END%2520CERTIFICATE-----%250A%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mode%22%3A%20420%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22overwrite%22%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22path%22%3A%20%22%2Fetc%2Fkubernetes%2Fkubelet-ca.crt%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22source%22%3A%20%22data%3A%2C%2523%2520Turning%2520on%2520Accounting%2520helps%2520track%2520down%2520performance%2520issues.%250A%255BManager%255D%250ADefaultCPUAccounting%253Dyes%250ADefaultMemoryAccounting%253Dyes%250ADefaultBlockIOAccounting%253Dyes%250A%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mode%22%3A%20420%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22overwrite%22%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22path%22%3A%20%22%2Fetc%2Fsystemd%2Fsystem.conf.d%2Fkubelet-cgroups.conf%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22source%22%3A%20%22data%3A%2C%255BService%255D%250AEnvironment%253D%2522KUBELET_LOG_LEVEL%253D2%2522%250A%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mode%22%3A%20420%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22overwrite%22%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22path%22%3A%20%22%2Fetc%2Fsystemd%2Fsystem%2Fkubelet.service.d%2F20-logging.conf%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22source%22%3A%20%22data%3A%2C%2523%2520ignore%2520known%2520SDN-managed%2520devices%250A%255Bdevice%255D%250Amatch-device%253Dinterface-name%253Abr-int%253Binterface-name%253Abr-local%253Binterface-name%253Abr-nexthop%252Cinterface-name%253Aovn-k8s-*%252Cinterface-name%253Ak8s-*%253Binterface-name%253Atun0%253Binterface-name%253Abr0%253Bdriver%253Aveth%250Amanaged%253D0%250A%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mode%22%3A%20420%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22overwrite%22%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22path%22%3A%20%22%2Fetc%2FNetworkManager%2Fconf.d%2Fsdn.conf%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22source%22%3A%20%22data%3A%2C%257B%2522auths%2522%253A%257B%2522cloud.openshift.com%2522%253A%257B%2522auth%2522%253A%2522b3BlbnNoaWZ0LXJlbGVhc2UtZGV2K2plcnpoYW5ncmVkaGF0Y29tMWVmcnQzanh3Y2N1dXB1c3ZibDhrcnY2amF2OlE3TVlZU1g4UzhLM0VONEI0SUxVQkpIVVVWTFNQN1NXMjlJVURLNFFOTzdOVDBaUTRWTVdDUTA4REwxT0tKM0w%253D%2522%252C%2522email%2522%253A%2522jerzhang%2540redhat.com%2522%257D%252C%2522quay.io%2522%253A%257B%2522auth%2522%253A%2522b3BlbnNoaWZ0LXJlbGVhc2UtZGV2K2plcnpoYW5ncmVkaGF0Y29tMWVmcnQzanh3Y2N1dXB1c3ZibDhrcnY2amF2OlE3TVlZU1g4UzhLM0VONEI0SUxVQkpIVVVWTFNQN1NXMjlJVURLNFFOTzdOVDBaUTRWTVdDUTA4REwxT0tKM0w%253D%2522%252C%2522email%2522%253A%2522jerzhang%2540redhat.com%2522%257D%252C%2522registry.connect.redhat.com%2522%253A%257B%2522auth%2522%253A%2522NTIxMjQ1OTR8dWhjLTFFZnJUM2pYV2NDVVVQVVNWQkw4a3J2NkphdjpleUpoYkdjaU9pSlNVelV4TWlKOS5leUp6ZFdJaU9pSXpPV1F4WldFNVpHUTBZVEkwTkRjeVlqRTJOemswWm1SaU1HWXlOelJsTVNKOS5EZmxxSkxTRDc0X29faERfLVFoTEpMb0FnQXRIR09fTUFBRUhXVWZSOUZYMzRMa2prUWl1Yjh2dTJsVHFaMVg0UFdVSlI5aF9NLXUtUklHaHdfQkNBRjN1aDU5YWp1Y1E4YjF5NWw1Ny1rYzdQSWs1Qk1hb2FhR3NZTTYyRHdFc0ZKd1RNRWQyM3ZRMlZ5VEVGVkNEZHVqX0t0SC1GcWhld044eWNUVFl4dVlkb3Q4eWEyQTZOQ3l4SDVsZGNhQy0wX0puOXBERDVSb1BxTzI0a3FjRlJZSlNJbXIzYnl5RV9RenhYWWgxc0VCMHkwQ1dCMG9iU2lMXzZJQnVqRkJnWHVIZ1FodGhlaFdHX2ptMWQwWkNXYVFUd3dZMU45QU9OMUNpdTh0MG9KWEJKZnRLZVpkOVlHUDNkcFExNDJYSXBvd1ZDcFktNEl0dlNtb0dQWjFrcEdNa2U3V0FaNjY2S0h1cjRpZGhXQk9nR19meXZOWlp6b1pFVFdZTUZubjhmRktCYmcxZldwbjI5Q3dETHpydHpHVmcwbVdLZnNMUU9ESm10clVDZHNBSXQ3QVMwdTQ3cnlCODVWcUpUbXJzdm5kenljeWJQdHFfRFV3RjBZUDc4OWlTejdmSUFDbktmZG1DN1psRS1scVVpVGVoLVpVQm9GangzdUtfYk4yVXV5Z2ZCUXQxQmtfc21Id3FBMEJTM2RzSlpwUGJVWVI2ZHB1MVpFTUt6cFBIMm9XYXVTRE1HOGRjaFdFOHBjblhLWUpuQkhvekdLcXdZcEhoZjdkSkxKbWF0U056TTNmOFVEcl84dE9CZmRxZ0FzU0tSZWpQTGZHQlF1Q3BSTU50Y1pCcWRGTUl3R0JCQkE0OENub3ZBTF9jOTJKbGVRRzJZNmR3YjJkZEtPaw%253D%253D%2522%252C%2522email%2522%253A%2522jerzhang%2540redhat.com%2522%257D%252C%2522registry.redhat.io%2522%253A%257B%2522auth%2522%253A%2522NTIxMjQ1OTR8dWhjLTFFZnJUM2pYV2NDVVVQVVNWQkw4a3J2NkphdjpleUpoYkdjaU9pSlNVelV4TWlKOS5leUp6ZFdJaU9pSXpPV1F4WldFNVpHUTBZVEkwTkRjeVlqRTJOemswWm1SaU1HWXlOelJsTVNKOS5EZmxxSkxTRDc0X29faERfLVFoTEpMb0FnQXRIR09fTUFBRUhXVWZSOUZYMzRMa2prUWl1Yjh2dTJsVHFaMVg0UFdVSlI5aF9NLXUtUklHaHdfQkNBRjN1aDU5YWp1Y1E4YjF5NWw1Ny1rYzdQSWs1Qk1hb2FhR3NZTTYyRHdFc0ZKd1RNRWQyM3ZRMlZ5VEVGVkNEZHVqX0t0SC1GcWhld044eWNUVFl4dVlkb3Q4eWEyQTZOQ3l4SDVsZGNhQy0wX0puOXBERDVSb1BxTzI0a3FjRlJZSlNJbXIzYnl5RV9RenhYWWgxc0VCMHkwQ1dCMG9iU2lMXzZJQnVqRkJnWHVIZ1FodGhlaFdHX2ptMWQwWkNXYVFUd3dZMU45QU9OMUNpdTh0MG9KWEJKZnRLZVpkOVlHUDNkcFExNDJYSXBvd1ZDcFktNEl0dlNtb0dQWjFrcEdNa2U3V0FaNjY2S0h1cjRpZGhXQk9nR19meXZOWlp6b1pFVFdZTUZubjhmRktCYmcxZldwbjI5Q3dETHpydHpHVmcwbVdLZnNMUU9ESm10clVDZHNBSXQ3QVMwdTQ3cnlCODVWcUpUbXJzdm5kenljeWJQdHFfRFV3RjBZUDc4OWlTejdmSUFDbktmZG1DN1psRS1scVVpVGVoLVpVQm9GangzdUtfYk4yVXV5Z2ZCUXQxQmtfc21Id3FBMEJTM2RzSlpwUGJVWVI2ZHB1MVpFTUt6cFBIMm9XYXVTRE1HOGRjaFdFOHBjblhLWUpuQkhvekdLcXdZcEhoZjdkSkxKbWF0U056TTNmOFVEcl84dE9CZmRxZ0FzU0tSZWpQTGZHQlF1Q3BSTU50Y1pCcWRGTUl3R0JCQkE0OENub3ZBTF9jOTJKbGVRRzJZNmR3YjJkZEtPaw%253D%253D%2522%252C%2522email%2522%253A%2522jerzhang%2540redhat.com%2522%257D%252C%2522registry.ci.openshift.org%2522%253A%257B%2522auth%2522%253A%2522dXNlcjpzaGEyNTZ%252BbnpUbGQzaDJ5YmdtNGgzdmRTQ2pqUUJoYlRtSkdnN2dGbVpRV3FUa3ZtYw%253D%253D%2522%257D%252C%2522registry.build01.ci.openshift.org%2522%253A%257B%2522auth%2522%253A%2522dXNlcjpzaGEyNTZ%252BNEtFSkRZejd3VUZXWWdreDFBUU9PUjMzQkF2X09hV2k0UmZDa2cwb0NNOA%253D%253D%2522%257D%252C%2522registry.svc.ci.openshift.org%2522%253A%257B%2522auth%2522%253A%2522dXNlcjpyZFhtTndfdXo5SlNXNm94Z2tuelBaV3hIeFc0eW1pRkYtSDJrYVdHWVBF%2522%257D%252C%2522https%253A%252F%252Findex.docker.io%252Fv1%252F%2522%253A%257B%2522auth%2522%253A%2522amVyemhhbmc6ZTZlYTEzZTYtZGFhNC00OWE1LTgxOGEtYzdjOThlMjgzMTNj%2522%257D%257D%257D%250A%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mode%22%3A%20384%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22overwrite%22%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22path%22%3A%20%22%2Fvar%2Flib%2Fkubelet%2Fconfig.json%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22source%22%3A%20%22data%3A%2C-----BEGIN%2520CERTIFICATE-----%250AMIIDEDCCAfigAwIBAgIIUc%252FKfxd%252Bbj4wDQYJKoZIhvcNAQELBQAwJjESMBAGA1UE%250ACxMJb3BlbnNoaWZ0MRAwDgYDVQQDEwdyb290LWNhMB4XDTIyMDMxNDE3NTYyMVoX%250ADTMyMDMxMTE3NTYyMVowJjESMBAGA1UECxMJb3BlbnNoaWZ0MRAwDgYDVQQDEwdy%250Ab290LWNhMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA7M8l81ggdW9F%250AKOzriQz0CGMflXAI68Z5dn9V%252FfBdmHI%252FJaasNzeez%252Bhel6iVTHvOF3i1Uo8xeYap%250A2ul%252Fp%252FPj1coFmu06MhvmDIdb1sm121AfnhVQAMYH7sbr%252BabXQHTeij6l8A%252Fo%252FqB5%250Ai6n547tqisgiSZ9P%252Fnt5mbYavQCqO%252FNVe5o4%252FXLd393VaRVWTpak2HVl%252FU9bouC1%250A0vOJHKZ2%252FxD1p6yRQecByl66nT4Voqft7v5%252FkPfKLGPkbGcT3oAxYX19NZgt4ZCB%250AwtBekiKYD6w1FSjUi7DzLs%252FowgCqwITRYAu1M4rOdHgOP0ifkxcwe7p1Kkhlhv36%250A4ZlQauNVYwIDAQABo0IwQDAOBgNVHQ8BAf8EBAMCAqQwDwYDVR0TAQH%252FBAUwAwEB%250A%252FzAdBgNVHQ4EFgQU6F76F8HNJaT84DmBjsUm0iE2P1cwDQYJKoZIhvcNAQELBQAD%250AggEBAJo%252BHKW8VCiXKb0NDmO4z9MCQZ6KF6%252BPVhX9U%252Fb1A9uluTuHt2TLEbhjzzJy%250AfAB%252Fr7S5uCme%252BZLvMeZODPdKXs5n6sRfgurE0wwawaMAQr3emBKtxQNhy%252BI0bd6o%250AJtYiSwRY%252B0uXQ2Psru7ajSr3AFrfb5RWAe2ljkHkbIrZBk3iCJIt9ZEC2cGII4RB%250AAlSa4F2uH9rpXZd27jC9FkJZGCxeM%252BHPm8UJCYcmjvOGZLMiicGbrFKSyLpzWB%252Fy%250Anaw52%252FlomaXQKI6EDpythoTjGDVHafY1WtscJxyVGv4YoGEG4lmK19DrqDYSbuO3%250A9BVgw%252BZ3M7RaU2QIa1KFHU%252Fxtwg%253D%250A-----END%2520CERTIFICATE-----%250A%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mode%22%3A%20420%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22overwrite%22%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22path%22%3A%20%22%2Fetc%2Fkubernetes%2Fca.crt%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22source%22%3A%20%22data%3A%2Cnet.ipv4.ip_forward%2520%253D%25201%250Anet.ipv6.conf.all.forwarding%2520%253D%25201%250A%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mode%22%3A%20420%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22overwrite%22%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22path%22%3A%20%22%2Fetc%2Fsysctl.d%2Fforward.conf%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22source%22%3A%20%22data%3A%2C%250Afs.inotify.max_user_watches%2520%253D%252065536%250Afs.inotify.max_user_instances%2520%253D%25208192%250A%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mode%22%3A%20420%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22overwrite%22%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22path%22%3A%20%22%2Fetc%2Fsysctl.d%2Finotify.conf%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22source%22%3A%20%22data%3A%2C%2523!%252Fbin%252Fbash%250Aset%2520-e%2520-o%2520pipefail%250A%250ANODECONF%253D%252Fetc%252Fsystemd%252Fsystem%252Fkubelet.service.d%252F20-aws-node-name.conf%250A%250Aif%2520%255B%2520-e%2520%2522%2524%257BNODECONF%257D%2522%2520%255D%253B%2520then%250A%2520%2520%2520%2520echo%2520%2522Not%2520replacing%2520existing%2520%2524%257BNODECONF%257D%2522%250A%2520%2520%2520%2520exit%25200%250Afi%250A%250A%2523%2520For%2520compatibility%2520with%2520the%2520AWS%2520in-tree%2520provider%250A%2523%2520Set%2520node%2520name%2520to%2520be%2520instance%2520name%2520instead%2520of%2520the%2520default%2520FQDN%2520hostname%250A%2523%250A%2523%2520https%253A%252F%252Fdocs.aws.amazon.com%252FAWSEC2%252Flatest%252FUserGuide%252Finstancedata-data-retrieval.html%250Aname%253D%2524(curl%2520-s%2520http%253A%252F%252F169.254.169.254%252F2016-09-02%252Fmeta-data%252Flocal-hostname)%250Acat%2520%253E%2520%2522%2524%257BNODECONF%257D%2522%2520%253C%253CEOF%250A%255BService%255D%250AEnvironment%253D%2522KUBELET_NODE_NAME%253D%2524%257Bname%257D%2522%250AEOF%250A%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mode%22%3A%20493%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22overwrite%22%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22path%22%3A%20%22%2Fusr%2Flocal%2Fbin%2Faws-kubelet-nodename%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22source%22%3A%20%22data%3A%2C%2523!%252Fbin%252Fbash%250A%2523%2520First%252C%2520we%2520need%2520to%2520wait%2520until%2520DHCP%2520finishes%2520and%2520the%2520node%2520has%2520a%2520non-%2560localhost%2560%250A%2523%2520hostname%2520before%2520%2560kubelet.service%2560%2520starts.%250A%2523%2520That's%2520the%2520%2560--wait%2560%2520argument%2520as%2520used%2520by%2520%2560node-valid-hostname.service%2560.%250A%2523%250A%2523%2520Second%252C%2520on%2520GCP%2520specifically%2520we%2520truncate%2520the%2520hostname%2520if%2520it's%2520%253E63%2520characters.%250A%2523%2520That's%2520%2560gcp-hostname.service%2560.%250A%250A%2523%2520Block%2520indefinitely%2520until%2520the%2520host%2520gets%2520a%2520non-localhost%2520name.%250A%2523%2520Note%2520node-valid-hostname.service%2520uses%2520systemd%2520to%2520abort%2520if%2520this%2520takes%2520too%2520long.%250Await_localhost()%2520%257B%250A%2520%2520%2520%2520echo%2520%2522waiting%2520for%2520non-localhost%2520hostname%2520to%2520be%2520assigned%2522%250A%2520%2520%2520%2520while%2520%255B%255B%2520%2522%2524(%253C%2520%252Fproc%252Fsys%252Fkernel%252Fhostname)%2522%2520%253D~%2520(localhost%257Clocalhost.localdomain)%2520%255D%255D%253B%250A%2520%2520%2520%2520do%250A%2520%2520%2520%2520%2520%2520%2520%2520sleep%25201%250A%2520%2520%2520%2520done%250A%2520%2520%2520%2520echo%2520%2522node%2520identified%2520as%2520%2524(%253C%252Fproc%252Fsys%252Fkernel%252Fhostname)%2522%250A%2520%2520%2520%2520exit%25200%250A%257D%250A%250Aset_gcp_hostname()%2520%257B%250A%2520%2520%2520%2520%252Fusr%252Fbin%252Fafterburn%2520--provider%2520gcp%2520--hostname%253D%252Frun%252Fafterburn.hostname%250A%250A%2520%2520%2520%2520local%2520host_name%253D%2524(cat%2520%252Frun%252Fafterburn.hostname)%250A%2520%2520%2520%2520local%2520type_arg%253D%2522transient%2522%250A%250A%2520%2520%2520%2520%2523%2520%252Fetc%252Fhostname%2520is%2520used%2520for%2520static%2520hostnames%2520and%2520is%2520authoritative.%250A%2520%2520%2520%2520%2523%2520This%2520will%2520check%2520to%2520make%2520sure%2520that%2520the%2520static%2520hostname%2520is%2520the%250A%2520%2520%2520%2520%2523%2520less%2520than%2520or%2520equal%2520to%252063%2520characters%2520in%2520length.%250A%2520%2520%2520%2520if%2520%255B%2520-f%2520%252Fetc%252Fhostname%2520%255D%2520%2526%2526%2520%255B%2520%2522%2524(cat%2520%252Fetc%252Fhostname%2520%257C%2520wc%2520-m)%2522%2520-gt%25200%2520%255D%253B%2520then%250A%2520%2520%2520%2520%2520%2520%2520%2520etc_name%253D%2522%2524(%253C%2520%252Fetc%252Fhostname)%2522%250A%2520%2520%2520%2520%2520%2520%2520%2520type_arg%253D%2522static%2522%250A%2520%2520%2520%2520%2520%2520%2520%2520if%2520%255B%2520%2522%2524%257Betc_name%257D%2522%2520!%253D%2520%2522%2524%257Bhost_name%257D%2522%2520%255D%253B%2520then%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520echo%2520%2522%252Fetc%252Fhostname%2520is%2520set%2520to%2520%2524%257Betc_name%257D%2520but%2520does%2520not%2520match%2520%2524%257Bhost_name%257D%2522%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520echo%2520%2522using%2520%252Fetc%252Fhostname%2520as%2520the%2520authoritative%2520name%2522%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520host_name%253D%2522%2524%257Betc_name%257D%2522%250A%2520%2520%2520%2520%2520%2520%2520%2520fi%250A%2520%2520%2520%2520fi%250A%250A%2520%2520%2520%2520%2523%2520Only%2520mutate%2520the%2520hostname%2520if%2520the%2520length%2520is%2520longer%2520than%252063%2520characters.%2520The%250A%2520%2520%2520%2520%2523%2520hostname%2520will%2520be%2520the%2520lesser%2520of%252063%2520characters%2520after%2520the%2520first%2520dot%2520in%2520the%250A%2520%2520%2520%2520%2523%2520FQDN.%2520%2520This%2520algorithm%2520is%2520only%2520known%2520to%2520work%2520in%2520GCP%252C%2520and%2520hence%2520is%2520only%250A%2520%2520%2520%2520%2523%2520executed%2520in%2520GCP.%250A%2520%2520%2520%2520if%2520%255B%2520%2522%2524%257B%2523host_name%257D%2522%2520-gt%252063%2520%255D%253B%2520then%250A%2520%2520%2520%2520%2520%2520%2520%2520alt_name%253D%2524(printf%2520%2522%2524%257Bhost_name%257D%2522%2520%257C%2520cut%2520-f1%2520-d'.'%2520%257C%2520cut%2520-c%2520-63)%250A%2520%2520%2520%2520%2520%2520%2520%2520echo%2520%2522%2524%257Bhost_name%257D%2520is%2520longer%2520than%252063%2520characters%252C%2520using%2520truncated%2520hostname%2522%250A%2520%2520%2520%2520%2520%2520%2520%2520host_name%253D%2522%2524%257Balt_name%257D%2522%250A%2520%2520%2520%2520fi%250A%2520%2520%2520%2520echo%2520%2522setting%2520%2524%257Btype_arg%257D%2520hostname%2520to%2520%2524%257Bhost_name%257D%2522%250A%2520%2520%2520%2520%252Fbin%252Fhostnamectl%2520%2522--%2524%257Btype_arg%257D%2522%2520set-hostname%2520%2522%2524%257Bhost_name%257D%2522%250A%2520%2520%2520%2520exit%25200%250A%257D%250A%250Aarg%253D%2524%257B1%257D%253B%2520shift%253B%250Acase%2520%2522%2524%257Barg%257D%2522%2520in%250A%2520%2520%2520%2520--wait)%2520wait_localhost%253B%253B%250A%2520%2520%2520%2520--gcp)%2520set_gcp_hostname%253B%253B%250A%2520%2520%2520%2520*)%2520echo%2520%2522Unhandled%2520arg%2520%2524arg%2522%253B%2520exit%25201%250Aesac%250A%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mode%22%3A%20493%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22overwrite%22%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22path%22%3A%20%22%2Fusr%2Flocal%2Fbin%2Fmco-hostname%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22source%22%3A%20%22data%3A%2C%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mode%22%3A%20493%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22overwrite%22%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22path%22%3A%20%22%2Fetc%2Fkubernetes%2Fkubelet-plugins%2Fvolume%2Fexec%2F.dummy%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22source%22%3A%20%22data%3A%2C%2523!%252Fbin%252Fbash%250A%2523%2520Workaround%253A%250A%2523%2520https%253A%252F%252Fbugzilla.redhat.com%252Fshow_bug.cgi%253Fid%253D1941714%250A%2523%2520https%253A%252F%252Fbugzilla.redhat.com%252Fshow_bug.cgi%253Fid%253D1935539%250A%2523%2520https%253A%252F%252Fbugzilla.redhat.com%252Fshow_bug.cgi%253Fid%253D1987108%250A%250Adriver%253D%2524(nmcli%2520-t%2520-m%2520tabular%2520-f%2520general.driver%2520dev%2520show%2520%2522%2524%257BDEVICE_IFACE%257D%2522)%250A%250Aif%2520%255B%255B%2520%2522%25242%2522%2520%253D%253D%2520%2522up%2522%2520%2526%2526%2520%2522%2524%257Bdriver%257D%2522%2520%253D%253D%2520%2522vmxnet3%2522%2520%255D%255D%253B%2520then%250A%2520%2520logger%2520-s%2520%252299-vsphere-disable-tx-udp-tnl%2520triggered%2520by%2520%2524%257B2%257D%2520on%2520device%2520%2524%257BDEVICE_IFACE%257D.%2522%250A%2520%2520ethtool%2520-K%2520%2524%257BDEVICE_IFACE%257D%2520tx-udp_tnl-segmentation%2520off%250A%2520%2520ethtool%2520-K%2520%2524%257BDEVICE_IFACE%257D%2520tx-udp_tnl-csum-segmentation%2520off%250A%2520%2520ethtool%2520-K%2520%2524%257BDEVICE_IFACE%257D%2520tx-checksum-ip-generic%2520off%250Afi%250A%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mode%22%3A%20484%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22overwrite%22%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22path%22%3A%20%22%2Fetc%2FNetworkManager%2Fdispatcher.d%2F99-vsphere-disable-tx-udp-tnl%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22source%22%3A%20%22data%3A%2Cunqualified-search-registries%2520%253D%2520%255B'registry.access.redhat.com'%252C%2520'docker.io'%255D%250A%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mode%22%3A%20420%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22overwrite%22%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22path%22%3A%20%22%2Fetc%2Fcontainers%2Fregistries.conf%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22source%22%3A%20%22data%3A%2C%255Bcrio%255D%250Ainternal_wipe%2520%253D%2520true%250Aversion_file_persist%2520%253D%2520%2522%252Fvar%252Flib%252Fcrio%252Fversion%2522%250A%250A%255Bcrio.api%255D%250Astream_address%2520%253D%2520%2522%2522%250Astream_port%2520%253D%2520%252210010%2522%250A%250A%255Bcrio.runtime%255D%250Aselinux%2520%253D%2520true%250Aconmon%2520%253D%2520%2522%2522%250Aconmon_cgroup%2520%253D%2520%2522pod%2522%250Adefault_env%2520%253D%2520%255B%250A%2520%2520%2520%2520%2522NSS_SDB_USE_CACHE%253Dno%2522%252C%250A%255D%250Alog_level%2520%253D%2520%2522info%2522%250Acgroup_manager%2520%253D%2520%2522systemd%2522%250Adefault_sysctls%2520%253D%2520%255B%250A%2520%2520%2520%2520%2522net.ipv4.ping_group_range%253D0%25202147483647%2522%252C%250A%255D%250Ahooks_dir%2520%253D%2520%255B%250A%2520%2520%2520%2520%2522%252Fetc%252Fcontainers%252Foci%252Fhooks.d%2522%252C%250A%2520%2520%2520%2520%2522%252Frun%252Fcontainers%252Foci%252Fhooks.d%2522%252C%250A%2520%2520%2520%2520%2522%252Fusr%252Fshare%252Fcontainers%252Foci%252Fhooks.d%2522%252C%250A%255D%250Amanage_ns_lifecycle%2520%253D%2520true%250Aabsent_mount_sources_to_reject%2520%253D%2520%255B%250A%2520%2520%2520%2520%2522%252Fetc%252Fhostname%2522%252C%250A%255D%250Adrop_infra_ctr%2520%253D%2520true%250A%250A%255Bcrio.runtime.workloads.openshift-builder%255D%250Aactivation_annotation%2520%253D%2520%2522io.openshift.builder%2522%250Aallowed_annotations%2520%253D%2520%255B%250A%2520%2520%2522io.kubernetes.cri-o.userns-mode%2522%252C%250A%2520%2520%2522io.kubernetes.cri-o.Devices%2522%250A%255D%250A%255Bcrio.runtime.workloads.openshift-builder.resources%255D%250A%250A%255Bcrio.image%255D%250Aglobal_auth_file%2520%253D%2520%2522%252Fvar%252Flib%252Fkubelet%252Fconfig.json%2522%250Apause_image%2520%253D%2520%2522quay.io%252Fopenshift-release-dev%252Focp-v4.0-art-dev%2540sha256%253Abfa295c67ade9ee09776834941c35a5a3375a4be8811ebd8dc072dd0b20f9e27%2522%250Apause_image_auth_file%2520%253D%2520%2522%252Fvar%252Flib%252Fkubelet%252Fconfig.json%2522%250Apause_command%2520%253D%2520%2522%252Fusr%252Fbin%252Fpod%2522%250A%250A%255Bcrio.network%255D%250Anetwork_dir%2520%253D%2520%2522%252Fetc%252Fkubernetes%252Fcni%252Fnet.d%252F%2522%250Aplugin_dirs%2520%253D%2520%255B%250A%2520%2520%2520%2520%2522%252Fvar%252Flib%252Fcni%252Fbin%2522%252C%250A%2520%2520%2520%2520%2522%252Fusr%252Flibexec%252Fcni%2522%252C%250A%255D%250A%250A%255Bcrio.metrics%255D%250Aenable_metrics%2520%253D%2520true%250Ametrics_port%2520%253D%25209537%250Ametrics_collectors%2520%253D%2520%255B%250A%2520%2520%2522operations%2522%252C%250A%2520%2520%2522operations_latency_microseconds_total%2522%252C%250A%2520%2520%2522operations_latency_microseconds%2522%252C%250A%2520%2520%2522operations_errors%2522%252C%250A%2520%2520%2522image_pulls_layer_size%2522%252C%250A%2520%2520%2522containers_oom_total%2522%252C%250A%2520%2520%2522containers_oom%2522%252C%250A%2520%2520%2523%2520Drop%2520metrics%2520with%2520excessive%2520label%2520cardinality.%250A%2520%2520%2523%2520%2522image_pulls_by_digest%2522%252C%250A%2520%2520%2523%2520%2522image_pulls_by_name%2522%252C%250A%2520%2520%2523%2520%2522image_pulls_by_name_skipped%2522%252C%250A%2520%2520%2523%2520%2522image_pulls_failures%2522%252C%250A%2520%2520%2523%2520%2522image_pulls_successes%2522%252C%250A%2520%2520%2523%2520%2522image_layer_reuse%2522%252C%250A%255D%250A%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mode%22%3A%20420%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22overwrite%22%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22path%22%3A%20%22%2Fetc%2Fcrio%2Fcrio.conf.d%2F00-default%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22source%22%3A%20%22data%3A%2C%257B%250A%2520%2520%2520%2520%2522default%2522%253A%2520%255B%250A%2520%2520%2520%2520%2520%2520%2520%2520%257B%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2522type%2522%253A%2520%2522insecureAcceptAnything%2522%250A%2520%2520%2520%2520%2520%2520%2520%2520%257D%250A%2520%2520%2520%2520%255D%252C%250A%2520%2520%2520%2520%2522transports%2522%253A%250A%2520%2520%2520%2520%2520%2520%2520%2520%257B%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2522docker-daemon%2522%253A%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%257B%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2522%2522%253A%2520%255B%257B%2522type%2522%253A%2522insecureAcceptAnything%2522%257D%255D%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%257D%250A%2520%2520%2520%2520%2520%2520%2520%2520%257D%250A%257D%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mode%22%3A%20420%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22overwrite%22%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22path%22%3A%20%22%2Fetc%2Fcontainers%2Fpolicy.json%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22source%22%3A%20%22data%3A%2C%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mode%22%3A%20420%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22overwrite%22%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22path%22%3A%20%22%2Fetc%2Fkubernetes%2Fcloud.conf%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22source%22%3A%20%22data%3A%2Ckind%253A%2520KubeletConfiguration%250AapiVersion%253A%2520kubelet.config.k8s.io%252Fv1beta1%250Aauthentication%253A%250A%2520%2520x509%253A%250A%2520%2520%2520%2520clientCAFile%253A%2520%252Fetc%252Fkubernetes%252Fkubelet-ca.crt%250A%2520%2520anonymous%253A%250A%2520%2520%2520%2520enabled%253A%2520false%250AcgroupDriver%253A%2520systemd%250AcgroupRoot%253A%2520%252F%250AclusterDNS%253A%250A%2520%2520-%2520172.30.0.10%250AclusterDomain%253A%2520cluster.local%250AcontainerLogMaxSize%253A%252050Mi%250AmaxPods%253A%2520250%250AkubeAPIQPS%253A%252050%250AkubeAPIBurst%253A%2520100%250ArotateCertificates%253A%2520true%250AserializeImagePulls%253A%2520false%250AstaticPodPath%253A%2520%252Fetc%252Fkubernetes%252Fmanifests%250AsystemCgroups%253A%2520%252Fsystem.slice%250AsystemReserved%253A%250A%2520%2520ephemeral-storage%253A%25201Gi%250AfeatureGates%253A%250A%2520%2520APIPriorityAndFairness%253A%2520true%250A%2520%2520LegacyNodeRoleBehavior%253A%2520false%250A%2520%2520NodeDisruptionExclusion%253A%2520true%250A%2520%2520RotateKubeletServerCertificate%253A%2520true%250A%2520%2520ServiceNodeExclusion%253A%2520true%250A%2520%2520SupportPodPidsLimit%253A%2520true%250A%2520%2520DownwardAPIHugePages%253A%2520true%250A%2520%2520PodSecurity%253A%2520true%250A%2520%2520CSIMigrationAWS%253A%2520false%250A%2520%2520CSIMigrationAzureDisk%253A%2520false%250A%2520%2520CSIMigrationAzureFile%253A%2520false%250A%2520%2520CSIMigrationGCE%253A%2520false%250A%2520%2520CSIMigrationOpenStack%253A%2520false%250A%2520%2520CSIMigrationvSphere%253A%2520false%250AserverTLSBootstrap%253A%2520true%250AtlsMinVersion%253A%2520VersionTLS12%250AtlsCipherSuites%253A%250A%2520%2520-%2520TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256%250A%2520%2520-%2520TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256%250A%2520%2520-%2520TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384%250A%2520%2520-%2520TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384%250A%2520%2520-%2520TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256%250A%2520%2520-%2520TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256%250A%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22mode%22%3A%20420%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22overwrite%22%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22path%22%3A%20%22%2Fetc%2Fkubernetes%2Fkubelet.conf%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22systemd%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22units%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%22%5BUnit%5D%5CnDescription%3DFetch%20kubelet%20node%20name%20from%20AWS%20Metadata%5Cn%23%20Wait%20for%20NetworkManager%20to%20report%20it's%20online%5CnAfter%3DNetworkManager-wait-online.service%5Cn%23%20Run%20before%20kubelet%5CnBefore%3Dkubelet.service%5Cn%5Cn%5BService%5D%5CnExecStart%3D%2Fusr%2Flocal%2Fbin%2Faws-kubelet-nodename%5CnType%3Doneshot%5Cn%5Cn%5BInstall%5D%5CnWantedBy%3Dnetwork-online.target%5Cn%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22enabled%22%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22name%22%3A%20%22aws-kubelet-nodename.service%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22dropins%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22name%22%3A%20%2210-mco-default-env.conf%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%22%5BService%5D%5CnEnvironment%3D%5C%22ENABLE_PROFILE_UNIX_SOCKET%3Dtrue%5C%22%5Cn%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22name%22%3A%20%2210-mco-profile-unix-socket.conf%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%22%5BService%5D%5CnEnvironment%3D%5C%22GODEBUG%3Dx509ignoreCN%3D0%2Cmadvdontneed%3D1%5C%22%5Cn%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22name%22%3A%20%2210-mco-default-madv.conf%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22name%22%3A%20%22crio.service%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22dropins%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%22%5BUnit%5D%5CnConditionPathExists%3D%2Fenoent%5Cn%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22name%22%3A%20%22mco-disabled.conf%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22name%22%3A%20%22docker.socket%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%22%5BUnit%5D%5CnDescription%3DDynamically%20sets%20the%20system%20reserved%20for%20the%20kubelet%5CnWants%3Dnetwork-online.target%5CnAfter%3Dnetwork-online.target%20ignition-firstboot-complete.service%5CnBefore%3Dkubelet.service%20crio.service%5Cn%5BService%5D%5Cn%23%20Need%20oneshot%20to%20delay%20kubelet%5CnType%3Doneshot%5CnRemainAfterExit%3Dyes%5CnEnvironmentFile%3D%2Fetc%2Fnode-sizing-enabled.env%5CnExecStart%3D%2Fbin%2Fbash%20%2Fusr%2Flocal%2Fsbin%2Fdynamic-system-reserved-calc.sh%20%24%7BNODE_SIZING_ENABLED%7D%20%24%7BSYSTEM_RESERVED_MEMORY%7D%20%24%7BSYSTEM_RESERVED_CPU%7D%5Cn%5BInstall%5D%5CnRequiredBy%3Dkubelet.service%5Cn%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22enabled%22%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22name%22%3A%20%22kubelet-auto-node-size.service%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%22%5BUnit%5D%5CnDescription%3DKubernetes%20Kubelet%5CnWants%3Drpc-statd.service%20network-online.target%5CnRequires%3Dcrio.service%20kubelet-auto-node-size.service%5CnAfter%3Dnetwork-online.target%20crio.service%20kubelet-auto-node-size.service%5CnAfter%3Dostree-finalize-staged.service%5Cn%5Cn%5BService%5D%5CnType%3Dnotify%5CnExecStartPre%3D%2Fbin%2Fmkdir%20--parents%20%2Fetc%2Fkubernetes%2Fmanifests%5CnExecStartPre%3D%2Fbin%2Frm%20-f%20%2Fvar%2Flib%2Fkubelet%2Fcpu_manager_state%5CnExecStartPre%3D%2Fbin%2Frm%20-f%20%2Fvar%2Flib%2Fkubelet%2Fmemory_manager_state%5CnEnvironmentFile%3D%2Fetc%2Fos-release%5CnEnvironmentFile%3D-%2Fetc%2Fkubernetes%2Fkubelet-workaround%5CnEnvironmentFile%3D-%2Fetc%2Fkubernetes%2Fkubelet-env%5CnEnvironmentFile%3D%2Fetc%2Fnode-sizing.env%5Cn%5CnExecStart%3D%2Fusr%2Fbin%2Fhyperkube%20%5C%5C%5Cn%20%20%20%20kubelet%20%5C%5C%5Cn%20%20%20%20%20%20--config%3D%2Fetc%2Fkubernetes%2Fkubelet.conf%20%5C%5C%5Cn%20%20%20%20%20%20--bootstrap-kubeconfig%3D%2Fetc%2Fkubernetes%2Fkubeconfig%20%5C%5C%5Cn%20%20%20%20%20%20--kubeconfig%3D%2Fvar%2Flib%2Fkubelet%2Fkubeconfig%20%5C%5C%5Cn%20%20%20%20%20%20--container-runtime%3Dremote%20%5C%5C%5Cn%20%20%20%20%20%20--container-runtime-endpoint%3D%2Fvar%2Frun%2Fcrio%2Fcrio.sock%20%5C%5C%5Cn%20%20%20%20%20%20--runtime-cgroups%3D%2Fsystem.slice%2Fcrio.service%20%5C%5C%5Cn%20%20%20%20%20%20--node-labels%3Dnode-role.kubernetes.io%2Fworker%2Cnode.openshift.io%2Fos_id%3D%24%7BID%7D%20%5C%5C%5Cn%20%20%20%20%20%20--node-ip%3D%24%7BKUBELET_NODE_IP%7D%20%5C%5C%5Cn%20%20%20%20%20%20--minimum-container-ttl-duration%3D6m0s%20%5C%5C%5Cn%20%20%20%20%20%20--volume-plugin-dir%3D%2Fetc%2Fkubernetes%2Fkubelet-plugins%2Fvolume%2Fexec%20%5C%5C%5Cn%20%20%20%20%20%20--cloud-provider%3Daws%20%5C%5C%5Cn%20%20%20%20%20%20%20%5C%5C%5Cn%20%20%20%20%20%20--hostname-override%3D%24%7BKUBELET_NODE_NAME%7D%20%5C%5C%5Cn%20%20%20%20%20%20--pod-infra-container-image%3Dquay.io%2Fopenshift-release-dev%2Focp-v4.0-art-dev%40sha256%3Abfa295c67ade9ee09776834941c35a5a3375a4be8811ebd8dc072dd0b20f9e27%20%5C%5C%5Cn%20%20%20%20%20%20--system-reserved%3Dcpu%3D%24%7BSYSTEM_RESERVED_CPU%7D%2Cmemory%3D%24%7BSYSTEM_RESERVED_MEMORY%7D%20%5C%5C%5Cn%20%20%20%20%20%20--v%3D%24%7BKUBELET_LOG_LEVEL%7D%5Cn%5CnRestart%3Dalways%5CnRestartSec%3D10%5Cn%5Cn%5BInstall%5D%5CnWantedBy%3Dmulti-user.target%5Cn%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22dropins%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22name%22%3A%20%2210-mco-default-env.conf%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%22%5BService%5D%5CnEnvironment%3D%5C%22GODEBUG%3Dx509ignoreCN%3D0%2Cmadvdontneed%3D1%5C%22%5Cn%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22name%22%3A%20%2210-mco-default-madv.conf%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22enabled%22%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22name%22%3A%20%22kubelet.service%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%22%5BUnit%5D%5CnDescription%3DMachine%20Config%20Daemon%20Firstboot%5Cn%23%20Make%20sure%20it%20runs%20only%20on%20OSTree%20booted%20system%5CnConditionPathExists%3D%2Frun%2Fostree-booted%5Cn%23%20Removal%20of%20this%20file%20signals%20firstboot%20completion%5CnConditionPathExists%3D%2Fetc%2Fignition-machine-config-encapsulated.json%5CnAfter%3Dmachine-config-daemon-pull.service%5CnBefore%3Dcrio.service%20kubelet.service%5Cn%5Cn%5BService%5D%5CnType%3Doneshot%5CnRemainAfterExit%3Dyes%5Cn%23%20Disable%20existing%20repos%20(if%20any)%20so%20that%20OS%20extensions%20would%20use%20embedded%20RPMs%20only%5CnExecStartPre%3D-%2Fusr%2Fbin%2Fsh%20-c%20%5C%22sed%20-i%20's%2Fenabled%3D1%2Fenabled%3D0%2F'%20%2Fetc%2Fyum.repos.d%2F*.repo%5C%22%5CnExecStart%3D%2Frun%2Fbin%2Fmachine-config-daemon%20firstboot-complete-machineconfig%5Cn%5BInstall%5D%5CnWantedBy%3Dmulti-user.target%5CnRequiredBy%3Dcrio.service%20kubelet.service%5Cn%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22enabled%22%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22name%22%3A%20%22machine-config-daemon-firstboot.service%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%22%5BUnit%5D%5CnDescription%3DMachine%20Config%20Daemon%20Pull%5Cn%23%20Make%20sure%20it%20runs%20only%20on%20OSTree%20booted%20system%5CnConditionPathExists%3D%2Frun%2Fostree-booted%5Cn%23%20This%20%5C%22stamp%20file%5C%22%20is%20unlinked%20when%20we%20complete%5Cn%23%20machine-config-daemon-firstboot.service%5CnConditionPathExists%3D%2Fetc%2Fignition-machine-config-encapsulated.json%5Cn%23%20Run%20after%20crio-wipe%20so%20the%20pulled%20MCD%20image%20is%20protected%20against%20a%20corrupted%20storage%20from%20a%20forced%20shutdown%5CnWants%3Dnetwork-online.target%20crio-wipe.service%5CnAfter%3Dnetwork-online.target%20crio-wipe.service%5Cn%5Cn%5BService%5D%5CnType%3Doneshot%5CnRemainAfterExit%3Dyes%5Cn%23%20See%20https%3A%2F%2Fgithub.com%2Fcoreos%2Ffedora-coreos-tracker%2Fissues%2F354%5CnExecStart%3D%2Fbin%2Fsh%20-c%20'%2Fbin%2Fmkdir%20-p%20%2Frun%2Fbin%20%5Cu0026%5Cu0026%20chcon%20--reference%3D%2Fusr%2Fbin%20%2Frun%2Fbin'%5CnExecStart%3D%2Fbin%2Fsh%20-c%20%5C%22while%20!%20%2Fusr%2Fbin%2Fpodman%20pull%20--authfile%3D%2Fvar%2Flib%2Fkubelet%2Fconfig.json%20--quiet%20'quay.io%2Fopenshift-release-dev%2Focp-v4.0-art-dev%40sha256%3A62b0101633bc21b6bcc102921b6dc07e1f04552980cb6026da218d4f32eb449e'%3B%20do%20sleep%201%3B%20done%5C%22%5CnExecStart%3D%2Fusr%2Fbin%2Fpodman%20run%20--rm%20--quiet%20--net%3Dhost%20-v%20%2Frun%2Fbin%3A%2Fhost%2Frun%2Fbin%3Az%20--entrypoint%3Dcp%20'quay.io%2Fopenshift-release-dev%2Focp-v4.0-art-dev%40sha256%3A62b0101633bc21b6bcc102921b6dc07e1f04552980cb6026da218d4f32eb449e'%20%2Fusr%2Fbin%2Fmachine-config-daemon%20%2Fhost%2Frun%2Fbin%5CnExecStart%3D%2Fbin%2Fchcon%20system_u%3Aobject_r%3Abin_t%3As0%20%2Frun%2Fbin%2Fmachine-config-daemon%5Cn%5BInstall%5D%5CnRequiredBy%3Dmachine-config-daemon-firstboot.service%5Cn%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22enabled%22%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22name%22%3A%20%22machine-config-daemon-pull.service%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%22%5BUnit%5D%5CnDescription%3DWait%20for%20a%20non-localhost%20hostname%5CnBefore%3Dnetwork-online.target%5Cn%5Cn%5BService%5D%5CnType%3Doneshot%5CnRemainAfterExit%3Dyes%5CnUser%3Droot%5CnExecStart%3D%2Fusr%2Flocal%2Fbin%2Fmco-hostname%20--wait%5Cn%5Cn%23%20Wait%20up%20to%205min%20for%20the%20node%20to%20get%20a%20non-localhost%20name%5CnTimeoutSec%3D300%5Cn%5Cn%5BInstall%5D%5CnWantedBy%3Dmulti-user.target%5Cn%23%20Ensure%20that%20network-online.target%20will%20not%20complete%20until%20the%20node%20has%20a%20non-localhost%20hostname.%5CnRequiredBy%3Dnetwork-online.target%5Cn%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22enabled%22%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22name%22%3A%20%22node-valid-hostname.service%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%22%5BUnit%5D%5CnDescription%3DWrites%20IP%20address%20configuration%20so%20that%20kubelet%20and%20crio%20services%20select%20a%20valid%20node%20IP%5CnWants%3Dnetwork-online.target%20crio-wipe.service%5CnAfter%3Dnetwork-online.target%20ignition-firstboot-complete.service%20crio-wipe.service%5CnBefore%3Dkubelet.service%20crio.service%5Cn%5Cn%5BService%5D%5Cn%23%20Need%20oneshot%20to%20delay%20kubelet%5CnType%3Doneshot%5Cn%23%20Would%20prefer%20to%20do%20Restart%3Don-failure%20instead%20of%20this%20bash%20retry%20loop%2C%20but%5Cn%23%20the%20version%20of%20systemd%20we%20have%20right%20now%20doesn't%20support%20it.%20It%20should%20be%5Cn%23%20available%20in%20systemd%20v244%20and%20higher.%5CnExecStart%3D%2Fbin%2Fbash%20-c%20%5C%22%20%5C%5C%5Cn%20%20until%20%5C%5C%5Cn%20%20%2Fusr%2Fbin%2Fpodman%20run%20--rm%20%5C%5C%5Cn%20%20--authfile%20%2Fvar%2Flib%2Fkubelet%2Fconfig.json%20%5C%5C%5Cn%20%20--net%3Dhost%20%5C%5C%5Cn%20%20--volume%20%2Fetc%2Fsystemd%2Fsystem%3A%2Fetc%2Fsystemd%2Fsystem%3Az%20%5C%5C%5Cn%20%20quay.io%2Fopenshift-release-dev%2Focp-v4.0-art-dev%40sha256%3A784cb6796adc967dad4027bd060d9546291af2b2dc7de1dbd3cacb3b07636b36%20%5C%5C%5Cn%20%20node-ip%20%5C%5C%5Cn%20%20set%20%5C%5C%5Cn%20%20--retry-on-failure%3B%20%5C%5C%5Cn%20%20do%20%5C%5C%5Cn%20%20sleep%205%3B%20%5C%5C%5Cn%20%20done%5C%22%5CnExecStart%3D%2Fbin%2Fsystemctl%20daemon-reload%5Cn%5Cn%5BInstall%5D%5CnRequiredBy%3Dkubelet.service%5Cn%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22enabled%22%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22name%22%3A%20%22nodeip-configuration.service%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22enabled%22%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22name%22%3A%20%22openvswitch.service%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%22%5BUnit%5D%5CnDescription%3DConfigures%20OVS%20with%20proper%20host%20networking%20configuration%5Cn%23%20Removal%20of%20this%20file%20signals%20firstboot%20completion%5CnConditionPathExists%3D!%2Fetc%2Fignition-machine-config-encapsulated.json%5Cn%23%20This%20service%20is%20used%20to%20move%20a%20physical%20NIC%20into%20OVS%20and%20reconfigure%20OVS%20to%20use%20the%20host%20IP%5CnRequires%3Dopenvswitch.service%5CnWants%3DNetworkManager-wait-online.service%5CnAfter%3DNetworkManager-wait-online.service%20openvswitch.service%20network.service%5CnBefore%3Dnetwork-online.target%20kubelet.service%20crio.service%20node-valid-hostname.service%5Cn%5Cn%5BService%5D%5Cn%23%20Need%20oneshot%20to%20delay%20kubelet%5CnType%3Doneshot%5CnExecStart%3D%2Fusr%2Flocal%2Fbin%2Fconfigure-ovs.sh%20OpenShiftSDN%5CnStandardOutput%3Djournal%2Bconsole%5CnStandardError%3Djournal%2Bconsole%5Cn%5Cn%5BInstall%5D%5CnWantedBy%3Dnetwork-online.target%5Cn%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22enabled%22%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22name%22%3A%20%22ovs-configuration.service%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22dropins%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%22%5BService%5D%5CnRestart%3Dalways%5CnExecStartPre%3D-%2Fbin%2Fsh%20-c%20'%2Fusr%2Fbin%2Fchown%20-R%20%3A%24%24%7BOVS_USER_ID%23%23*%3A%7D%20%2Fvar%2Flib%2Fopenvswitch'%5CnExecStartPre%3D-%2Fbin%2Fsh%20-c%20'%2Fusr%2Fbin%2Fchown%20-R%20%3A%24%24%7BOVS_USER_ID%23%23*%3A%7D%20%2Fetc%2Fopenvswitch'%5CnExecStartPre%3D-%2Fbin%2Fsh%20-c%20'%2Fusr%2Fbin%2Fchown%20-R%20%3A%24%24%7BOVS_USER_ID%23%23*%3A%7D%20%2Frun%2Fopenvswitch'%5CnExecStartPost%3D-%2Fusr%2Fbin%2Fovs-appctl%20vlog%2Fset%20syslog%3Ainfo%5CnExecReload%3D-%2Fusr%2Fbin%2Fovs-appctl%20vlog%2Fset%20syslog%3Ainfo%5Cn%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22name%22%3A%20%2210-ovs-vswitchd-restart.conf%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22name%22%3A%20%22ovs-vswitchd.service%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22dropins%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%22%5BService%5D%5CnRestart%3Dalways%5Cn%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22name%22%3A%20%2210-ovsdb-restart.conf%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22enabled%22%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22name%22%3A%20%22ovsdb-server.service%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22dropins%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22name%22%3A%20%2210-mco-default-env.conf%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22name%22%3A%20%22pivot.service%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22dropins%22%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22contents%22%3A%20%22%5BUnit%5D%5CnConditionPathExists%3D%2Fenoent%5Cn%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22name%22%3A%20%22mco-disabled.conf%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22name%22%3A%20%22zincati.service%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%22kernelArguments%22%3A%20%5B%5D%2C%0A%20%20%20%20%20%20%20%20%22extensions%22%3A%20%5B%5D%2C%0A%20%20%20%20%20%20%20%20%22fips%22%3A%20false%2C%0A%20%20%20%20%20%20%20%20%22kernelType%22%3A%20%22default%22%0A%20%20%20%20%7D%0A%7D","verification":{}},"mode":420},{"group":{},"overwrite":true,"path":"/etc/ignition-machine-config-encapsulated.json","user":{},"contents":{"source":"data:,%7B%22metadata%22%3A%7B%22name%22%3A%22rendered-worker-f0e071d98b81d59642a592f1d5cd0c89%22%2C%22uid%22%3A%22b42edfb7-245a-4b85-8333-b6da90ac5347%22%2C%22resourceVersion%22%3A%227371%22%2C%22generation%22%3A1%2C%22annotations%22%3A%7B%22machineconfiguration.openshift.io%2Fgenerated-by-controller-version%22%3A%2214a1ca2cb91ff7e0faf9146b21ba12cd6c652d22%22%2C%22machineconfiguration.openshift.io%2Frelease-image-version%22%3A%224.10.0-rc.2%22%7D%2C%22ownerReferences%22%3A%5B%7B%22apiVersion%22%3A%22machineconfiguration.openshift.io%2Fv1%22%2C%22kind%22%3A%22MachineConfigPool%22%2C%22name%22%3A%22worker%22%2C%22uid%22%3A%22f306ea75-bc63-4bf8-8c55-3f6c4c5b7cce%22%2C%22controller%22%3Atrue%2C%22blockOwnerDeletion%22%3Atrue%7D%5D%2C%22managedFields%22%3A%5B%7B%22manager%22%3A%22machine-config-controller%22%2C%22operation%22%3A%22Update%22%2C%22apiVersion%22%3A%22machineconfiguration.openshift.io%2Fv1%22%2C%22time%22%3A%222022-03-14T18%3A07%3A55Z%22%2C%22fieldsType%22%3A%22FieldsV1%22%2C%22fieldsV1%22%3A%7B%22f%3Ametadata%22%3A%7B%22f%3Aannotations%22%3A%7B%22.%22%3A%7B%7D%2C%22f%3Amachineconfiguration.openshift.io%2Fgenerated-by-controller-version%22%3A%7B%7D%2C%22f%3Amachineconfiguration.openshift.io%2Frelease-image-version%22%3A%7B%7D%7D%2C%22f%3AownerReferences%22%3A%7B%22.%22%3A%7B%7D%2C%22k%3A%7B%5C%22uid%5C%22%3A%5C%22f306ea75-bc63-4bf8-8c55-3f6c4c5b7cce%5C%22%7D%22%3A%7B%7D%7D%7D%2C%22f%3Aspec%22%3A%7B%22.%22%3A%7B%7D%2C%22f%3Aconfig%22%3A%7B%22.%22%3A%7B%7D%2C%22f%3Aignition%22%3A%7B%22.%22%3A%7B%7D%2C%22f%3Aversion%22%3A%7B%7D%7D%2C%22f%3Apasswd%22%3A%7B%22.%22%3A%7B%7D%2C%22f%3Ausers%22%3A%7B%7D%7D%2C%22f%3Astorage%22%3A%7B%22.%22%3A%7B%7D%2C%22f%3Afiles%22%3A%7B%7D%7D%2C%22f%3Asystemd%22%3A%7B%22.%22%3A%7B%7D%2C%22f%3Aunits%22%3A%7B%7D%7D%7D%2C%22f%3Aextensions%22%3A%7B%7D%2C%22f%3Afips%22%3A%7B%7D%2C%22f%3AkernelArguments%22%3A%7B%7D%2C%22f%3AkernelType%22%3A%7B%7D%2C%22f%3AosImageURL%22%3A%7B%7D%7D%7D%7D%5D%7D%2C%22spec%22%3A%7B%22osImageURL%22%3A%22quay.io%2Fopenshift-release-dev%2Focp-v4.0-art-dev%40sha256%3A1b5db764a79066c90a06f05efe2bc69ab974391edffbfe155f01996c133a848c%22%2C%22config%22%3A%7B%22ignition%22%3A%7B%22version%22%3A%223.2.0%22%7D%7D%2C%22kernelArguments%22%3A%5B%5D%2C%22extensions%22%3A%5B%5D%2C%22fips%22%3Afalse%2C%22kernelType%22%3A%22default%22%7D%7D","verification":{}},"mode":420}]},"systemd":{"units":[{"contents":"[Unit]\nDescription=Fetch kubelet node name from AWS Metadata\n# Wait for NetworkManager to report it's online\nAfter=NetworkManager-wait-online.service\n# Run before kubelet\nBefore=kubelet.service\n\n[Service]\nExecStart=/usr/local/bin/aws-kubelet-nodename\nType=oneshot\n\n[Install]\nWantedBy=network-online.target\n","enabled":true,"name":"aws-kubelet-nodename.service"},{"dropins":[{"contents":"","name":"10-mco-default-env.conf"},{"contents":"[Service]\nEnvironment=\"ENABLE_PROFILE_UNIX_SOCKET=true\"\n","name":"10-mco-profile-unix-socket.conf"},{"contents":"[Service]\nEnvironment=\"GODEBUG=x509ignoreCN=0,madvdontneed=1\"\n","name":"10-mco-default-madv.conf"}],"name":"crio.service"},{"dropins":[{"contents":"[Unit]\nConditionPathExists=/enoent\n","name":"mco-disabled.conf"}],"name":"docker.socket"},{"contents":"[Unit]\nDescription=Dynamically sets the system reserved for the kubelet\nWants=network-online.target\nAfter=network-online.target ignition-firstboot-complete.service\nBefore=kubelet.service crio.service\n[Service]\n# Need oneshot to delay kubelet\nType=oneshot\nRemainAfterExit=yes\nEnvironmentFile=/etc/node-sizing-enabled.env\nExecStart=/bin/bash /usr/local/sbin/dynamic-system-reserved-calc.sh ${NODE_SIZING_ENABLED} ${SYSTEM_RESERVED_MEMORY} ${SYSTEM_RESERVED_CPU}\n[Install]\nRequiredBy=kubelet.service\n","enabled":true,"name":"kubelet-auto-node-size.service"},{"contents":"[Unit]\nDescription=Kubernetes Kubelet\nWants=rpc-statd.service network-online.target\nRequires=crio.service kubelet-auto-node-size.service\nAfter=network-online.target crio.service kubelet-auto-node-size.service\nAfter=ostree-finalize-staged.service\n\n[Service]\nType=notify\nExecStartPre=/bin/mkdir --parents /etc/kubernetes/manifests\nExecStartPre=/bin/rm -f /var/lib/kubelet/cpu_manager_state\nExecStartPre=/bin/rm -f /var/lib/kubelet/memory_manager_state\nEnvironmentFile=/etc/os-release\nEnvironmentFile=-/etc/kubernetes/kubelet-workaround\nEnvironmentFile=-/etc/kubernetes/kubelet-env\nEnvironmentFile=/etc/node-sizing.env\n\nExecStart=/usr/bin/hyperkube \\\n    kubelet \\\n      --config=/etc/kubernetes/kubelet.conf \\\n      --bootstrap-kubeconfig=/etc/kubernetes/kubeconfig \\\n      --kubeconfig=/var/lib/kubelet/kubeconfig \\\n      --container-runtime=remote \\\n      --container-runtime-endpoint=/var/run/crio/crio.sock \\\n      --runtime-cgroups=/system.slice/crio.service \\\n      --node-labels=node-role.kubernetes.io/worker,node.openshift.io/os_id=${ID} \\\n      --node-ip=${KUBELET_NODE_IP} \\\n      --minimum-container-ttl-duration=6m0s \\\n      --volume-plugin-dir=/etc/kubernetes/kubelet-plugins/volume/exec \\\n      --cloud-provider=aws \\\n       \\\n      --hostname-override=${KUBELET_NODE_NAME} \\\n      --pod-infra-container-image=quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:bfa295c67ade9ee09776834941c35a5a3375a4be8811ebd8dc072dd0b20f9e27 \\\n      --system-reserved=cpu=${SYSTEM_RESERVED_CPU},memory=${SYSTEM_RESERVED_MEMORY} \\\n      --v=${KUBELET_LOG_LEVEL}\n\nRestart=always\nRestartSec=10\n\n[Install]\nWantedBy=multi-user.target\n","dropins":[{"contents":"","name":"10-mco-default-env.conf"},{"contents":"[Service]\nEnvironment=\"GODEBUG=x509ignoreCN=0,madvdontneed=1\"\n","name":"10-mco-default-madv.conf"}],"enabled":true,"name":"kubelet.service"},{"contents":"[Unit]\nDescription=Machine Config Daemon Firstboot\n# Make sure it runs only on OSTree booted system\nConditionPathExists=/run/ostree-booted\n# Removal of this file signals firstboot completion\nConditionPathExists=/etc/ignition-machine-config-encapsulated.json\nAfter=machine-config-daemon-pull.service\nBefore=crio.service kubelet.service\n\n[Service]\nType=oneshot\nRemainAfterExit=yes\n# Disable existing repos (if any) so that OS extensions would use embedded RPMs only\nExecStartPre=-/usr/bin/sh -c \"sed -i 's/enabled=1/enabled=0/' /etc/yum.repos.d/*.repo\"\nExecStart=/run/bin/machine-config-daemon firstboot-complete-machineconfig\n[Install]\nWantedBy=multi-user.target\nRequiredBy=crio.service kubelet.service\n","enabled":true,"name":"machine-config-daemon-firstboot.service"},{"contents":"[Unit]\nDescription=Machine Config Daemon Pull\n# Make sure it runs only on OSTree booted system\nConditionPathExists=/run/ostree-booted\n# This \"stamp file\" is unlinked when we complete\n# machine-config-daemon-firstboot.service\nConditionPathExists=/etc/ignition-machine-config-encapsulated.json\n# Run after crio-wipe so the pulled MCD image is protected against a corrupted storage from a forced shutdown\nWants=network-online.target crio-wipe.service\nAfter=network-online.target crio-wipe.service\n\n[Service]\nType=oneshot\nRemainAfterExit=yes\n# See https://github.com/coreos/fedora-coreos-tracker/issues/354\nExecStart=/bin/sh -c '/bin/mkdir -p /run/bin \u0026\u0026 chcon --reference=/usr/bin /run/bin'\nExecStart=/bin/sh -c \"while ! /usr/bin/podman pull --authfile=/var/lib/kubelet/config.json --quiet 'quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:62b0101633bc21b6bcc102921b6dc07e1f04552980cb6026da218d4f32eb449e'; do sleep 1; done\"\nExecStart=/usr/bin/podman run --rm --quiet --net=host -v /run/bin:/host/run/bin:z --entrypoint=cp 'quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:62b0101633bc21b6bcc102921b6dc07e1f04552980cb6026da218d4f32eb449e' /usr/bin/machine-config-daemon /host/run/bin\nExecStart=/bin/chcon system_u:object_r:bin_t:s0 /run/bin/machine-config-daemon\n[Install]\nRequiredBy=machine-config-daemon-firstboot.service\n","enabled":true,"name":"machine-config-daemon-pull.service"},{"contents":"[Unit]\nDescription=Wait for a non-localhost hostname\nBefore=network-online.target\n\n[Service]\nType=oneshot\nRemainAfterExit=yes\nUser=root\nExecStart=/usr/local/bin/mco-hostname --wait\n\n# Wait up to 5min for the node to get a non-localhost name\nTimeoutSec=300\n\n[Install]\nWantedBy=multi-user.target\n# Ensure that network-online.target will not complete until the node has a non-localhost hostname.\nRequiredBy=network-online.target\n","enabled":true,"name":"node-valid-hostname.service"},{"contents":"[Unit]\nDescription=Writes IP address configuration so that kubelet and crio services select a valid node IP\nWants=network-online.target crio-wipe.service\nAfter=network-online.target ignition-firstboot-complete.service crio-wipe.service\nBefore=kubelet.service crio.service\n\n[Service]\n# Need oneshot to delay kubelet\nType=oneshot\n# Would prefer to do Restart=on-failure instead of this bash retry loop, but\n# the version of systemd we have right now doesn't support it. It should be\n# available in systemd v244 and higher.\nExecStart=/bin/bash -c \" \\\n  until \\\n  /usr/bin/podman run --rm \\\n  --authfile /var/lib/kubelet/config.json \\\n  --net=host \\\n  --volume /etc/systemd/system:/etc/systemd/system:z \\\n  quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:784cb6796adc967dad4027bd060d9546291af2b2dc7de1dbd3cacb3b07636b36 \\\n  node-ip \\\n  set \\\n  --retry-on-failure; \\\n  do \\\n  sleep 5; \\\n  done\"\nExecStart=/bin/systemctl daemon-reload\n\n[Install]\nRequiredBy=kubelet.service\n","enabled":false,"name":"nodeip-configuration.service"},{"enabled":true,"name":"openvswitch.service"},{"contents":"[Unit]\nDescription=Configures OVS with proper host networking configuration\n# Removal of this file signals firstboot completion\nConditionPathExists=!/etc/ignition-machine-config-encapsulated.json\n# This service is used to move a physical NIC into OVS and reconfigure OVS to use the host IP\nRequires=openvswitch.service\nWants=NetworkManager-wait-online.service\nAfter=NetworkManager-wait-online.service openvswitch.service network.service\nBefore=network-online.target kubelet.service crio.service node-valid-hostname.service\n\n[Service]\n# Need oneshot to delay kubelet\nType=oneshot\nExecStart=/usr/local/bin/configure-ovs.sh OpenShiftSDN\nStandardOutput=journal+console\nStandardError=journal+console\n\n[Install]\nWantedBy=network-online.target\n","enabled":true,"name":"ovs-configuration.service"},{"dropins":[{"contents":"[Service]\nRestart=always\nExecStartPre=-/bin/sh -c '/usr/bin/chown -R :$${OVS_USER_ID##*:} /var/lib/openvswitch'\nExecStartPre=-/bin/sh -c '/usr/bin/chown -R :$${OVS_USER_ID##*:} /etc/openvswitch'\nExecStartPre=-/bin/sh -c '/usr/bin/chown -R :$${OVS_USER_ID##*:} /run/openvswitch'\nExecStartPost=-/usr/bin/ovs-appctl vlog/set syslog:info\nExecReload=-/usr/bin/ovs-appctl vlog/set syslog:info\n","name":"10-ovs-vswitchd-restart.conf"}],"name":"ovs-vswitchd.service"},{"dropins":[{"contents":"[Service]\nRestart=always\n","name":"10-ovsdb-restart.conf"}],"enabled":true,"name":"ovsdb-server.service"},{"dropins":[{"contents":"","name":"10-mco-default-env.conf"}],"name":"pivot.service"},{"dropins":[{"contents":"[Unit]\nConditionPathExists=/enoent\n","name":"mco-disabled.conf"}],"name":"zincati.service"}]}}
